/*! For license information please see index.bundle.js.LICENSE.txt */
(()=>{var e={8721:(e,t,n)=>{"use strict";var r=n(7418),i=60103;if("function"==typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),o("react.portal"),o("react.fragment"),o("react.strict_mode"),o("react.profiler"),o("react.provider"),o("react.context"),o("react.forward_ref"),o("react.suspense"),o("react.memo"),o("react.lazy")}"function"==typeof Symbol&&Symbol.iterator;function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},u={};function c(e,t,n){this.props=e,this.context=t,this.refs=u,this.updater=n||s}function l(){}function f(e,t,n){this.props=e,this.context=t,this.refs=u,this.updater=n||s}c.prototype.isReactComponent={},c.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(a(85));this.updater.enqueueSetState(this,e,t,"setState")},c.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},l.prototype=c.prototype;var h=f.prototype=new l;h.constructor=f,r(h,c.prototype),h.isPureReactComponent=!0;var d=null,p=Object.prototype.hasOwnProperty,v={key:!0,ref:!0,__self:!0,__source:!0};t.createElement=function(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)p.call(t,r)&&!v.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:d}}},9741:(e,t,n)=>{"use strict";e.exports=n(8721)},1227:(e,t,n)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(r++,"%c"===e&&(i=r))})),t.splice(i,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(2447)(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},2447:(e,t,n)=>{e.exports=function(e){function t(e){let n;function o(...e){if(!o.enabled)return;const r=o,i=Number(new Date),a=i-(n||i);r.diff=a,r.prev=n,r.curr=i,n=i,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((n,i)=>{if("%%"===n)return n;s++;const o=t.formatters[i];if("function"==typeof o){const t=e[s];n=o.call(r,t),e.splice(s,1),s--}return n})),t.formatArgs.call(r,e),(r.log||t.log).apply(r,e)}return o.namespace=e,o.enabled=t.enabled(e),o.useColors=t.useColors(),o.color=t.selectColor(e),o.destroy=r,o.extend=i,"function"==typeof t.init&&t.init(o),t.instances.push(o),o}function r(){const e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}function i(e,n){const r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(o),...t.skips.map(o).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.names=[],t.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){const e=t.instances[n];e.enabled=t.enabled(e.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(7824),Object.keys(e).forEach((n=>{t[n]=e[n]})),t.instances=[],t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},2355:(e,t,n)=>{e.exports=n(3745)},1899:e=>{var t=2220446049250313e-31;e.exports={EPSILON:t,nearlyEqual:function(e,n,r){var i=Math.abs(e),o=Math.abs(n),a=Math.abs(e-n),s=e===n;return s||(s=a<t)||(s=a<=Math.max(i,o)*r),s}}},4664:e=>{e.exports={distance:function(e,t){var n=e-t;return Math.sqrt(n*n)}}},1218:e=>{e.exports={distance:function(e,t){var n=e-t;return Math.abs(n)}}},8648:e=>{e.exports={distance:function(e,t){var n=e-t;return n*n}}},3745:(e,t,n)=>{var r=n(1227)("dtw"),i=n(5155),o=n(4524),a=n(1899);function s(e,t){i.sequence(e,"firstSequence"),i.sequence(t,"secondSequence")}e.exports=function(e){var t,i,u={distanceCostMatrix:null};void 0===e?u.distance=n(8648).distance:(function(e){if("object"!=typeof e)throw new TypeError("Invalid options type: expected an object");if("string"!=typeof e.distanceMetric&&"function"!=typeof e.distanceFunction)throw new TypeError("Invalid distance types: expected a string distance type or a distance function");if("string"==typeof e.distanceMetric&&"function"==typeof e.distanceFunction)throw new Error("Invalid parameters: provide either a distance metric or function but not both");if("string"==typeof e.distanceMetric){var t=e.distanceMetric.toLowerCase();if("manhattan"!==t&&"euclidean"!==t&&"squaredeuclidean"!==t)throw new Error("Invalid parameter value: Unknown distance metric '"+e.distanceMetric+"'")}}(e),"string"==typeof e.distanceMetric?u.distance=(i=null,"manhattan"===(t=e.distanceMetric.toLowerCase())?i=n(1218).distance:"euclidean"===t?i=n(4664).distance:"squaredeuclidean"===t&&(i=n(8648).distance),i):"function"==typeof e.distanceFunction&&(u.distance=e.distanceFunction)),this.compute=function(e,t,n){var i=Number.POSITIVE_INFINITY;if(void 0===n)i=function(e,t,n){r("> computeOptimalPath"),s(e,t);var i=(new Date).getTime();n.m=e.length,n.n=t.length;var a=o.create(n.m,n.n,Number.POSITIVE_INFINITY);a[0][0]=n.distance(e[0],t[0]);for(var u=1;u<n.m;u++){var c=n.distance(e[u],t[0]);a[u][0]=c+a[u-1][0]}for(var l=1;l<n.n;l++)c=n.distance(e[0],t[l]),a[0][l]=c+a[0][l-1];for(u=1;u<n.m;u++)for(l=1;l<n.n;l++)c=n.distance(e[u],t[l]),a[u][l]=c+Math.min(a[u-1][l],a[u][l-1],a[u-1][l-1]);var f=(new Date).getTime();return r("< computeOptimalPath ("+(f-i)+" ms)"),n.distanceCostMatrix=a,n.similarity=a[n.m-1][n.n-1],n.similarity}(e,t,u);else{if("number"!=typeof n)throw new TypeError("Invalid window parameter type: expected a number");i=function(e,t,n,i){r("> computeOptimalPathWithWindow"),s(e,t);var a=(new Date).getTime();i.m=e.length,i.n=t.length;var u=Math.max(n,Math.abs(e.length-t.length)),c=o.create(i.m+1,i.n+1,Number.POSITIVE_INFINITY);c[0][0]=0;for(var l=1;l<=i.m;l++)for(var f=Math.max(1,l-u);f<=Math.min(i.n,l+u);f++){var h=i.distance(e[l-1],t[f-1]);c[l][f]=h+Math.min(c[l-1][f],c[l][f-1],c[l-1][f-1])}var d=(new Date).getTime();return r("< computeOptimalPathWithWindow ("+(d-a)+" ms)"),c.shift(),c=c.map((function(e){return e.slice(1,e.length)})),i.distanceCostMatrix=c,i.similarity=c[i.m-1][i.n-1],i.similarity}(e,t,n,u)}return i},this.path=function(){var e=null;return u.distanceCostMatrix instanceof Array&&(e=function(e){r("> retrieveOptimalPath");for(var t=(new Date).getTime(),n=e.m-1,i=e.n-1,o=[[n,i]],s=1e-14;n>0||i>0;){if(n>0&&i>0){var u=Math.min(e.distanceCostMatrix[n-1][i],e.distanceCostMatrix[n][i-1],e.distanceCostMatrix[n-1][i-1]);a.nearlyEqual(u,e.distanceCostMatrix[n-1][i-1],s)?(n--,i--):a.nearlyEqual(u,e.distanceCostMatrix[n-1][i],s)?n--:a.nearlyEqual(u,e.distanceCostMatrix[n][i-1],s)&&i--}else n>0&&0===i?n--:0===n&&i>0&&i--;o.push([n,i])}var c=(new Date).getTime();return r("< retrieveOptimalPath ("+(c-t)+" ms)"),o.reverse()}(u)),e}}},4524:e=>{var t=function(e,t){if("number"!=typeof e)throw new TypeError("Invalid length type");if(void 0===t)throw new Error("Invalid value: expected a value to be provided");for(var n=new Array(e),r=0;r<e;r++)n[r]=t;return n};e.exports={create:function(e,n,r){for(var i=[],o=0;o<e;o++)i.push(t(n,r));return i}}},5155:e=>{e.exports={sequence:function(e,t){if(!(e instanceof Array))throw new TypeError("Invalid sequence '"+t+"' type: expected an array");if(e.length<1)throw new Error("Invalid number of sequence data points for '"+t+"': expected at least one");if("number"!=typeof e[0])throw new TypeError("Invalid data points types for sequence '"+t+"': expected a number")}}},8679:(e,t,n)=>{"use strict";var r=n(1296),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var a=l(n);f&&(a=a.concat(f(n)));for(var s=u(t),v=u(n),y=0;y<a.length;++y){var m=a[y];if(!(o[m]||r&&r[m]||v&&v[m]||s&&s[m])){var g=h(n,m);try{c(t,m,g)}catch(e){}}}}return t}},6103:(e,t)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function E(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case o:case s:case a:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case y:case v:case u:return e;default:return t}}case i:return t}}}function S(e){return E(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=h,t.Fragment=o,t.Lazy=y,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=d,t.isAsyncMode=function(e){return S(e)||E(e)===l},t.isConcurrentMode=S,t.isContextConsumer=function(e){return E(e)===c},t.isContextProvider=function(e){return E(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return E(e)===h},t.isFragment=function(e){return E(e)===o},t.isLazy=function(e){return E(e)===y},t.isMemo=function(e){return E(e)===v},t.isPortal=function(e){return E(e)===i},t.isProfiler=function(e){return E(e)===s},t.isStrictMode=function(e){return E(e)===a},t.isSuspense=function(e){return E(e)===d},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===f||e===s||e===a||e===d||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===b||e.$$typeof===w||e.$$typeof===m)},t.typeOf=E},1296:(e,t,n)=>{"use strict";e.exports=n(6103)},7824:e=>{var t=1e3,n=60*t,r=60*n,i=24*r;function o(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}e.exports=function(e,a){a=a||{};var s,u,c=typeof e;if("string"===c&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var o=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(o){var a=parseFloat(o[1]);switch((o[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"weeks":case"week":case"w":return 6048e5*a;case"days":case"day":case"d":return a*i;case"hours":case"hour":case"hrs":case"hr":case"h":return a*r;case"minutes":case"minute":case"mins":case"min":case"m":return a*n;case"seconds":case"second":case"secs":case"sec":case"s":return a*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}(e);if("number"===c&&isFinite(e))return a.long?(s=e,(u=Math.abs(s))>=i?o(s,u,i,"day"):u>=r?o(s,u,r,"hour"):u>=n?o(s,u,n,"minute"):u>=t?o(s,u,t,"second"):s+" ms"):function(e){var o=Math.abs(e);return o>=i?Math.round(e/i)+"d":o>=r?Math.round(e/r)+"h":o>=n?Math.round(e/n)+"m":o>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},7418:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var a,s,u=i(e),c=1;c<arguments.length;c++){for(var l in a=Object(arguments[c]))n.call(a,l)&&(u[l]=a[l]);if(t){s=t(a);for(var f=0;f<s.length;f++)r.call(a,s[f])&&(u[s[f]]=a[s[f]])}}return u}},2703:(e,t,n)=>{"use strict";var r=n(414);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},5697:(e,t,n)=>{e.exports=n(2703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4448:(e,t,n)=>{"use strict";var r=n(7294),i=n(7418),o=n(3840);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function y(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new y(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new y(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new y(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new y(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new y(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new y(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new y(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new y(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new y(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0===i.type:!r&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,b);m[t]=new y(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,b);m[t]=new y(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,b);m[t]=new y(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new y(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new y(e,1,!1,e.toLowerCase(),null,!0,!0)}));var E=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=60103,k=60106,_=60107,x=60108,T=60114,I=60109,C=60110,N=60112,P=60113,A=60120,O=60115,R=60116,D=60121,L=60128,M=60129,F=60130,U=60131;if("function"==typeof Symbol&&Symbol.for){var j=Symbol.for;S=j("react.element"),k=j("react.portal"),_=j("react.fragment"),x=j("react.strict_mode"),T=j("react.profiler"),I=j("react.provider"),C=j("react.context"),N=j("react.forward_ref"),P=j("react.suspense"),A=j("react.suspense_list"),O=j("react.memo"),R=j("react.lazy"),D=j("react.block"),j("react.scope"),L=j("react.opaque.id"),M=j("react.debug_trace_mode"),F=j("react.offscreen"),U=j("react.legacy_hidden")}var V,z="function"==typeof Symbol&&Symbol.iterator;function q(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=z&&e[z]||e["@@iterator"])?e:null}function B(e){if(void 0===V)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var K=!1;function W(e,t){if(!e||K)return"";K=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{K=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function G(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return W(e.type,!1);case 11:return W(e.type.render,!1);case 22:return W(e.type._render,!1);case 1:return W(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case _:return"Fragment";case k:return"Portal";case T:return"Profiler";case x:return"StrictMode";case P:return"Suspense";case A:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case O:return H(e.type);case D:return H(e._render);case R:t=e._payload,e=e._init;try{return H(e(t))}catch(e){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml";function he(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function de(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?he(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var pe,ve,ye=(ve=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((pe=pe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ve(e,t)}))}:ve);function me(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ge={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ge.hasOwnProperty(e)&&ge[e]?(""+t).trim():t+"px"}function Ee(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ge).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ge[t]=ge[e]}))}));var Se=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ke(e,t){if(t){if(Se[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Te=null,Ie=null,Ce=null;function Ne(e){if(e=Zr(e)){if("function"!=typeof Te)throw Error(a(280));var t=e.stateNode;t&&(t=ti(t),Te(e.stateNode,e.type,t))}}function Pe(e){Ie?Ce?Ce.push(e):Ce=[e]:Ie=e}function Ae(){if(Ie){var e=Ie,t=Ce;if(Ce=Ie=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Oe(e,t){return e(t)}function Re(e,t,n,r,i){return e(t,n,r,i)}function De(){}var Le=Oe,Me=!1,Fe=!1;function Ue(){null===Ie&&null===Ce||(De(),Ae())}function je(e,t){var n=e.stateNode;if(null===n)return null;var r=ti(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}var Ve=!1;if(f)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){Ve=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(ve){Ve=!1}function qe(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var Be=!1,Ke=null,We=!1,Ge=null,He={onError:function(e){Be=!0,Ke=e}};function Qe(e,t,n,r,i,o,a,s,u){Be=!1,Ke=null,qe.apply(He,arguments)}function $e(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ye(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Xe(e){if($e(e)!==e)throw Error(a(188))}function Je(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=$e(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Xe(i),e;if(o===r)return Xe(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Ze(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,it=!1,ot=[],at=null,st=null,ut=null,ct=new Map,lt=new Map,ft=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function pt(e,t){switch(e){case"focusin":case"focusout":at=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ut=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":lt.delete(t.pointerId)}}function vt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=dt(t,n,r,i,o),null!==t&&null!==(t=Zr(t))&&tt(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function yt(e){var t=Jr(e.target);if(null!==t){var n=$e(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ye(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Zr(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function gt(e,t,n){mt(e)&&n.delete(t)}function bt(){for(it=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=Zr(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==at&&mt(at)&&(at=null),null!==st&&mt(st)&&(st=null),null!==ut&&mt(ut)&&(ut=null),ct.forEach(gt),lt.forEach(gt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,bt)))}function Et(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==at&&wt(at,e),null!==st&&wt(st,e),null!==ut&&wt(ut,e),ct.forEach(t),lt.forEach(t),n=0;n<ft.length;n++)(r=ft[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ft.length&&null===(n=ft[0]).blockedOn;)yt(n),null===n.blockedOn&&ft.shift()}function St(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kt={animationend:St("Animation","AnimationEnd"),animationiteration:St("Animation","AnimationIteration"),animationstart:St("Animation","AnimationStart"),transitionend:St("Transition","TransitionEnd")},_t={},xt={};function Tt(e){if(_t[e])return _t[e];if(!kt[e])return e;var t,n=kt[e];for(t in n)if(n.hasOwnProperty(t)&&t in xt)return _t[e]=n[t];return e}f&&(xt=document.createElement("div").style,"AnimationEvent"in window||(delete kt.animationend.animation,delete kt.animationiteration.animation,delete kt.animationstart.animation),"TransitionEvent"in window||delete kt.transitionend.transition);var It=Tt("animationend"),Ct=Tt("animationiteration"),Nt=Tt("animationstart"),Pt=Tt("transitionend"),At=new Map,Ot=new Map,Rt=["abort","abort",It,"animationEnd",Ct,"animationIteration",Nt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Pt,"transitionEnd","waiting","waiting"];function Dt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Ot.set(r,t),At.set(r,i),c(i,[r])}}(0,o.unstable_now)();var Lt=8;function Mt(e){if(0!=(1&e))return Lt=15,1;if(0!=(2&e))return Lt=14,2;if(0!=(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!=(32&e)?(Lt=11,32):0!=(t=192&e)?(Lt=10,t):0!=(256&e)?(Lt=9,256):0!=(t=3584&e)?(Lt=8,t):0!=(4096&e)?(Lt=7,4096):0!=(t=4186112&e)?(Lt=6,t):0!=(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!=(134217728&e)?(Lt=3,134217728):0!=(t=805306368&e)?(Lt=2,t):0!=(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=Lt=15;else if(0!=(o=134217727&n)){var u=o&~a;0!==u?(r=Mt(u),i=Lt):0!=(s&=o)&&(r=Mt(s),i=Lt)}else 0!=(o=n&~a)?(r=Mt(o),i=Lt):0!==s&&(r=Mt(s),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-Bt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&a)){if(Mt(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Bt(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function jt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Vt(24&~t))?jt(10,t):e;case 10:return 0===(e=Vt(192&~t))?jt(8,t):e;case 8:return 0===(e=Vt(3584&~t))&&0===(e=Vt(4186112&~t))&&(e=512),e;case 2:return 0===(t=Vt(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function Vt(e){return e&-e}function zt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Bt(t)]=n}var Bt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Kt(e)/Wt|0)|0},Kt=Math.log,Wt=Math.LN2,Gt=o.unstable_UserBlockingPriority,Ht=o.unstable_runWithPriority,Qt=!0;function $t(e,t,n,r){Me||De();var i=Xt,o=Me;Me=!0;try{Re(i,e,t,n,r)}finally{(Me=o)||Ue()}}function Yt(e,t,n,r){Ht(Gt,Xt.bind(null,e,t,n,r))}function Xt(e,t,n,r){var i;if(Qt)if((i=0==(4&t))&&0<ot.length&&-1<ht.indexOf(e))e=dt(null,e,t,n,r),ot.push(e);else{var o=Jt(e,t,n,r);if(null===o)i&&pt(e,r);else{if(i){if(-1<ht.indexOf(e))return e=dt(o,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return at=vt(at,e,t,n,r,i),!0;case"dragenter":return st=vt(st,e,t,n,r,i),!0;case"mouseover":return ut=vt(ut,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ct.set(o,vt(ct.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,lt.set(o,vt(lt.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;pt(e,r)}Ar(e,t,r,null,n)}}}function Jt(e,t,n,r){var i=xe(r);if(null!==(i=Jr(i))){var o=$e(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Ye(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Ar(e,t,r,i,n),null}var Zt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return tn=i.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function an(){return!1}function sn(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:an,this.isPropagationStopped=an,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var un,cn,ln,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=sn(fn),dn=i({},fn,{view:0,detail:0}),pn=sn(dn),vn=i({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(un=e.screenX-ln.screenX,cn=e.screenY-ln.screenY):cn=un=0,ln=e),un)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),yn=sn(vn),mn=sn(i({},vn,{dataTransfer:0})),gn=sn(i({},dn,{relatedTarget:0})),bn=sn(i({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=sn(i({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),En=sn(i({},fn,{data:0})),Sn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function Tn(){return xn}var In=sn(i({},dn,{key:function(e){if(e.key){var t=Sn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),Cn=sn(i({},vn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=sn(i({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),Pn=sn(i({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=sn(i({},vn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),On=[9,13,27,32],Rn=f&&"CompositionEvent"in window,Dn=null;f&&"documentMode"in document&&(Dn=document.documentMode);var Ln=f&&"TextEvent"in window&&!Dn,Mn=f&&(!Rn||Dn&&8<Dn&&11>=Dn),Fn=String.fromCharCode(32),Un=!1;function jn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1,qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Kn(e,t,n,r){Pe(r),0<(t=Rr(t,"onChange")).length&&(n=new hn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Gn=null;function Hn(e){xr(e,0)}function Qn(e){if(X(ei(e)))return e}function $n(e,t){if("change"===e)return t}var Yn=!1;if(f){var Xn;if(f){var Jn="oninput"in document;if(!Jn){var Zn=document.createElement("div");Zn.setAttribute("oninput","return;"),Jn="function"==typeof Zn.oninput}Xn=Jn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function er(){Wn&&(Wn.detachEvent("onpropertychange",tr),Gn=Wn=null)}function tr(e){if("value"===e.propertyName&&Qn(Gn)){var t=[];if(Kn(t,Gn,e,xe(e)),e=Hn,Me)e(t);else{Me=!0;try{Oe(e,t)}finally{Me=!1,Ue()}}}}function nr(e,t,n){"focusin"===e?(er(),Gn=n,(Wn=t).attachEvent("onpropertychange",tr)):"focusout"===e&&er()}function rr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Gn)}function ir(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var ar="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},sr=Object.prototype.hasOwnProperty;function ur(e,t){if(ar(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!sr.call(t,n[r])||!ar(e[n[r]],t[n[r]]))return!1;return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var pr=f&&"documentMode"in document&&11>=document.documentMode,vr=null,yr=null,mr=null,gr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;gr||null==vr||vr!==J(r)||(r="selectionStart"in(r=vr)&&dr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},mr&&ur(mr,r)||(mr=r,0<(r=Rr(yr,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}Dt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Dt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Dt(Rt,2);for(var wr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Er=0;Er<wr.length;Er++)Ot.set(wr[Er],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sr));function _r(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(Qe.apply(this,arguments),Be){if(!Be)throw Error(a(198));var l=Ke;Be=!1,Ke=null,We||(We=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function xr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;_r(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;_r(i,s,c),o=u}}}if(We)throw e=Ge,We=!1,Ge=null,e}function Tr(e,t){var n=ni(t),r=e+"__bubble";n.has(r)||(Pr(t,e,2,!1),n.add(r))}var Ir="_reactListening"+Math.random().toString(36).slice(2);function Cr(e){e[Ir]||(e[Ir]=!0,s.forEach((function(t){kr.has(t)||Nr(t,!1,e,null),Nr(t,!0,e,null)})))}function Nr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&kr.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=ni(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),Pr(o,e,i,t),a.add(s))}function Pr(e,t,n,r){var i=Ot.get(t);switch(void 0===i?2:i){case 0:i=$t;break;case 1:i=Yt;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!Ve||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ar(e,t,n,r,i){var o=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=Jr(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e();Fe=!0;try{Le(e,t,n)}finally{Fe=!1,Ue()}}((function(){var r=o,i=xe(n),a=[];e:{var s=At.get(e);if(void 0!==s){var u=hn,c=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":u=In;break;case"focusin":c="focus",u=gn;break;case"focusout":c="blur",u=gn;break;case"beforeblur":case"afterblur":u=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Nn;break;case It:case Ct:case Nt:u=bn;break;case Pt:u=Pn;break;case"scroll":u=pn;break;case"wheel":u=An;break;case"copy":case"cut":case"paste":u=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Cn}var l=0!=(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&null!=(v=je(p,h))&&l.push(Or(p,v,d))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0==(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(c=n.relatedTarget||n.fromElement)||!Jr(c)&&!c[Yr])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?Jr(c):null)&&(c!==(f=$e(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=yn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ei(u),d=null==c?s:ei(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,Jr(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Dr(d))p++;for(d=0,v=h;v;v=Dr(v))d++;for(;0<p-d;)l=Dr(l),p--;for(;0<d-p;)h=Dr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Dr(l),h=Dr(h)}l=null}else l=null;null!==u&&Lr(a,s,u,l,!1),null!==c&&null!==f&&Lr(a,f,c,l,!0)}if("select"===(u=(s=r?ei(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var y=$n;else if(Bn(s))if(Yn)y=or;else{y=rr;var m=nr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(y=ir);switch(y&&(y=y(e,r))?Kn(a,y,n,i):(m&&m(e,s,r),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&ie(s,"number",s.value)),m=r?ei(r):window,e){case"focusin":(Bn(m)||"true"===m.contentEditable)&&(vr=m,yr=r,mr=null);break;case"focusout":mr=yr=vr=null;break;case"mousedown":gr=!0;break;case"contextmenu":case"mouseup":case"dragend":gr=!1,br(a,n,i);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":br(a,n,i)}var g;if(Rn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?jn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(g=nn()):(en="value"in(Zt=i)?Zt.value:Zt.textContent,zn=!0)),0<(m=Rr(r,b)).length&&(b=new En(b,e,null,n,i),a.push({event:b,listeners:m}),(g||null!==(g=Vn(n)))&&(b.data=g))),(g=Ln?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Rn&&jn(e,t)?(e=nn(),tn=en=Zt=null,zn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&0<(r=Rr(r,"onBeforeInput")).length&&(i=new En("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=g)}xr(a,t)}))}function Or(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Rr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=je(e,n))&&r.unshift(Or(e,o,i)),null!=(o=je(e,t))&&r.push(Or(e,o,i))),e=e.return}return r}function Dr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Lr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=je(n,o))&&a.unshift(Or(n,u,s)):i||null!=(u=je(n,o))&&a.push(Or(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Mr(){}var Fr=null,Ur=null;function jr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Vr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var zr="function"==typeof setTimeout?setTimeout:void 0,qr="function"==typeof clearTimeout?clearTimeout:void 0;function Br(e){(1===e.nodeType||9===e.nodeType&&null!=(e=e.body))&&(e.textContent="")}function Kr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Wr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Gr=0,Hr=Math.random().toString(36).slice(2),Qr="__reactFiber$"+Hr,$r="__reactProps$"+Hr,Yr="__reactContainer$"+Hr,Xr="__reactEvents$"+Hr;function Jr(e){var t=e[Qr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Yr]||n[Qr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Wr(e);null!==e;){if(n=e[Qr])return n;e=Wr(e)}return t}n=(e=n).parentNode}return null}function Zr(e){return!(e=e[Qr]||e[Yr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ei(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ti(e){return e[$r]||null}function ni(e){var t=e[Xr];return void 0===t&&(t=e[Xr]=new Set),t}var ri=[],ii=-1;function oi(e){return{current:e}}function ai(e){0>ii||(e.current=ri[ii],ri[ii]=null,ii--)}function si(e,t){ii++,ri[ii]=e.current,e.current=t}var ui={},ci=oi(ui),li=oi(!1),fi=ui;function hi(e,t){var n=e.type.contextTypes;if(!n)return ui;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function di(e){return null!=e.childContextTypes}function pi(){ai(li),ai(ci)}function vi(e,t,n){if(ci.current!==ui)throw Error(a(168));si(ci,t),si(li,n)}function yi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,H(t)||"Unknown",o));return i({},n,r)}function mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ui,fi=ci.current,si(ci,e),si(li,li.current),!0}function gi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=yi(e,t,fi),r.__reactInternalMemoizedMergedChildContext=e,ai(li),ai(ci),si(ci,e)):ai(li),si(li,n)}var bi=null,wi=null,Ei=o.unstable_runWithPriority,Si=o.unstable_scheduleCallback,ki=o.unstable_cancelCallback,_i=o.unstable_shouldYield,xi=o.unstable_requestPaint,Ti=o.unstable_now,Ii=o.unstable_getCurrentPriorityLevel,Ci=o.unstable_ImmediatePriority,Ni=o.unstable_UserBlockingPriority,Pi=o.unstable_NormalPriority,Ai=o.unstable_LowPriority,Oi=o.unstable_IdlePriority,Ri={},Di=void 0!==xi?xi:function(){},Li=null,Mi=null,Fi=!1,Ui=Ti(),ji=1e4>Ui?Ti:function(){return Ti()-Ui};function Vi(){switch(Ii()){case Ci:return 99;case Ni:return 98;case Pi:return 97;case Ai:return 96;case Oi:return 95;default:throw Error(a(332))}}function zi(e){switch(e){case 99:return Ci;case 98:return Ni;case 97:return Pi;case 96:return Ai;case 95:return Oi;default:throw Error(a(332))}}function qi(e,t){return e=zi(e),Ei(e,t)}function Bi(e,t,n){return e=zi(e),Si(e,t,n)}function Ki(){if(null!==Mi){var e=Mi;Mi=null,ki(e)}Wi()}function Wi(){if(!Fi&&null!==Li){Fi=!0;var e=0;try{var t=Li;qi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Li=null}catch(t){throw null!==Li&&(Li=Li.slice(e+1)),Si(Ci,Ki),t}finally{Fi=!1}}}var Gi=E.ReactCurrentBatchConfig;function Hi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Qi=oi(null),$i=null,Yi=null,Xi=null;function Ji(){Xi=Yi=$i=null}function Zi(e){var t=Qi.current;ai(Qi),e.type._context._currentValue=t}function eo(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function to(e,t){$i=e,Xi=Yi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Ra=!0),e.firstContext=null)}function no(e,t){if(Xi!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Xi=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Yi){if(null===$i)throw Error(a(308));Yi=t,$i.dependencies={lanes:0,firstContext:t,responders:null}}else Yi=Yi.next=t;return e._currentValue}var ro=!1;function io(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function oo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ao(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function so(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function uo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function co(e,t,n,r){var o=e.updateQueue;ro=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?a=l:s.next=l,s=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==s&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==a){for(h=o.baseState,s=0,f=l=c=null;;){u=a.lane;var d=a.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,v=a;switch(u=t,d=n,v.tag){case 1:if("function"==typeof(p=v.payload)){h=p.call(d,h,u);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null==(u="function"==typeof(p=v.payload)?p.call(d,h,u):p))break e;h=i({},h,u);break e;case 2:ro=!0}}null!==a.callback&&(e.flags|=32,null===(u=o.effects)?o.effects=[a]:u.push(a))}else d={eventTime:d,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,s|=u;if(null===(a=a.next)){if(null===(u=o.shared.pending))break;a=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}null===f&&(c=h),o.baseState=c,o.firstBaseUpdate=l,o.lastBaseUpdate=f,Ls|=s,e.lanes=s,e.memoizedState=h}}function lo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(a(191,i));i.call(r)}}}var fo=(new r.Component).refs;function ho(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var po={isMounted:function(e){return!!(e=e._reactInternals)&&$e(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=au(),i=su(e),o=ao(r,i);o.payload=t,null!=n&&(o.callback=n),so(e,o),uu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=au(),i=su(e),o=ao(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),so(e,o),uu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=au(),r=su(e),i=ao(n,r);i.tag=2,null!=t&&(i.callback=t),so(e,i),uu(e,r,n)}};function vo(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!(t.prototype&&t.prototype.isPureReactComponent&&ur(n,r)&&ur(i,o))}function yo(e,t,n){var r=!1,i=ui,o=t.contextType;return"object"==typeof o&&null!==o?o=no(o):(i=di(t)?fi:ci.current,o=(r=null!=(r=t.contextTypes))?hi(e,i):ui),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=po,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function mo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&po.enqueueReplaceState(t,t.state,null)}function go(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=fo,io(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=no(o):(o=di(t)?fi:ci.current,i.context=hi(e,o)),co(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(ho(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&po.enqueueReplaceState(i,i.state,null),co(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var bo=Array.isArray;function wo(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===fo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Eo(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function So(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Uu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=qu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=wo(e,t,n),r.return=e,r):((r=ju(n.type,n.key,n.props,null,e.mode,r)).ref=wo(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Vu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=qu(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case S:return(n=ju(t.type,t.key,t.props,null,e.mode,n)).ref=wo(e,null,t),n.return=e,n;case k:return(t=Bu(t,e.mode,n)).return=e,t}if(bo(t)||q(t))return(t=Vu(t,e.mode,n,null)).return=e,t;Eo(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:u(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case S:return n.key===i?n.type===_?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case k:return n.key===i?l(e,t,n,r):null}if(bo(n)||q(n))return null!==i?null:f(e,t,n,r,null);Eo(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case S:return e=e.get(null===r.key?n:r.key)||null,r.type===_?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case k:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(bo(r)||q(r))return f(t,e=e.get(n)||null,r,i,null);Eo(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,y=null;null!==f&&v<s.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var m=d(i,f,s[v],u);if(null===m){null===f&&(f=y);break}e&&f&&null===m.alternate&&t(i,f),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m,f=y}if(v===s.length)return n(i,f),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<s.length;v++)null!==(y=p(f,i,v,s[v],u))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach((function(e){return t(i,e)})),c}function y(i,s,u,c){var l=q(u);if("function"!=typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,y=s=0,m=null,g=u.next();null!==v&&!g.done;y++,g=u.next()){v.index>y?(m=v,v=null):m=v.sibling;var b=d(i,v,g.value,c);if(null===b){null===v&&(v=m);break}e&&v&&null===b.alternate&&t(i,v),s=o(b,s,y),null===f?l=b:f.sibling=b,f=b,v=m}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;y++,g=u.next())null!==(g=h(i,g.value,c))&&(s=o(g,s,y),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;y++,g=u.next())null!==(g=p(v,i,y,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?y:g.key),s=o(g,s,y),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,o,u){var c="object"==typeof o&&null!==o&&o.type===_&&null===o.key;c&&(o=o.props.children);var l="object"==typeof o&&null!==o;if(l)switch(o.$$typeof){case S:e:{for(l=o.key,c=r;null!==c;){if(c.key===l){switch(c.tag){case 7:if(o.type===_){n(e,c.sibling),(r=i(c,o.props.children)).return=e,e=r;break e}break;default:if(c.elementType===o.type){n(e,c.sibling),(r=i(c,o.props)).ref=wo(e,c,o),r.return=e,e=r;break e}}n(e,c);break}t(e,c),c=c.sibling}o.type===_?((r=Vu(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=ju(o.type,o.key,o.props,null,e.mode,u)).ref=wo(e,r,o),u.return=e,e=u)}return s(e);case k:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Bu(o,e.mode,u)).return=e,e=r}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=qu(o,e.mode,u)).return=e,e=r),s(e);if(bo(o))return v(e,r,o,u);if(q(o))return y(e,r,o,u);if(l&&Eo(e,o),void 0===o&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,H(e.type)||"Component"))}return n(e,r)}}var ko=So(!0),_o=So(!1),xo={},To=oi(xo),Io=oi(xo),Co=oi(xo);function No(e){if(e===xo)throw Error(a(174));return e}function Po(e,t){switch(si(Co,t),si(Io,e),si(To,xo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:de(null,"");break;default:t=de(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ai(To),si(To,t)}function Ao(){ai(To),ai(Io),ai(Co)}function Oo(e){No(Co.current);var t=No(To.current),n=de(t,e.type);t!==n&&(si(Io,e),si(To,n))}function Ro(e){Io.current===e&&(ai(To),ai(Io))}var Do=oi(0);function Lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Mo=null,Fo=null,Uo=!1;function jo(e,t){var n=Mu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Vo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function zo(e){if(Uo){var t=Fo;if(t){var n=t;if(!Vo(e,t)){if(!(t=Kr(n.nextSibling))||!Vo(e,t))return e.flags=-1025&e.flags|2,Uo=!1,void(Mo=e);jo(Mo,n)}Mo=e,Fo=Kr(t.firstChild)}else e.flags=-1025&e.flags|2,Uo=!1,Mo=e}}function qo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Mo=e}function Bo(e){if(e!==Mo)return!1;if(!Uo)return qo(e),Uo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Vr(t,e.memoizedProps))for(t=Fo;t;)jo(e,t),t=Kr(t.nextSibling);if(qo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Fo=Kr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Fo=null}}else Fo=Mo?Kr(e.stateNode.nextSibling):null;return!0}function Ko(){Fo=Mo=null,Uo=!1}var Wo=[];function Go(){for(var e=0;e<Wo.length;e++)Wo[e]._workInProgressVersionPrimary=null;Wo.length=0}var Ho=E.ReactCurrentDispatcher,Qo=E.ReactCurrentBatchConfig,$o=0,Yo=null,Xo=null,Jo=null,Zo=!1,ea=!1;function ta(){throw Error(a(321))}function na(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function ra(e,t,n,r,i,o){if($o=o,Yo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ho.current=null===e||null===e.memoizedState?Na:Pa,e=n(r,i),ea){o=0;do{if(ea=!1,!(25>o))throw Error(a(301));o+=1,Jo=Xo=null,t.updateQueue=null,Ho.current=Aa,e=n(r,i)}while(ea)}if(Ho.current=Ca,t=null!==Xo&&null!==Xo.next,$o=0,Jo=Xo=Yo=null,Zo=!1,t)throw Error(a(300));return e}function ia(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Jo?Yo.memoizedState=Jo=e:Jo=Jo.next=e,Jo}function oa(){if(null===Xo){var e=Yo.alternate;e=null!==e?e.memoizedState:null}else e=Xo.next;var t=null===Jo?Yo.memoizedState:Jo.next;if(null!==t)Jo=t,Xo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Xo=e).memoizedState,baseState:Xo.baseState,baseQueue:Xo.baseQueue,queue:Xo.queue,next:null},null===Jo?Yo.memoizedState=Jo=e:Jo=Jo.next=e}return Jo}function aa(e,t){return"function"==typeof t?t(e):t}function sa(e){var t=oa(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=Xo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,c=i;do{var l=c.lane;if(($o&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,o=r):u=u.next=f,Yo.lanes|=l,Ls|=l}c=c.next}while(null!==c&&c!==i);null===u?o=r:u.next=s,ar(r,t.memoizedState)||(Ra=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ua(e){var t=oa(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);ar(o,t.memoizedState)||(Ra=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ca(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=($o&e)===e)&&(t._workInProgressVersionPrimary=r,Wo.push(t))),e)return n(t._source);throw Wo.push(t),Error(a(350))}function la(e,t,n,r){var i=Is;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),u=Ho.current,c=u.useState((function(){return ca(i,t,n)})),l=c[1],f=c[0];c=Jo;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var y=Yo;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=o(t._source);if(!ar(s,e)){e=n(t._source),ar(f,e)||(l(e),e=su(y),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var u=31-Bt(a),c=1<<u;r[u]|=e,a&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=su(y);i.mutableReadLanes|=r&i.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),ar(p,n)&&ar(v,t)&&ar(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:aa,lastRenderedState:f}).dispatch=l=Ia.bind(null,Yo,e),c.queue=e,c.baseQueue=null,f=ca(i,t,n),c.memoizedState=c.baseState=f),f}function fa(e,t,n){return la(oa(),e,t,n)}function ha(e){var t=ia();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:aa,lastRenderedState:e}).dispatch=Ia.bind(null,Yo,e),[t.memoizedState,e]}function da(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Yo.updateQueue)?(t={lastEffect:null},Yo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function pa(e){return e={current:e},ia().memoizedState=e}function va(){return oa().memoizedState}function ya(e,t,n,r){var i=ia();Yo.flags|=e,i.memoizedState=da(1|t,n,void 0,void 0===r?null:r)}function ma(e,t,n,r){var i=oa();r=void 0===r?null:r;var o=void 0;if(null!==Xo){var a=Xo.memoizedState;if(o=a.destroy,null!==r&&na(r,a.deps))return void da(t,n,o,r)}Yo.flags|=e,i.memoizedState=da(1|t,n,o,r)}function ga(e,t){return ya(516,4,e,t)}function ba(e,t){return ma(516,4,e,t)}function wa(e,t){return ma(4,2,e,t)}function Ea(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Sa(e,t,n){return n=null!=n?n.concat([e]):null,ma(4,2,Ea.bind(null,t,e),n)}function ka(){}function _a(e,t){var n=oa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&na(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function xa(e,t){var n=oa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&na(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ta(e,t){var n=Vi();qi(98>n?98:n,(function(){e(!0)})),qi(97<n?97:n,(function(){var n=Qo.transition;Qo.transition=1;try{e(!1),t()}finally{Qo.transition=n}}))}function Ia(e,t,n){var r=au(),i=su(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===Yo||null!==a&&a===Yo)ea=Zo=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=a(s,n);if(o.eagerReducer=a,o.eagerState=u,ar(u,s))return}catch(e){}uu(e,i,r)}}var Ca={readContext:no,useCallback:ta,useContext:ta,useEffect:ta,useImperativeHandle:ta,useLayoutEffect:ta,useMemo:ta,useReducer:ta,useRef:ta,useState:ta,useDebugValue:ta,useDeferredValue:ta,useTransition:ta,useMutableSource:ta,useOpaqueIdentifier:ta,unstable_isNewReconciler:!1},Na={readContext:no,useCallback:function(e,t){return ia().memoizedState=[e,void 0===t?null:t],e},useContext:no,useEffect:ga,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ya(4,2,Ea.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ya(4,2,e,t)},useMemo:function(e,t){var n=ia();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ia();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ia.bind(null,Yo,e),[r.memoizedState,e]},useRef:pa,useState:ha,useDebugValue:ka,useDeferredValue:function(e){var t=ha(e),n=t[0],r=t[1];return ga((function(){var t=Qo.transition;Qo.transition=1;try{r(e)}finally{Qo.transition=t}}),[e]),n},useTransition:function(){var e=ha(!1),t=e[0];return pa(e=Ta.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ia();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},la(r,e,t,n)},useOpaqueIdentifier:function(){if(Uo){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Gr++).toString(36))),Error(a(355))})),n=ha(t)[1];return 0==(2&Yo.mode)&&(Yo.flags|=516,da(5,(function(){n("r:"+(Gr++).toString(36))}),void 0,null)),t}return ha(t="r:"+(Gr++).toString(36)),t},unstable_isNewReconciler:!1},Pa={readContext:no,useCallback:_a,useContext:no,useEffect:ba,useImperativeHandle:Sa,useLayoutEffect:wa,useMemo:xa,useReducer:sa,useRef:va,useState:function(){return sa(aa)},useDebugValue:ka,useDeferredValue:function(e){var t=sa(aa),n=t[0],r=t[1];return ba((function(){var t=Qo.transition;Qo.transition=1;try{r(e)}finally{Qo.transition=t}}),[e]),n},useTransition:function(){var e=sa(aa)[0];return[va().current,e]},useMutableSource:fa,useOpaqueIdentifier:function(){return sa(aa)[0]},unstable_isNewReconciler:!1},Aa={readContext:no,useCallback:_a,useContext:no,useEffect:ba,useImperativeHandle:Sa,useLayoutEffect:wa,useMemo:xa,useReducer:ua,useRef:va,useState:function(){return ua(aa)},useDebugValue:ka,useDeferredValue:function(e){var t=ua(aa),n=t[0],r=t[1];return ba((function(){var t=Qo.transition;Qo.transition=1;try{r(e)}finally{Qo.transition=t}}),[e]),n},useTransition:function(){var e=ua(aa)[0];return[va().current,e]},useMutableSource:fa,useOpaqueIdentifier:function(){return ua(aa)[0]},unstable_isNewReconciler:!1},Oa=E.ReactCurrentOwner,Ra=!1;function Da(e,t,n,r){t.child=null===e?_o(t,null,n,r):ko(t,e.child,n,r)}function La(e,t,n,r,i){n=n.render;var o=t.ref;return to(t,i),r=ra(e,t,n,r,o,i),null===e||Ra?(t.flags|=1,Da(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Za(e,t,i))}function Ma(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||Fu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=ju(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Fa(e,t,a,r,i,o))}return a=e.child,0==(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:ur)(i,r)&&e.ref===t.ref)?Za(e,t,o):(t.flags|=1,(e=Uu(a,r)).ref=t.ref,e.return=t,t.child=e)}function Fa(e,t,n,r,i,o){if(null!==e&&ur(e.memoizedProps,r)&&e.ref===t.ref){if(Ra=!1,0==(o&i))return t.lanes=e.lanes,Za(e,t,o);0!=(16384&e.flags)&&(Ra=!0)}return Va(e,t,n,r,o)}function Ua(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},pu(0,n);else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},pu(0,e),null;t.memoizedState={baseLanes:0},pu(0,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,pu(0,r);return Da(e,t,i,n),t.child}function ja(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Va(e,t,n,r,i){var o=di(n)?fi:ci.current;return o=hi(t,o),to(t,i),n=ra(e,t,n,r,o,i),null===e||Ra?(t.flags|=1,Da(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Za(e,t,i))}function za(e,t,n,r,i){if(di(n)){var o=!0;mi(t)}else o=!1;if(to(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),yo(t,n,r),go(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;c="object"==typeof c&&null!==c?no(c):hi(t,c=di(n)?fi:ci.current);var l=n.getDerivedStateFromProps,f="function"==typeof l||"function"==typeof a.getSnapshotBeforeUpdate;f||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||u!==c)&&mo(t,a,r,c),ro=!1;var h=t.memoizedState;a.state=h,co(t,r,a,i),u=t.memoizedState,s!==r||h!==u||li.current||ro?("function"==typeof l&&(ho(t,n,l,r),u=t.memoizedState),(s=ro||vo(t,n,s,r,h,u,c))?(f||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4)):("function"==typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,oo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Hi(t.type,s),a.props=c,f=t.pendingProps,h=a.context,u="object"==typeof(u=n.contextType)&&null!==u?no(u):hi(t,u=di(n)?fi:ci.current);var d=n.getDerivedStateFromProps;(l="function"==typeof d||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==f||h!==u)&&mo(t,a,r,u),ro=!1,h=t.memoizedState,a.state=h,co(t,r,a,i);var p=t.memoizedState;s!==f||h!==p||li.current||ro?("function"==typeof d&&(ho(t,n,d,r),p=t.memoizedState),(c=ro||vo(t,n,c,r,h,p,u))?(l||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return qa(e,t,n,r,o,i)}function qa(e,t,n,r,i,o){ja(e,t);var a=0!=(64&t.flags);if(!r&&!a)return i&&gi(t,n,!1),Za(e,t,o);r=t.stateNode,Oa.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=ko(t,e.child,null,o),t.child=ko(t,null,s,o)):Da(e,t,s,o),t.memoizedState=r.state,i&&gi(t,n,!0),t.child}function Ba(e){var t=e.stateNode;t.pendingContext?vi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&vi(0,t.context,!1),Po(e,t.containerInfo)}var Ka,Wa,Ga,Ha={dehydrated:null,retryLane:0};function Qa(e,t,n){var r,i=t.pendingProps,o=Do.current,a=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),si(Do,1&o),null===e?(void 0!==i.fallback&&zo(t),e=i.children,o=i.fallback,a?(e=$a(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ha,e):"number"==typeof i.unstable_expectedLoadTime?(e=$a(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ha,t.lanes=33554432,e):((n=zu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=function(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0==(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Uu(a,s),null!==e?r=Uu(e,r):(r=Vu(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Ha,i):(n=function(e,t,n,r){var i=e.child;return e=i.sibling,n=Uu(i,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}(e,t,i.children,n),t.memoizedState=null,n))}function $a(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0==(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=zu(t,i,0,null),n=Vu(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function Ya(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),eo(e.return,t)}function Xa(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function Ja(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Da(e,t,r.children,n),0!=(2&(r=Do.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ya(e,n);else if(19===e.tag)Ya(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(si(Do,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Lo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Xa(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Lo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Xa(t,!0,n,null,o,t.lastEffect);break;case"together":Xa(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Za(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ls|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Uu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Uu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function es(e,t){if(!Uo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ts(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return di(t.type)&&pi(),null;case 3:return Ao(),ai(li),ai(ci),Go(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Bo(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ro(t);var o=No(Co.current);if(n=t.type,null!==e&&null!=t.stateNode)Wa(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=No(To.current),Bo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Qr]=t,r[$r]=s,n){case"dialog":Tr("cancel",r),Tr("close",r);break;case"iframe":case"object":case"embed":Tr("load",r);break;case"video":case"audio":for(e=0;e<Sr.length;e++)Tr(Sr[e],r);break;case"source":Tr("error",r);break;case"img":case"image":case"link":Tr("error",r),Tr("load",r);break;case"details":Tr("toggle",r);break;case"input":ee(r,s),Tr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Tr("invalid",r);break;case"textarea":ue(r,s),Tr("invalid",r)}for(var c in ke(n,s),e=null,s)s.hasOwnProperty(c)&&(o=s[c],"children"===c?"string"==typeof o?r.textContent!==o&&(e=["children",o]):"number"==typeof o&&r.textContent!==""+o&&(e=["children",""+o]):u.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&Tr("scroll",r));switch(n){case"input":Y(r),re(r,s,!0);break;case"textarea":Y(r),le(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=Mr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,e===fe&&(e=he(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Qr]=t,e[$r]=r,Ka(e,t),t.stateNode=e,c=_e(n,r),n){case"dialog":Tr("cancel",e),Tr("close",e),o=r;break;case"iframe":case"object":case"embed":Tr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Sr.length;o++)Tr(Sr[o],e);o=r;break;case"source":Tr("error",e),o=r;break;case"img":case"image":case"link":Tr("error",e),Tr("load",e),o=r;break;case"details":Tr("toggle",e),o=r;break;case"input":ee(e,r),o=Z(e,r),Tr("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Tr("invalid",e);break;case"textarea":ue(e,r),o=se(e,r),Tr("invalid",e);break;default:o=r}ke(n,o);var l=o;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?Ee(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&ye(e,f):"children"===s?"string"==typeof f?("textarea"!==n||""!==f)&&me(e,f):"number"==typeof f&&me(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Tr("scroll",e):null!=f&&w(e,s,f,c))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Mr)}jr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ga(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));n=No(Co.current),No(To.current),Bo(t)?(r=t.stateNode,n=t.memoizedProps,r[Qr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Qr]=t,t.stateNode=r)}return null;case 13:return ai(Do),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Bo(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Do.current)?0===Os&&(Os=3):(0!==Os&&3!==Os||(Os=4),null===Is||0==(134217727&Ls)&&0==(134217727&Ms)||hu(Is,Ns))),(r||n)&&(t.flags|=4),null);case 4:return Ao(),null===e&&Cr(t.stateNode.containerInfo),null;case 10:return Zi(t),null;case 17:return di(t.type)&&pi(),null;case 19:if(ai(Do),null===(r=t.memoizedState))return null;if(s=0!=(64&t.flags),null===(c=r.rendering))if(s)es(r,!1);else{if(0!==Os||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Lo(e))){for(t.flags|=64,es(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return si(Do,1&Do.current|2),t.child}e=e.sibling}null!==r.tail&&ji()>Vs&&(t.flags|=64,s=!0,es(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Lo(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),es(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Uo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*ji()-r.renderingStartTime>Vs&&1073741824!==n&&(t.flags|=64,s=!0,es(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=ji(),n.sibling=null,t=Do.current,si(Do,s?1&t|2:1&t),n):null;case 23:case 24:return vu(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function ns(e){switch(e.tag){case 1:di(e.type)&&pi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ao(),ai(li),ai(ci),Go(),0!=(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Ro(e),null;case 13:return ai(Do),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ai(Do),null;case 4:return Ao(),null;case 10:return Zi(e),null;case 23:case 24:return vu(),null;default:return null}}function rs(e,t){try{var n="",r=t;do{n+=G(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function is(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}Ka=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Wa=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,No(To.current);var a,s=null;switch(n){case"input":o=Z(e,o),r=Z(e,r),s=[];break;case"option":o=oe(e,o),r=oe(e,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=se(e,o),r=se(e,r),s=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=Mr)}for(f in ke(n,r),n=null,o)if(!r.hasOwnProperty(f)&&o.hasOwnProperty(f)&&null!=o[f])if("style"===f){var c=o[f];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=o?o[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(a in c)!c.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&c[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(f,l)):"children"===f?"string"!=typeof l&&"number"!=typeof l||(s=s||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Tr("scroll",e),s||c===l||(s=[])):"object"==typeof l&&null!==l&&l.$$typeof===L?l.toString():(s=s||[]).push(f,l))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},Ga=function(e,t,n,r){n!==r&&(t.flags|=4)};var os="function"==typeof WeakMap?WeakMap:Map;function as(e,t,n){(n=ao(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ks||(Ks=!0,Ws=r),is(0,t)},n}function ss(e,t,n){(n=ao(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return is(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Gs?Gs=new Set([this]):Gs.add(this),is(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var us="function"==typeof WeakSet?WeakSet:Set;function cs(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Ou(e,t)}else t.current=null}function ls(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Hi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Br(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(a(163))}function fs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(Nu(n,e),Cu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Hi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&lo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}lo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&jr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Et(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(a(163))}function hs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ds(e,t){if(wi&&"function"==typeof wi.onCommitFiberUnmount)try{wi.onCommitFiberUnmount(bi,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!=(4&r))Nu(t,n);else{r=t;try{i()}catch(e){Ou(r,e)}}n=n.next}while(n!==e)}break;case 1:if(cs(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Ou(t,e)}break;case 5:cs(t);break;case 4:bs(e,t)}}function ps(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function vs(e){return 5===e.tag||3===e.tag||4===e.tag}function ys(e){e:{for(var t=e.return;null!==t;){if(vs(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(me(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||vs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?ms(e,n,t):gs(e,n,t)}function ms(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Mr));else if(4!==r&&null!==(e=e.child))for(ms(e,t,n),e=e.sibling;null!==e;)ms(e,t,n),e=e.sibling}function gs(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(gs(e,t,n),e=e.sibling;null!==e;)gs(e,t,n),e=e.sibling}function bs(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(ds(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ds(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function ws(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[$r]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),_e(e,i),t=_e(e,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?Ee(n,u):"dangerouslySetInnerHTML"===s?ye(n,u):"children"===s?me(n,u):w(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,Et(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(js=ji(),hs(t.child,!0)),void Es(t);case 19:return void Es(t);case 17:return;case 23:case 24:return void hs(t,null!==t.memoizedState)}throw Error(a(163))}function Es(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new us),t.forEach((function(t){var r=Du.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ss(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&null!==(t=t.memoizedState)&&null===t.dehydrated}var ks=Math.ceil,_s=E.ReactCurrentDispatcher,xs=E.ReactCurrentOwner,Ts=0,Is=null,Cs=null,Ns=0,Ps=0,As=oi(0),Os=0,Rs=null,Ds=0,Ls=0,Ms=0,Fs=0,Us=null,js=0,Vs=1/0;function zs(){Vs=ji()+500}var qs,Bs=null,Ks=!1,Ws=null,Gs=null,Hs=!1,Qs=null,$s=90,Ys=[],Xs=[],Js=null,Zs=0,eu=null,tu=-1,nu=0,ru=0,iu=null,ou=!1;function au(){return 0!=(48&Ts)?ji():-1!==tu?tu:tu=ji()}function su(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===Vi()?1:2;if(0===nu&&(nu=Ds),0!==Gi.transition){0!==ru&&(ru=null!==Us?Us.pendingLanes:0),e=nu;var t=4186112&~ru;return 0==(t&=-t)&&0==(t=(e=4186112&~e)&-e)&&(t=8192),t}return e=Vi(),e=jt(0!=(4&Ts)&&98===e?12:e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),nu)}function uu(e,t,n){if(50<Zs)throw Zs=0,eu=null,Error(a(185));if(null===(e=cu(e,t)))return null;qt(e,t,n),e===Is&&(Ms|=t,4===Os&&hu(e,Ns));var r=Vi();1===t?0!=(8&Ts)&&0==(48&Ts)?du(e):(lu(e,n),0===Ts&&(zs(),Ki())):(0==(4&Ts)||98!==r&&99!==r||(null===Js?Js=new Set([e]):Js.add(e)),lu(e,n)),Us=e}function cu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function lu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Bt(s),c=1<<u,l=o[u];if(-1===l){if(0==(c&r)||0!=(c&i)){l=t,Mt(c);var f=Lt;o[u]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=Ft(e,e===Is?Ns:0),t=Lt,0===r)null!==n&&(n!==Ri&&ki(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Ri&&ki(n)}15===t?(n=du.bind(null,e),null===Li?(Li=[n],Mi=Si(Ci,Wi)):Li.push(n),n=Ri):n=14===t?Bi(99,du.bind(null,e)):Bi(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),fu.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function fu(e){if(tu=-1,ru=nu=0,0!=(48&Ts))throw Error(a(327));var t=e.callbackNode;if(Iu()&&e.callbackNode!==t)return null;var n=Ft(e,e===Is?Ns:0);if(0===n)return null;var r=n,i=Ts;Ts|=16;var o=gu();for(Is===e&&Ns===r||(zs(),yu(e,r));;)try{Eu();break}catch(t){mu(e,t)}if(Ji(),_s.current=o,Ts=i,null!==Cs?r=0:(Is=null,Ns=0,r=Os),0!=(Ds&Ms))yu(e,0);else if(0!==r){if(2===r&&(Ts|=64,e.hydrate&&(e.hydrate=!1,Br(e.containerInfo)),0!==(n=Ut(e))&&(r=bu(e,n))),1===r)throw t=Rs,yu(e,0),hu(e,n),lu(e,ji()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:_u(e);break;case 3:if(hu(e,n),(62914560&n)===n&&10<(r=js+500-ji())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){au(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=zr(_u.bind(null,e),r);break}_u(e);break;case 4:if(hu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Bt(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=ji()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ks(n/1960))-n)){e.timeoutHandle=zr(_u.bind(null,e),n);break}_u(e);break;case 5:_u(e);break;default:throw Error(a(329))}}return lu(e,ji()),e.callbackNode===t?fu.bind(null,e):null}function hu(e,t){for(t&=~Fs,t&=~Ms,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Bt(t),r=1<<n;e[n]=-1,t&=~r}}function du(e){if(0!=(48&Ts))throw Error(a(327));if(Iu(),e===Is&&0!=(e.expiredLanes&Ns)){var t=Ns,n=bu(e,t);0!=(Ds&Ms)&&(n=bu(e,t=Ft(e,t)))}else n=bu(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Ts|=64,e.hydrate&&(e.hydrate=!1,Br(e.containerInfo)),0!==(t=Ut(e))&&(n=bu(e,t))),1===n)throw n=Rs,yu(e,0),hu(e,t),lu(e,ji()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,_u(e),lu(e,ji()),null}function pu(e,t){si(As,Ps),Ps|=t,Ds|=t}function vu(){Ps=As.current,ai(As)}function yu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,qr(n)),null!==Cs)for(n=Cs.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&pi();break;case 3:Ao(),ai(li),ai(ci),Go();break;case 5:Ro(r);break;case 4:Ao();break;case 13:case 19:ai(Do);break;case 10:Zi(r);break;case 23:case 24:vu()}n=n.return}Is=e,Cs=Uu(e.current,null),Ns=Ps=Ds=t,Os=0,Rs=null,Fs=Ms=Ls=0}function mu(e,t){for(;;){var n=Cs;try{if(Ji(),Ho.current=Ca,Zo){for(var r=Yo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Zo=!1}if($o=0,Jo=Xo=Yo=null,ea=!1,xs.current=null,null===n||null===n.return){Os=1,Rs=t,Cs=null;break}e:{var o=e,a=n.return,s=n,u=t;if(t=Ns,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"==typeof u&&"function"==typeof u.then){var c=u;if(0==(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!=(1&Do.current),h=a;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var y=h.updateQueue;if(null===y){var m=new Set;m.add(c),h.updateQueue=m}else y.add(c);if(0==(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var g=ao(-1,1);g.tag=2,so(s,g)}s.lanes|=1;break e}u=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new os,u=new Set,b.set(c,u)):void 0===(u=b.get(c))&&(u=new Set,b.set(c,u)),!u.has(s)){u.add(s);var w=Ru.bind(null,o,c,s);c.then(w,w)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);u=Error((H(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Os&&(Os=2),u=rs(u,s),h=a;do{switch(h.tag){case 3:o=u,h.flags|=4096,t&=-t,h.lanes|=t,uo(h,as(0,o,t));break e;case 1:o=u;var E=h.type,S=h.stateNode;if(0==(64&h.flags)&&("function"==typeof E.getDerivedStateFromError||null!==S&&"function"==typeof S.componentDidCatch&&(null===Gs||!Gs.has(S)))){h.flags|=4096,t&=-t,h.lanes|=t,uo(h,ss(h,o,t));break e}}h=h.return}while(null!==h)}ku(n)}catch(e){t=e,Cs===n&&null!==n&&(Cs=n=n.return);continue}break}}function gu(){var e=_s.current;return _s.current=Ca,null===e?Ca:e}function bu(e,t){var n=Ts;Ts|=16;var r=gu();for(Is===e&&Ns===t||yu(e,t);;)try{wu();break}catch(t){mu(e,t)}if(Ji(),Ts=n,_s.current=r,null!==Cs)throw Error(a(261));return Is=null,Ns=0,Os}function wu(){for(;null!==Cs;)Su(Cs)}function Eu(){for(;null!==Cs&&!_i();)Su(Cs)}function Su(e){var t=qs(e.alternate,e,Ps);e.memoizedProps=e.pendingProps,null===t?ku(e):Cs=t,xs.current=null}function ku(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=ts(n,t,Ps)))return void(Cs=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&Ps)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=ns(t)))return n.flags&=2047,void(Cs=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Cs=t);Cs=t=e}while(null!==t);0===Os&&(Os=5)}function _u(e){var t=Vi();return qi(99,xu.bind(null,e,t)),null}function xu(e,t){do{Iu()}while(null!==Qs);if(0!=(48&Ts))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<o;){var c=31-Bt(o),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,o&=~l}if(null!==Js&&0==(24&r)&&Js.has(e)&&Js.delete(e),e===Is&&(Cs=Is=null,Ns=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ts,Ts|=32,xs.current=null,Fr=Qt,dr(s=hr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,o=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(e){u=null;break e}var f=0,h=-1,d=-1,p=0,v=0,y=s,m=null;t:for(;;){for(var g;y!==u||0!==o&&3!==y.nodeType||(h=f+o),y!==c||0!==l&&3!==y.nodeType||(d=f+l),3===y.nodeType&&(f+=y.nodeValue.length),null!==(g=y.firstChild);)m=y,y=g;for(;;){if(y===s)break t;if(m===u&&++p===o&&(h=f),m===c&&++v===l&&(d=f),null!==(g=y.nextSibling))break;m=(y=m).parentNode}y=g}u=-1===h||-1===d?null:{start:h,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;Ur={focusedElem:s,selectionRange:u},Qt=!1,iu=null,ou=!1,Bs=r;do{try{Tu()}catch(e){if(null===Bs)throw Error(a(330));Ou(Bs,e),Bs=Bs.nextEffect}}while(null!==Bs);iu=null,Bs=r;do{try{for(s=e;null!==Bs;){var b=Bs.flags;if(16&b&&me(Bs.stateNode,""),128&b){var w=Bs.alternate;if(null!==w){var E=w.ref;null!==E&&("function"==typeof E?E(null):E.current=null)}}switch(1038&b){case 2:ys(Bs),Bs.flags&=-3;break;case 6:ys(Bs),Bs.flags&=-3,ws(Bs.alternate,Bs);break;case 1024:Bs.flags&=-1025;break;case 1028:Bs.flags&=-1025,ws(Bs.alternate,Bs);break;case 4:ws(Bs.alternate,Bs);break;case 8:bs(s,u=Bs);var S=u.alternate;ps(u),null!==S&&ps(S)}Bs=Bs.nextEffect}}catch(e){if(null===Bs)throw Error(a(330));Ou(Bs,e),Bs=Bs.nextEffect}}while(null!==Bs);if(E=Ur,w=hr(),b=E.focusedElem,s=E.selectionRange,w!==b&&b&&b.ownerDocument&&fr(b.ownerDocument.documentElement,b)){null!==s&&dr(b)&&(w=s.start,void 0===(E=s.end)&&(E=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(E,b.value.length)):(E=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(E=E.getSelection(),u=b.textContent.length,S=Math.min(s.start,u),s=void 0===s.end?S:Math.min(s.end,u),!E.extend&&S>s&&(u=s,s=S,S=u),u=lr(b,S),o=lr(b,s),u&&o&&(1!==E.rangeCount||E.anchorNode!==u.node||E.anchorOffset!==u.offset||E.focusNode!==o.node||E.focusOffset!==o.offset)&&((w=w.createRange()).setStart(u.node,u.offset),E.removeAllRanges(),S>s?(E.addRange(w),E.extend(o.node,o.offset)):(w.setEnd(o.node,o.offset),E.addRange(w))))),w=[];for(E=b;E=E.parentNode;)1===E.nodeType&&w.push({element:E,left:E.scrollLeft,top:E.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<w.length;b++)(E=w[b]).element.scrollLeft=E.left,E.element.scrollTop=E.top}Qt=!!Fr,Ur=Fr=null,e.current=n,Bs=r;do{try{for(b=e;null!==Bs;){var k=Bs.flags;if(36&k&&fs(b,Bs.alternate,Bs),128&k){w=void 0;var _=Bs.ref;if(null!==_){var x=Bs.stateNode;switch(Bs.tag){case 5:w=x;break;default:w=x}"function"==typeof _?_(w):_.current=w}}Bs=Bs.nextEffect}}catch(e){if(null===Bs)throw Error(a(330));Ou(Bs,e),Bs=Bs.nextEffect}}while(null!==Bs);Bs=null,Di(),Ts=i}else e.current=n;if(Hs)Hs=!1,Qs=e,$s=t;else for(Bs=r;null!==Bs;)t=Bs.nextEffect,Bs.nextEffect=null,8&Bs.flags&&((k=Bs).sibling=null,k.stateNode=null),Bs=t;if(0===(r=e.pendingLanes)&&(Gs=null),1===r?e===eu?Zs++:(Zs=0,eu=e):Zs=0,n=n.stateNode,wi&&"function"==typeof wi.onCommitFiberRoot)try{wi.onCommitFiberRoot(bi,n,void 0,64==(64&n.current.flags))}catch(e){}if(lu(e,ji()),Ks)throw Ks=!1,e=Ws,Ws=null,e;return 0!=(8&Ts)||Ki(),null}function Tu(){for(;null!==Bs;){var e=Bs.alternate;ou||null===iu||(0!=(8&Bs.flags)?Ze(Bs,iu)&&(ou=!0):13===Bs.tag&&Ss(e,Bs)&&Ze(Bs,iu)&&(ou=!0));var t=Bs.flags;0!=(256&t)&&ls(e,Bs),0==(512&t)||Hs||(Hs=!0,Bi(97,(function(){return Iu(),null}))),Bs=Bs.nextEffect}}function Iu(){if(90!==$s){var e=97<$s?97:$s;return $s=90,qi(e,Pu)}return!1}function Cu(e,t){Ys.push(t,e),Hs||(Hs=!0,Bi(97,(function(){return Iu(),null})))}function Nu(e,t){Xs.push(t,e),Hs||(Hs=!0,Bi(97,(function(){return Iu(),null})))}function Pu(){if(null===Qs)return!1;var e=Qs;if(Qs=null,0!=(48&Ts))throw Error(a(331));var t=Ts;Ts|=32;var n=Xs;Xs=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"==typeof s)try{s()}catch(e){if(null===o)throw Error(a(330));Ou(o,e)}}for(n=Ys,Ys=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var u=i.create;i.destroy=u()}catch(e){if(null===o)throw Error(a(330));Ou(o,e)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Ts=t,Ki(),!0}function Au(e,t,n){so(e,t=as(0,t=rs(n,t),1)),t=au(),null!==(e=cu(e,1))&&(qt(e,1,t),lu(e,t))}function Ou(e,t){if(3===e.tag)Au(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Au(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Gs||!Gs.has(r))){var i=ss(n,e=rs(t,e),1);if(so(n,i),i=au(),null!==(n=cu(n,1)))qt(n,1,i),lu(n,i);else if("function"==typeof r.componentDidCatch&&(null===Gs||!Gs.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function Ru(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=au(),e.pingedLanes|=e.suspendedLanes&n,Is===e&&(Ns&n)===n&&(4===Os||3===Os&&(62914560&Ns)===Ns&&500>ji()-js?yu(e,0):Fs|=n),lu(e,t)}function Du(e,t){var n=e.stateNode;null!==n&&n.delete(t),0==(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===Vi()?1:2:(0===nu&&(nu=Ds),0===(t=Vt(62914560&~nu))&&(t=4194304))),n=au(),null!==(e=cu(e,t))&&(qt(e,t,n),lu(e,n))}function Lu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Mu(e,t,n,r){return new Lu(e,t,n,r)}function Fu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Uu(e,t){var n=e.alternate;return null===n?((n=Mu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ju(e,t,n,r,i,o){var s=2;if(r=e,"function"==typeof e)Fu(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case _:return Vu(n.children,i,o,t);case M:s=8,i|=16;break;case x:s=8,i|=1;break;case T:return(e=Mu(12,n,t,8|i)).elementType=T,e.type=T,e.lanes=o,e;case P:return(e=Mu(13,n,t,i)).type=P,e.elementType=P,e.lanes=o,e;case A:return(e=Mu(19,n,t,i)).elementType=A,e.lanes=o,e;case F:return zu(n,i,o,t);case U:return(e=Mu(24,n,t,i)).elementType=U,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case I:s=10;break e;case C:s=9;break e;case N:s=11;break e;case O:s=14;break e;case R:s=16,r=null;break e;case D:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Mu(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Vu(e,t,n,r){return(e=Mu(7,e,r,t)).lanes=n,e}function zu(e,t,n,r){return(e=Mu(23,e,r,t)).elementType=F,e.lanes=n,e}function qu(e,t,n){return(e=Mu(6,e,null,t)).lanes=n,e}function Bu(e,t,n){return(t=Mu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ku(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=zt(0),this.expirationTimes=zt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zt(0),this.mutableSourceEagerHydrationData=null}function Wu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Gu(e,t,n,r){var i=t.current,o=au(),s=su(i);e:if(n){t:{if($e(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(di(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var c=n.type;if(di(c)){n=yi(n,c,u);break e}}n=u}else n=ui;return null===t.context?t.context=n:t.pendingContext=n,(t=ao(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),so(i,t),uu(i,s,o),s}function Hu(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Qu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function $u(e,t){Qu(e,t),(e=e.alternate)&&Qu(e,t)}function Yu(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Ku(e,t,null!=n&&!0===n.hydrate),t=Mu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,io(t),e[Yr]=n.current,Cr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function Xu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ju(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var e=Hu(a);s.call(e)}}Gu(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Yu(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"==typeof i){var u=i;i=function(){var e=Hu(a);u.call(e)}}!function(e,t){var n=Ts;Ts&=-2,Ts|=8;try{e(t)}finally{0===(Ts=n)&&(zs(),Ki())}}((function(){Gu(t,a,e,i)}))}return Hu(a)}qs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||li.current)Ra=!0;else{if(0==(n&r)){switch(Ra=!1,t.tag){case 3:Ba(t),Ko();break;case 5:Oo(t);break;case 1:di(t.type)&&mi(t);break;case 4:Po(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;si(Qi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?Qa(e,t,n):(si(Do,1&Do.current),null!==(t=Za(e,t,n))?t.sibling:null);si(Do,1&Do.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return Ja(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),si(Do,Do.current),r)break;return null;case 23:case 24:return t.lanes=0,Ua(e,t,n)}return Za(e,t,n)}Ra=0!=(16384&e.flags)}else Ra=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=hi(t,ci.current),to(t,n),i=ra(null,t,r,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,di(r)){var o=!0;mi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,io(t);var s=r.getDerivedStateFromProps;"function"==typeof s&&ho(t,r,s,e),i.updater=po,t.stateNode=i,i._reactInternals=t,go(t,r,e,n),t=qa(null,t,r,!0,o,n)}else t.tag=0,Da(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"==typeof e)return Fu(e)?1:0;if(null!=e){if((e=e.$$typeof)===N)return 11;if(e===O)return 14}return 2}(i),e=Hi(i,e),o){case 0:t=Va(null,t,i,e,n);break e;case 1:t=za(null,t,i,e,n);break e;case 11:t=La(null,t,i,e,n);break e;case 14:t=Ma(null,t,i,Hi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Va(e,t,r,i=t.elementType===r?i:Hi(r,i),n);case 1:return r=t.type,i=t.pendingProps,za(e,t,r,i=t.elementType===r?i:Hi(r,i),n);case 3:if(Ba(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,oo(e,t),co(t,r,null,n),(r=t.memoizedState.element)===i)Ko(),t=Za(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(Fo=Kr(t.stateNode.containerInfo.firstChild),Mo=t,o=Uo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Wo.push(o);for(n=_o(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Da(e,t,r,n),Ko();t=t.child}return t;case 5:return Oo(t),null===e&&zo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,Vr(r,i)?s=null:null!==o&&Vr(r,o)&&(t.flags|=16),ja(e,t),Da(e,t,s,n),t.child;case 6:return null===e&&zo(t),null;case 13:return Qa(e,t,n);case 4:return Po(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ko(t,null,r,n):Da(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,La(e,t,r,i=t.elementType===r?i:Hi(r,i),n);case 7:return Da(e,t,t.pendingProps,n),t.child;case 8:case 12:return Da(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var u=t.type._context;if(si(Qi,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0==(o=ar(u,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!li.current){t=Za(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!=(l.observedBits&o)){1===u.tag&&((l=ao(-1,n&-n)).tag=2,so(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),eo(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Da(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,to(t,n),r=r(i=no(i,o.unstable_observedBits)),t.flags|=1,Da(e,t,r,n),t.child;case 14:return o=Hi(i=t.type,t.pendingProps),Ma(e,t,i,o=Hi(i.type,o),r,n);case 15:return Fa(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Hi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,di(r)?(e=!0,mi(t)):e=!1,to(t,n),yo(t,r,i),go(t,r,i,n),qa(null,t,r,!0,e,n);case 19:return Ja(e,t,n);case 23:case 24:return Ua(e,t,n)}throw Error(a(156,t.tag))},Yu.prototype.render=function(e){Gu(e,this._internalRoot,null,null)},Yu.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Gu(null,e,null,(function(){t[Yr]=null}))},et=function(e){13===e.tag&&(uu(e,4,au()),$u(e,4))},tt=function(e){13===e.tag&&(uu(e,67108864,au()),$u(e,67108864))},nt=function(e){if(13===e.tag){var t=au(),n=su(e);uu(e,n,t),$u(e,n)}},rt=function(e,t){return t()},Te=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ti(r);if(!i)throw Error(a(90));X(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Oe=function(e,t){var n=Ts;Ts|=1;try{return e(t)}finally{0===(Ts=n)&&(zs(),Ki())}},Re=function(e,t,n,r,i){var o=Ts;Ts|=4;try{return qi(98,e.bind(null,t,n,r,i))}finally{0===(Ts=o)&&(zs(),Ki())}},De=function(){0==(49&Ts)&&(function(){if(null!==Js){var e=Js;Js=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,lu(e,ji())}))}Ki()}(),Iu())},Le=function(e,t){var n=Ts;Ts|=2;try{return e(t)}finally{0===(Ts=n)&&(zs(),Ki())}};var Zu={findFiberByHostInstance:Jr,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},ec={bundleType:Zu.bundleType,version:Zu.version,rendererPackageName:Zu.rendererPackageName,rendererConfig:Zu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Je(e))?null:e.stateNode},findFiberByHostInstance:Zu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var tc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tc.isDisabled&&tc.supportsFiber)try{bi=tc.inject(ec),wi=tc}catch(ve){}}t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xu(t))throw Error(a(200));return Wu(e,t,null,n)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return null===(e=Je(t))?null:e.stateNode},t.render=function(e,t,n){if(!Xu(t))throw Error(a(200));return Ju(null,e,t,!1,n)}},3935:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(4448)},6585:e=>{e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},9658:(e,t,n)=>{var r=n(6585);e.exports=function e(t,n,i){return r(n)||(i=n||i,n=[]),i=i||{},t instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(t,n):r(t)?function(t,n,r){for(var i=[],o=0;o<t.length;o++)i.push(e(t[o],n,r).source);return l(new RegExp("(?:"+i.join("|")+")",f(r)),n)}(t,n,i):function(e,t,n){return h(o(e,n),t,n)}(t,n,i)},e.exports.parse=o,e.exports.compile=function(e,t){return s(o(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,a=0,s="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],h=n[1],d=n.index;if(s+=e.slice(a,d),a=d+f.length,h)s+=h[1];else{var p=e[a],v=n[2],y=n[3],m=n[4],g=n[5],b=n[6],w=n[7];s&&(r.push(s),s="");var E=null!=v&&null!=p&&p!==v,S="+"===b||"*"===b,k="?"===b||"*"===b,_=n[2]||l,x=m||g;r.push({name:y||o++,prefix:v||"",delimiter:_,optional:k,repeat:S,partial:E,asterisk:!!w,pattern:x?c(x):w?".*":"[^"+u(_)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&r.push(s),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"==typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var o="",s=t||{},u=(i||{}).pretty?a:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!=typeof l){var f,h=s[l.name];if(null==h){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(f=u(h[d]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");o+=(0===d?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):u(h),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');o+=l.prefix+f}}else o+=l}return o}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<e.length;s++){var c=e[s];if("string"==typeof c)a+=u(c);else{var h=u(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+h+d+")*"),a+=d=c.optional?c.partial?h+"("+d+")?":"(?:"+h+"("+d+"))?":h+"("+d+")"}}var p=u(n.delimiter||"/"),v=a.slice(-p.length)===p;return i||(a=(v?a.slice(0,-p.length):a)+"(?:"+p+"(?=$))?"),a+=o?"$":i&&v?"":"(?="+p+"|$)",l(new RegExp("^"+a,f(n)),t)}},86:(e,t)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for;n&&Symbol.for("react.element"),n&&Symbol.for("react.portal"),n&&Symbol.for("react.fragment"),n&&Symbol.for("react.strict_mode"),n&&Symbol.for("react.profiler"),n&&Symbol.for("react.provider"),n&&Symbol.for("react.context"),n&&Symbol.for("react.async_mode"),n&&Symbol.for("react.concurrent_mode"),n&&Symbol.for("react.forward_ref"),n&&Symbol.for("react.suspense"),n&&Symbol.for("react.suspense_list"),n&&Symbol.for("react.memo"),n&&Symbol.for("react.lazy"),n&&Symbol.for("react.block"),n&&Symbol.for("react.fundamental"),n&&Symbol.for("react.responder"),n&&Symbol.for("react.scope")},663:(e,t,n)=>{"use strict";n(86)},2408:(e,t,n)=>{"use strict";var r=n(7418),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"==typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),o=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),a=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"==typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function m(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=y.prototype;var b=g.prototype=new m;b.constructor=g,r(b,y.prototype),b.isPureReactComponent=!0;var w={current:null},E=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)E.call(t,r)&&!S.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:w.current}}function _(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var x=/\/+/g;function T(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case o:u=!0}}if(u)return a=a(u=e),e=""===r?"."+T(u,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(x,"$&/")+"/"),I(a,t,n,"",(function(e){return e}))):null!=a&&(_(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(x,"$&/")+"/")+e)),t.push(a)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+T(s=e[c],c);u+=I(s,t,n,l,a)}else if("function"==typeof(l=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e)))for(e=l.call(e),c=0;!(s=e.next()).done;)u+=I(s=s.value,t,n,l=r+T(s,c++),a);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function C(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var P={current:null};function A(){var e=P.current;if(null===e)throw Error(d(321));return e}var O={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error(d(143));return e}},t.Component=y,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,n){if(null==e)throw Error(d(267,e));var o=r({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=w.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)E.call(t,l)&&!S.hasOwnProperty(l)&&(o[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];o.children=c}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return A().useCallback(e,t)},t.useContext=function(e,t){return A().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return A().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return A().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return A().useLayoutEffect(e,t)},t.useMemo=function(e,t){return A().useMemo(e,t)},t.useReducer=function(e,t,n){return A().useReducer(e,t,n)},t.useRef=function(e){return A().useRef(e)},t.useState=function(e){return A().useState(e)},t.version="17.0.2"},7294:(e,t,n)=>{"use strict";e.exports=n(2408)},53:(e,t)=>{"use strict";var n,r,i,o;if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var c=null,l=null,f=function(){if(null!==c)try{var e=t.unstable_now();c(!0,e),c=null}catch(e){throw setTimeout(f,0),e}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!=typeof console){var p=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,y=null,m=-1,g=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,E=w.port2;w.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();b=e+g;try{y(!0,e)?E.postMessage(null):(v=!1,y=null)}catch(e){throw E.postMessage(null),e}}else v=!1},n=function(e){y=e,v||(v=!0,E.postMessage(null))},r=function(e,n){m=h((function(){e(t.unstable_now())}),n)},i=function(){d(m),m=-1}}function S(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<x(i,t)))break e;e[r]=t,e[n]=i,n=r}}function k(e){return void 0===(e=e[0])?null:e}function _(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,u=e[s];if(void 0!==a&&0>x(a,n))void 0!==u&&0>x(u,a)?(e[r]=u,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==u&&0>x(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function x(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=[],I=[],C=1,N=null,P=3,A=!1,O=!1,R=!1;function D(e){for(var t=k(I);null!==t;){if(null===t.callback)_(I);else{if(!(t.startTime<=e))break;_(I),t.sortIndex=t.expirationTime,S(T,t)}t=k(I)}}function L(e){if(R=!1,D(e),!O)if(null!==k(T))O=!0,n(M);else{var t=k(I);null!==t&&r(L,t.startTime-e)}}function M(e,n){O=!1,R&&(R=!1,i()),A=!0;var o=P;try{for(D(n),N=k(T);null!==N&&(!(N.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=N.callback;if("function"==typeof a){N.callback=null,P=N.priorityLevel;var s=a(N.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?N.callback=s:N===k(T)&&_(T),D(n)}else _(T);N=k(T)}if(null!==N)var u=!0;else{var c=k(I);null!==c&&r(L,c.startTime-n),u=!1}return u}finally{N=null,P=o,A=!1}}var F=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){O||A||(O=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return P},t.unstable_getFirstCallbackNode=function(){return k(T)},t.unstable_next=function(e){switch(P){case 1:case 2:case 3:var t=3;break;default:t=P}var n=P;P=t;try{return e()}finally{P=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=P;P=e;try{return t()}finally{P=n}},t.unstable_scheduleCallback=function(e,o,a){var s=t.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?s+a:s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:C++,callback:o,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>s?(e.sortIndex=a,S(I,e),null===k(T)&&e===k(I)&&(R?i():R=!0,r(L,a-s))):(e.sortIndex=u,S(T,e),O||A||(O=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=P;return function(){var n=P;P=t;try{return e.apply(this,arguments)}finally{P=n}}}},3840:(e,t,n)=>{"use strict";e.exports=n(53)}},t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=n(7294),t=n(3935);function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var i=n(5697),o=n.n(i);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e){return"/"===e.charAt(0)}function u(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}const c=function(e,t){if(!e)throw new Error("Invariant failed")};function l(e){return"/"===e.charAt(0)?e:"/"+e}function f(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function h(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function d(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function p(e,t,n,r){var i;"string"==typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(i=a({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],o=e&&s(e),a=t&&s(t),c=o||a;if(e&&s(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var l=i[i.length-1];n="."===l||".."===l||""===l}else n=!1;for(var f=0,h=i.length;h>=0;h--){var d=i[h];"."===d?u(i,h):".."===d?(u(i,h),f++):f&&(u(i,h),f--)}if(!c)for(;f--;f)i.unshift("..");!c||""===i[0]||i[0]&&s(i[0])||i.unshift("");var p=i.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p}(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function v(){var e=null,t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"==typeof e?e(t,n):e;"string"==typeof o?"function"==typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var y=!("undefined"==typeof window||!window.document||!window.document.createElement);function m(e,t){t(window.confirm(e))}var g="popstate",b="hashchange";function w(){try{return window.history.state||{}}catch(e){return{}}}function E(e){void 0===e&&(e={}),y||c(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,o=i.forceRefresh,s=void 0!==o&&o,u=i.getUserConfirmation,E=void 0===u?m:u,S=i.keyLength,k=void 0===S?6:S,_=e.basename?h(l(e.basename)):"";function x(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return _&&(o=f(o,_)),p(o,r,n)}function T(){return Math.random().toString(36).substr(2,k)}var I=v();function C(e){a(V,e),V.length=t.length,I.notifyListeners(V.location,V.action)}function N(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||O(x(e.state))}function P(){O(x(w()))}var A=!1;function O(e){A?(A=!1,C()):I.confirmTransitionTo(e,"POP",E,(function(t){t?C({action:"POP",location:e}):function(e){var t=V.location,n=D.indexOf(t.key);-1===n&&(n=0);var r=D.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(A=!0,M(i))}(e)}))}var R=x(w()),D=[R.key];function L(e){return _+d(e)}function M(e){t.go(e)}var F=0;function U(e){1===(F+=e)&&1===e?(window.addEventListener(g,N),r&&window.addEventListener(b,P)):0===F&&(window.removeEventListener(g,N),r&&window.removeEventListener(b,P))}var j=!1,V={length:t.length,action:"POP",location:R,createHref:L,push:function(e,r){var i="PUSH",o=p(e,r,T(),V.location);I.confirmTransitionTo(o,i,E,(function(e){if(e){var r=L(o),a=o.key,u=o.state;if(n)if(t.pushState({key:a,state:u},null,r),s)window.location.href=r;else{var c=D.indexOf(V.location.key),l=D.slice(0,c+1);l.push(o.key),D=l,C({action:i,location:o})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",o=p(e,r,T(),V.location);I.confirmTransitionTo(o,i,E,(function(e){if(e){var r=L(o),a=o.key,u=o.state;if(n)if(t.replaceState({key:a,state:u},null,r),s)window.location.replace(r);else{var c=D.indexOf(V.location.key);-1!==c&&(D[c]=o.key),C({action:i,location:o})}else window.location.replace(r)}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&(e=!1);var t=I.setPrompt(e);return j||(U(1),j=!0),function(){return j&&(j=!1,U(-1)),t()}},listen:function(e){var t=I.appendListener(e);return U(1),function(){U(-1),t()}}};return V}var S=1073741823,k="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:{};function _(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}const x=e.createContext||function(t,n){var i,a,s,u="__create-react-context-"+((k[s="__global_unique_id__"]=(k[s]||0)+1)+"__"),c=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).emitter=_(t.props.value),t}r(t,e);var i=t.prototype;return i.getChildContext=function(){var e;return(e={})[u]=this.emitter,e},i.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(r,i)?(t="function"==typeof n?n(r,i):S,0!=(t|=0)&&this.emitter.set(e.value,t)):t=0}},i.render=function(){return this.props.children},t}(e.Component);c.childContextTypes=((i={})[u]=o().object.isRequired,i);var l=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).state={value:t.getValue()},t.onUpdate=function(e,n){0!=((0|t.observedBits)&n)&&t.setState({value:t.getValue()})},t}r(n,e);var i=n.prototype;return i.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?S:t},i.componentDidMount=function(){this.context[u]&&this.context[u].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?S:e},i.componentWillUnmount=function(){this.context[u]&&this.context[u].off(this.onUpdate)},i.getValue=function(){return this.context[u]?this.context[u].get():t},i.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(e.Component);return l.contextTypes=((a={})[u]=o().object,a),{Provider:c,Consumer:l}};var T=n(9658),I=n.n(T);function C(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n(663);var N=n(8679),P=n.n(N),A=function(e){var t=x();return t.displayName="Router-History",t}(),O=function(e){var t=x();return t.displayName="Router",t}(),R=function(t){function n(e){var n;return(n=t.call(this,e)||this).state={location:e.history.location},n._isMounted=!1,n._pendingLocation=null,e.staticContext||(n.unlisten=e.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}r(n,t),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var i=n.prototype;return i.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},i.componentWillUnmount=function(){this.unlisten&&this.unlisten()},i.render=function(){return e.createElement(O.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},e.createElement(A.Provider,{children:this.props.children||null,value:this.props.history}))},n}(e.Component);e.Component,e.Component;var D={},L=0;function M(e,t){void 0===t&&(t={}),("string"==typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=D[n]||(D[n]={});if(r[e])return r[e];var i=[],o={regexp:I()(e,i,t),keys:i};return L<1e4&&(r[e]=o,L++),o}(n,{end:o,strict:s,sensitive:c}),i=r.regexp,a=r.keys,u=i.exec(e);if(!u)return null;var l=u[0],f=u.slice(1),h=e===l;return o&&!h?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:h,params:a.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var F=function(t){function n(){return t.apply(this,arguments)||this}return r(n,t),n.prototype.render=function(){var t=this;return e.createElement(O.Consumer,null,(function(n){n||c(!1);var r=t.props.location||n.location,i=a({},n,{location:r,match:t.props.computedMatch?t.props.computedMatch:t.props.path?M(r.pathname,t.props):n.match}),o=t.props,s=o.children,u=o.component,l=o.render;return Array.isArray(s)&&0===s.length&&(s=null),e.createElement(O.Provider,{value:i},i.match?s?"function"==typeof s?s(i):s:u?e.createElement(u,i):l?l(i):null:"function"==typeof s?s(i):null)}))},n}(e.Component);e.Component;var U=function(t){function n(){return t.apply(this,arguments)||this}return r(n,t),n.prototype.render=function(){var t=this;return e.createElement(O.Consumer,null,(function(n){n||c(!1);var r,i,o=t.props.location||n.location;return e.Children.forEach(t.props.children,(function(t){if(null==i&&e.isValidElement(t)){r=t;var s=t.props.path||t.props.from;i=s?M(o.pathname,a({},t.props,{path:s})):n.match}})),i?e.cloneElement(r,{location:o,computedMatch:i}):null}))},n}(e.Component);e.useContext;var j=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).history=E(e.props),e}return r(n,t),n.prototype.render=function(){return e.createElement(R,{history:this.history,children:this.props.children})},n}(e.Component);e.Component;var V=function(e,t){return"function"==typeof e?e(t):e},z=function(e,t){return"string"==typeof e?p(e,null,null,t):e},q=function(e){return e},B=e.forwardRef;void 0===B&&(B=q);var K=B((function(t,n){var r=t.innerRef,i=t.navigate,o=t.onClick,s=C(t,["innerRef","navigate","onClick"]),u=s.target,c=a({},s,{onClick:function(e){try{o&&o(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||u&&"_self"!==u||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return c.ref=q!==B&&n||r,e.createElement("a",c)})),W=B((function(t,n){var r=t.component,i=void 0===r?K:r,o=t.replace,s=t.to,u=t.innerRef,l=C(t,["component","replace","to","innerRef"]);return e.createElement(O.Consumer,null,(function(t){t||c(!1);var r=t.history,f=z(V(s,t.location),t.location),h=f?r.createHref(f):"",d=a({},l,{href:h,navigate:function(){var e=V(s,t.location);(o?r.replace:r.push)(e)}});return q!==B?d.ref=n||u:d.innerRef=u,e.createElement(i,d)}))})),G=function(e){return e},H=e.forwardRef;void 0===H&&(H=G),H((function(t,n){var r=t["aria-current"],i=void 0===r?"page":r,o=t.activeClassName,s=void 0===o?"active":o,u=t.activeStyle,l=t.className,f=t.exact,h=t.isActive,d=t.location,p=t.sensitive,v=t.strict,y=t.style,m=t.to,g=t.innerRef,b=C(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return e.createElement(O.Consumer,null,(function(t){t||c(!1);var r=d||t.location,o=z(V(m,r),r),w=o.pathname,E=w&&w.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),S=E?M(r.pathname,{path:E,exact:f,sensitive:p,strict:v}):null,k=!!(h?h(S,r):S),_=k?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(l,s):l,x=k?a({},y,{},u):y,T=a({"aria-current":k&&i||null,className:_,style:x,to:o},b);return G!==H?T.ref=n||g:T.innerRef=g,e.createElement(W,T)}))}));const Q=(0,e.createContext)({});function $(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}"function"==typeof Symbol&&Symbol.observable;var Y=function(){return Math.random().toString(36).substring(7).split("").join(".")},X={INIT:"@@redux/INIT"+Y(),REPLACE:"@@redux/REPLACE"+Y(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Y()}},J="FILTER_BY_EMOTION",Z="FILTER_BY_DTW";const ee=function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];"function"==typeof e[i]&&(n[i]=e[i])}var o,a=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:X.INIT}))throw new Error($(12));if(void 0===n(void 0,{type:X.PROBE_UNKNOWN_ACTION()}))throw new Error($(13))}))}(n)}catch(e){o=e}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,i={},s=0;s<a.length;s++){var u=a[s],c=n[u],l=e[u],f=c(l,t);if(void 0===f)throw t&&t.type,new Error($(14));i[u]=f,r=r||f!==l}return(r=r||a.length!==Object.keys(e).length)?i:e}}({filterEmotion:function(e,t){switch(void 0===e&&(e=""),t.type){case J:return t.filterEmotion;default:return e}},filterFaceIcon:function(e,t){switch(void 0===e&&(e=[]),t.type){case"FILTER_BY_FACEICON":return t.filterFaceIcon;default:return e}},filterDTW:function(e,t){switch(void 0===e&&(e={timeSeriesDataX:[],timeSeriesDataY:[]}),t.type){case Z:return t.timeSeriesData;default:return e}}});var te=n(9741);function ne(e,t){if(null==e)return{};var n,r,i=C(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};const ie="object"===("undefined"==typeof window?"undefined":re(window))&&"object"===("undefined"==typeof document?"undefined":re(document))&&9===document.nodeType;function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ae(e,t,n){return t&&oe(e.prototype,t),n&&oe(e,n),e}function se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var ue={}.constructor;function ce(e){if(null==e||"object"!=typeof e)return e;if(Array.isArray(e))return e.map(ce);if(e.constructor!==ue)return e;var t={};for(var n in e)t[n]=ce(e[n]);return t}function le(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=ce(t);return r.plugins.onCreateRule(e,i,n)||(e[0],null)}var fe=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},he=function(e,t){if(void 0===t&&(t=!1),!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=", "),n+=fe(e[r]," ");else n=fe(e,", ");return t||"!important"!==e[e.length-1]||(n+=" !important"),n};function de(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function pe(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,o=void 0===i?0:i,a=t.fallbacks;if(e&&o++,a)if(Array.isArray(a))for(var s=0;s<a.length;s++){var u=a[s];for(var c in u){var l=u[c];null!=l&&(r&&(r+="\n"),r+=""+de(c+": "+he(l)+";",o))}}else for(var f in a){var h=a[f];null!=h&&(r&&(r+="\n"),r+=""+de(f+": "+he(h)+";",o))}for(var d in t){var p=t[d];null!=p&&"fallbacks"!==d&&(r&&(r+="\n"),r+=""+de(d+": "+he(p)+";",o))}return(r||n.allowEmpty)&&e?(r&&(r="\n"+r+"\n"),de(e+" {"+r,--o)+de("}",o)):r}var ve=/([[\].#*$><+~=|^:(),"'`\s])/g,ye="undefined"!=typeof CSS&&CSS.escape,me=function(e){return ye?ye(e):e.replace(ve,"\\$1")},ge=function(){function e(e,t,n){this.type="style",this.key=void 0,this.isProcessed=!1,this.style=void 0,this.renderer=void 0,this.renderable=void 0,this.options=void 0;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var o=null==i||!1===i,a=e in this.style;if(o&&!a&&!r)return this;var s=o&&a;if(s?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var u=this.options.sheet;return u&&u.attached,this},e}(),be=function(e){function t(t,n,r){var i;(i=e.call(this,t,n,r)||this).selectorText=void 0,i.id=void 0,i.renderable=void 0;var o=r.selector,a=r.scoped,s=r.sheet,u=r.generateId;return o?i.selectorText=o:!1!==a&&(i.id=u(se(se(i)),s),i.selectorText="."+me(i.id)),i}r(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!=typeof n?e[t]=n:Array.isArray(n)&&(e[t]=he(n))}return e},n.toString=function(e){var t=this.options.sheet,n=t&&t.options.link?a({},e,{allowEmpty:!0}):e;return pe(this.selectorText,this.style,n)},ae(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;n&&t&&(t.setSelector(n,e)||t.replaceRule(n,this))}},get:function(){return this.selectorText}}]),t}(ge),we={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new be(e,t,n)}},Ee={indent:1,children:!0},Se=/@([\w-]+)/,ke=function(){function e(e,t,n){this.type="conditional",this.at=void 0,this.key=void 0,this.query=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e;var r=e.match(Se);for(var i in this.at=r?r[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new Ge(a({},n,{parent:this})),t)this.rules.add(i,t[i]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.toString=function(e){if(void 0===e&&(e=Ee),null==e.indent&&(e.indent=Ee.indent),null==e.children&&(e.children=Ee.children),!1===e.children)return this.query+" {}";var t=this.rules.toString(e);return t?this.query+" {\n"+t+"\n}":""},e}(),_e=/@media|@supports\s+/,xe={onCreateRule:function(e,t,n){return _e.test(e)?new ke(e,t,n):null}},Te={indent:1,children:!0},Ie=/@keyframes\s+([\w-]+)/,Ce=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.key=void 0,this.name=void 0,this.id=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0;var r=e.match(Ie);r&&r[1]?this.name=r[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var i=n.scoped,o=n.sheet,s=n.generateId;for(var u in this.id=!1===i?this.name:me(s(this,o)),this.rules=new Ge(a({},n,{parent:this})),t)this.rules.add(u,t[u],a({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){if(void 0===e&&(e=Te),null==e.indent&&(e.indent=Te.indent),null==e.children&&(e.children=Te.children),!1===e.children)return this.at+" "+this.id+" {}";var t=this.rules.toString(e);return t&&(t="\n"+t+"\n"),this.at+" "+this.id+" {"+t+"}"},e}(),Ne=/@keyframes\s+/,Pe=/\$([\w-]+)/g,Ae=function(e,t){return"string"==typeof e?e.replace(Pe,(function(e,n){return n in t?t[n]:e})):e},Oe=function(e,t,n){var r=e[t],i=Ae(r,n);i!==r&&(e[t]=i)},Re={onCreateRule:function(e,t,n){return"string"==typeof e&&Ne.test(e)?new Ce(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&Oe(e,"animation-name",n.keyframes),"animation"in e&&Oe(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return Ae(e,r.keyframes);default:return e}}},De=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).renderable=void 0,t}return r(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=t&&t.options.link?a({},e,{allowEmpty:!0}):e;return pe(this.key,this.style,n)},t}(ge),Le={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new De(e,t,n):null}},Me=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.style)){for(var t="",n=0;n<this.style.length;n++)t+=pe(this.at,this.style[n]),this.style[n+1]&&(t+="\n");return t}return pe(this.at,this.style,e)},e}(),Fe=/@font-face/,Ue={onCreateRule:function(e,t,n){return Fe.test(e)?new Me(e,t,n):null}},je=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return pe(this.key,this.style,e)},e}(),Ve={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new je(e,t,n):null}},ze=function(){function e(e,t,n){this.type="simple",this.key=void 0,this.value=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),qe={"@charset":!0,"@import":!0,"@namespace":!0},Be=[we,xe,Re,Le,Ue,Ve,{onCreateRule:function(e,t,n){return e in qe?new ze(e,t,n):null}}],Ke={process:!0},We={force:!0,process:!0},Ge=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=void 0,this.classes=void 0,this.keyframes=void 0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var r=this.options,i=r.parent,o=r.sheet,s=r.jss,u=r.Renderer,c=r.generateId,l=r.scoped,f=a({classes:this.classes,parent:i,sheet:o,jss:s,Renderer:u,generateId:c,scoped:l,name:e,keyframes:this.keyframes,selector:void 0},n),h=e;e in this.raw&&(h=e+"-d"+this.counter++),this.raw[h]=t,h in this.classes&&(f.selector="."+me(this.classes[h]));var d=le(h,t,f);if(!d)return null;this.register(d);var p=void 0===f.index?this.index.length:f.index;return this.index.splice(p,0,d),d},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof be?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof Ce&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof be?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof Ce&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"==typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.map[e],t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=Ke);var i=this.options,o=i.jss.plugins,a=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var s=t,u=s.style;if(o.onUpdate(n,t,a,r),r.process&&u&&u!==s.style){for(var c in o.onProcessStyle(s.style,s,a),s.style){var l=s.style[c];l!==u[c]&&s.prop(c,l,We)}for(var f in u){var h=s.style[f],d=u[f];null==h&&h!==d&&s.prop(f,null,We)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=0;i<this.index.length;i++){var o=this.index[i].toString(e);(o||r)&&(t&&(t+="\n"),t+=o)}return t},e}(),He=function(){function e(e,t){for(var n in this.options=void 0,this.deployed=void 0,this.attached=void 0,this.rules=void 0,this.renderer=void 0,this.classes=void 0,this.keyframes=void 0,this.queue=void 0,this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=a({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new Ge(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"==typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),Qe=function(){function e(){this.plugins={internal:[],external:[]},this.registry=void 0}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),$e=new(function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=C(t,["attached"]),i="",o=0;o<this.registry.length;o++){var a=this.registry[o];null!=n&&a.attached!==n||(i&&(i+="\n"),i+=a.toString(r))}return i},ae(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}()),Ye="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window&&window.Math===Math?window:"undefined"!=typeof self&&self.Math===Math?self:Function("return this")(),Xe="2f1acc6c3a606b082e5eef5e54414ffb";null==Ye[Xe]&&(Ye[Xe]=0);var Je=Ye[Xe]++,Ze=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",o="";return r&&(r.options.classNamePrefix&&(o=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(o||"c")+Je+i+t:o+n.key+"-"+Je+(i?"-"+i:"")+"-"+t}},et=function(e){var t;return function(){return t||(t=e()),t}},tt=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(e){return""}},nt=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=he(n,!0),"!important"===n[n.length-1]))return e.style.setProperty(t,r,"important"),!0;e.attributeStyleMap?e.attributeStyleMap.set(t,r):e.style.setProperty(t,r)}catch(e){return!1}return!0},rt=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(e){}},it=function(e,t){return e.selectorText=t,e.selectorText===t},ot=et((function(){return document.querySelector("head")}));var at=et((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),st=function(e,t,n){try{"insertRule"in e?e.insertRule(t,n):"appendRule"in e&&e.appendRule(t)}catch(e){return!1}return e.cssRules[n]},ut=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},ct=function(){function e(e){this.getPropertyValue=tt,this.setProperty=nt,this.removeProperty=rt,this.setSelector=it,this.element=void 0,this.sheet=void 0,this.hasInsertedRules=!1,this.cssRules=[],e&&$e.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var o=at();o&&this.element.setAttribute("nonce",o)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=function(e){var t=$e.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if((n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e))&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"==typeof r){var i=function(e){for(var t=ot(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"==typeof n.nodeType){var i=n,o=i.parentNode;o&&o.insertBefore(e,i.nextSibling)}else ot().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;if("conditional"===e.type||"keyframes"===e.type){var o=ut(n,t);if(!1===(i=st(n,r.toString({children:!1}),o)))return!1;this.refCssRule(e,o,i)}return this.insertRules(r.rules,i),i}var a=e.toString();if(!a)return!1;var s=ut(n,t),u=st(n,a,s);return!1!==u&&(this.hasInsertedRules=!0,this.refCssRule(e,s,u),u)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof He&&(this.cssRules[t]=n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),lt=0,ft=function(){function e(e){this.id=lt++,this.version="10.6.0",this.plugins=new Qe,this.options={id:{minify:!1},createGenerateId:Ze,Renderer:ie?ct:null,plugins:[]},this.generateId=Ze({minify:!1});for(var t=0;t<Be.length;t++)this.plugins.use(Be[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=a({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!=typeof n&&(n=0===$e.index?0:$e.index+1);var r=new He(e,a({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(r),r},t.removeStyleSheet=function(e){return e.detach(),$e.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"==typeof e)return this.createRule(void 0,e,t);var r=a({},n,{name:e,jss:this,Renderer:this.options.Renderer});r.generateId||(r.generateId=this.generateId),r.classes||(r.classes={}),r.keyframes||(r.keyframes={});var i=le(e,t,r);return i&&this.plugins.onProcessRule(i),i},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}();function ht(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if("function"===i)t||(t={}),t[n]=r;else if("object"===i&&null!==r&&!Array.isArray(r)){var o=ht(r);o&&(t||(t={}),t[n]=o)}}return t}var dt="object"==typeof CSS&&null!=CSS&&"number"in CSS,pt=function(e){return new ft(e)};function vt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;if(e.Component,!n)return t;var r=a({},t);return Object.keys(n).forEach((function(e){n[e]&&(r[e]="".concat(t[e]," ").concat(n[e]))})),r}pt();const yt=function(e,t,n,r){var i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},mt=function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},gt=function(e,t,n){e.get(t).delete(n)},bt=e.createContext(null);function wt(){return e.useContext(bt)}const Et="function"==typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__";var St=["checked","disabled","error","focused","focusVisible","required","expanded","selected"],kt=Date.now(),_t="fnValues"+kt,xt="fnStyle"+ ++kt;var Tt="@global",It="@global ",Ct=function(){function e(e,t,n){for(var r in this.type="global",this.at=Tt,this.rules=void 0,this.options=void 0,this.key=void 0,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new Ge(a({},n,{parent:this})),t)this.rules.add(r,t[r]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(){return this.rules.toString()},e}(),Nt=function(){function e(e,t,n){this.type="global",this.at=Tt,this.options=void 0,this.rule=void 0,this.isProcessed=!1,this.key=void 0,this.key=e,this.options=n;var r=e.substr(It.length);this.rule=n.jss.createRule(r,t,a({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),Pt=/\s*,\s*/g;function At(e,t){for(var n=e.split(Pt),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}var Ot=/\s*,\s*/g,Rt=/&/g,Dt=/\$([\w-]+)/g;var Lt=/[A-Z]/g,Mt=/^ms-/,Ft={};function Ut(e){return"-"+e.toLowerCase()}const jt=function(e){if(Ft.hasOwnProperty(e))return Ft[e];var t=e.replace(Lt,Ut);return Ft[e]=Mt.test(t)?"-"+t:t};function Vt(e){var t={};for(var n in e)t[0===n.indexOf("--")?n:jt(n)]=e[n];return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(Vt):t.fallbacks=Vt(e.fallbacks)),t}var zt=dt&&CSS?CSS.px:"px",qt=dt&&CSS?CSS.ms:"ms",Bt=dt&&CSS?CSS.percent:"%";function Kt(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var Wt=Kt({"animation-delay":qt,"animation-duration":qt,"background-position":zt,"background-position-x":zt,"background-position-y":zt,"background-size":zt,border:zt,"border-bottom":zt,"border-bottom-left-radius":zt,"border-bottom-right-radius":zt,"border-bottom-width":zt,"border-left":zt,"border-left-width":zt,"border-radius":zt,"border-right":zt,"border-right-width":zt,"border-top":zt,"border-top-left-radius":zt,"border-top-right-radius":zt,"border-top-width":zt,"border-width":zt,"border-block":zt,"border-block-end":zt,"border-block-end-width":zt,"border-block-start":zt,"border-block-start-width":zt,"border-block-width":zt,"border-inline":zt,"border-inline-end":zt,"border-inline-end-width":zt,"border-inline-start":zt,"border-inline-start-width":zt,"border-inline-width":zt,"border-start-start-radius":zt,"border-start-end-radius":zt,"border-end-start-radius":zt,"border-end-end-radius":zt,margin:zt,"margin-bottom":zt,"margin-left":zt,"margin-right":zt,"margin-top":zt,"margin-block":zt,"margin-block-end":zt,"margin-block-start":zt,"margin-inline":zt,"margin-inline-end":zt,"margin-inline-start":zt,padding:zt,"padding-bottom":zt,"padding-left":zt,"padding-right":zt,"padding-top":zt,"padding-block":zt,"padding-block-end":zt,"padding-block-start":zt,"padding-inline":zt,"padding-inline-end":zt,"padding-inline-start":zt,"mask-position-x":zt,"mask-position-y":zt,"mask-size":zt,height:zt,width:zt,"min-height":zt,"max-height":zt,"min-width":zt,"max-width":zt,bottom:zt,left:zt,top:zt,right:zt,inset:zt,"inset-block":zt,"inset-block-end":zt,"inset-block-start":zt,"inset-inline":zt,"inset-inline-end":zt,"inset-inline-start":zt,"box-shadow":zt,"text-shadow":zt,"column-gap":zt,"column-rule":zt,"column-rule-width":zt,"column-width":zt,"font-size":zt,"font-size-delta":zt,"letter-spacing":zt,"text-decoration-thickness":zt,"text-indent":zt,"text-stroke":zt,"text-stroke-width":zt,"word-spacing":zt,motion:zt,"motion-offset":zt,outline:zt,"outline-offset":zt,"outline-width":zt,perspective:zt,"perspective-origin-x":Bt,"perspective-origin-y":Bt,"transform-origin":Bt,"transform-origin-x":Bt,"transform-origin-y":Bt,"transform-origin-z":Bt,"transition-delay":qt,"transition-duration":qt,"vertical-align":zt,"flex-basis":zt,"shape-margin":zt,size:zt,gap:zt,grid:zt,"grid-gap":zt,"row-gap":zt,"grid-row-gap":zt,"grid-column-gap":zt,"grid-template-rows":zt,"grid-template-columns":zt,"grid-auto-rows":zt,"grid-auto-columns":zt,"box-shadow-x":zt,"box-shadow-y":zt,"box-shadow-blur":zt,"box-shadow-spread":zt,"font-line-height":zt,"text-shadow-x":zt,"text-shadow-y":zt,"text-shadow-blur":zt});function Gt(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=Gt(e,t[r],n);else if("object"==typeof t)if("fallbacks"===e)for(var i in t)t[i]=Gt(i,t[i],n);else for(var o in t)t[o]=Gt(e+"-"+o,t[o],n);else if("number"==typeof t&&!1===isNaN(t)){var a=n[e]||Wt[e];return!a||0===t&&a===zt?t.toString():"function"==typeof a?a(t).toString():""+t+a}return t}function Ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qt(e,t){if(e){if("string"==typeof e)return Ht(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ht(e,t):void 0}}function $t(e){return function(e){if(Array.isArray(e))return Ht(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Qt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Yt="",Xt="",Jt="",Zt="",en=ie&&"ontouchstart"in document.documentElement;if(ie){var tn={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},nn=document.createElement("p").style;for(var rn in tn)if(rn+"Transform"in nn){Yt=rn,Xt=tn[rn];break}"Webkit"===Yt&&"msHyphens"in nn&&(Yt="ms",Xt=tn.ms,Zt="edge"),"Webkit"===Yt&&"-apple-trailing-word"in nn&&(Jt="apple")}var on=Yt,an=Xt,sn=Jt,un=Zt,cn=en,ln={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===on?"-webkit-"+e:an+e)}},fn={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===on?an+"print-"+e:e)}},hn=/[-\s]+(.)?/g;function dn(e,t){return t?t.toUpperCase():""}function pn(e){return e.replace(hn,dn)}function vn(e){return pn("-"+e)}var yn,mn={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===on){var n="mask-image";if(pn(n)in t)return e;if(on+vn(n)in t)return an+e}return e}},gn={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==sn||cn?e:an+e)}},bn={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:an+e)}},wn={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:an+e)}},En={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===on||"ms"===on&&"edge"!==un?an+e:e)}},Sn={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===on||"ms"===on||"apple"===sn?an+e:e)}},kn={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===on?"WebkitColumn"+vn(e)in t&&an+"column-"+e:"Moz"===on&&"page"+vn(e)in t&&"page-"+e)}},_n={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===on)return e;var n=e.replace("-inline","");return on+vn(n)in t&&an+n}},xn={supportedProperty:function(e,t){return pn(e)in t&&e}},Tn={supportedProperty:function(e,t){var n=vn(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:on+n in t?an+e:"Webkit"!==on&&"Webkit"+n in t&&"-webkit-"+e}},In={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===on?""+an+e:e)}},Cn={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===on?an+"scroll-chaining":e)}},Nn={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Pn={supportedProperty:function(e,t){var n=Nn[e];return!!n&&on+vn(n)in t&&an+n}},An={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},On=Object.keys(An),Rn=function(e){return an+e},Dn=[ln,fn,mn,gn,bn,wn,En,Sn,kn,_n,xn,Tn,In,Cn,Pn,{supportedProperty:function(e,t,n){var r=n.multiple;if(On.indexOf(e)>-1){var i=An[e];if(!Array.isArray(i))return on+vn(i)in t&&an+i;if(!r)return!1;for(var o=0;o<i.length;o++)if(!(on+vn(i[0])in t))return!1;return i.map(Rn)}return!1}}],Ln=Dn.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),Mn=Dn.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,$t(t.noPrefill)),e}),[]),Fn={};if(ie){yn=document.createElement("p");var Un=window.getComputedStyle(document.documentElement,"");for(var jn in Un)isNaN(jn)||(Fn[Un[jn]]=Un[jn]);Mn.forEach((function(e){return delete Fn[e]}))}function Vn(e,t){if(void 0===t&&(t={}),!yn)return e;if(null!=Fn[e])return Fn[e];"transition"!==e&&"transform"!==e||(t[e]=e in yn.style);for(var n=0;n<Ln.length&&(Fn[e]=Ln[n](e,yn.style,t),!Fn[e]);n++);try{yn.style[e]=""}catch(e){return!1}return Fn[e]}var zn,qn={},Bn={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},Kn=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function Wn(e,t,n){return"var"===t?"var":"all"===t?"all":"all"===n?", all":(t?Vn(t):", "+Vn(n))||t||n}function Gn(e,t){var n=t;if(!zn||"content"===e)return t;if("string"!=typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=qn[r])return qn[r];try{zn.style[e]=n}catch(e){return qn[r]=!1,!1}if(Bn[e])n=n.replace(Kn,Wn);else if(""===zn.style[e]&&("-ms-flex"===(n=an+n)&&(zn.style[e]="-ms-flexbox"),zn.style[e]=n,""===zn.style[e]))return qn[r]=!1,!1;return zn.style[e]="",qn[r]=n,qn[r]}ie&&(zn=document.createElement("p"));var Hn,Qn=pt({plugins:[{onCreateRule:function(e,t,n){if("function"!=typeof t)return null;var r=le(e,{},n);return r[xt]=t,r},onProcessStyle:function(e,t){if(_t in t||xt in t)return e;var n={};for(var r in e){var i=e[r];"function"==typeof i&&(delete e[r],n[r]=i)}return t[_t]=n,e},onUpdate:function(e,t,n,r){var i=t,o=i[xt];o&&(i.style=o(e)||{});var a=i[_t];if(a)for(var s in a)i.prop(s,a[s](e),r)}},{onCreateRule:function(e,t,n){if(!e)return null;if(e===Tt)return new Ct(e,t,n);if("@"===e[0]&&e.substr(0,It.length)===It)return new Nt(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),!1===n.scoped&&(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,r=e.style,i=r?r[Tt]:null;if(i){for(var o in i)t.addRule(o,i[o],a({},n,{selector:At(o,e.selector)}));delete r[Tt]}}(e,t),function(e,t){var n=e.options,r=e.style;for(var i in r)if("@"===i[0]&&i.substr(0,Tt.length)===Tt){var o=At(i.substr(Tt.length),e.selector);t.addRule(o,r[i],a({},n,{selector:o})),delete r[i]}}(e,t))}},function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?(i=i).selector:r}}function t(e,t){for(var n=t.split(Ot),r=e.split(Ot),i="",o=0;o<n.length;o++)for(var a=n[o],s=0;s<r.length;s++){var u=r[s];i&&(i+=", "),i+=-1!==u.indexOf("&")?u.replace(Rt,a):a+" "+u}return i}function n(e,t,n){if(n)return a({},n,{index:n.index+1});var r=e.options.nestingLevel;r=void 0===r?1:r+1;var i=a({},e.options,{nestingLevel:r,index:t.indexOf(e)+1});return delete i.name,i}return{onProcessStyle:function(r,i,o){if("style"!==i.type)return r;var s,u,c=i,l=c.options.parent;for(var f in r){var h=-1!==f.indexOf("&"),d="@"===f[0];if(h||d){if(s=n(c,l,s),h){var p=t(f,c.selector);u||(u=e(l,o)),p=p.replace(Dt,u),l.addRule(p,r[f],a({},s,{selector:p}))}else d&&l.addRule(f,{},s).addRule(c.key,r[f],{selector:c.selector});delete r[f]}}return r}}}(),{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=Vt(e[t]);return e}return Vt(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=jt(t);return t===r?e:(n.prop(r,e),null)}},function(e){void 0===e&&(e={});var t=Kt(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=Gt(r,e[r],t);return e},onChangeValue:function(e,n){return Gt(n,e,t)}}}(),"undefined"==typeof window?null:function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var i=!1,o=Vn(n);o&&o!==n&&(i=!0);var a=!1,s=Gn(o,he(r));s&&s!==r&&(a=!0),(i||a)&&(i&&delete t[n],t[o||n]=s||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at="-"===(n=t.at)[1]||"ms"===on?n:"@"+an+"keyframes"+n.substr(10)}var n},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return Gn(t,he(e))||e}}}(),(Hn=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length},{onProcessStyle:function(e,t){if("style"!==t.type)return e;for(var n={},r=Object.keys(e).sort(Hn),i=0;i<r.length;i++)n[r[i]]=e[r[i]];return n}})]}),$n={disableGeneration:!1,generateClassName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,r=e.productionPrefix,i=void 0===r?"jss":r,o=e.seed,a=void 0===o?"":o,s=""===a?"":"".concat(a,"-"),u=0,c=function(){return u+=1};return function(e,t){var r=t.options.name;if(r&&0===r.indexOf("Mui")&&!t.options.link&&!n){if(-1!==St.indexOf(e.key))return"Mui-".concat(e.key);var o="".concat(s).concat(r,"-").concat(e.key);return t.options.theme[Et]&&""===a?"".concat(o,"-").concat(c()):o}return"".concat(s).concat(i).concat(c())}}(),jss:Qn,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},Yn=e.createContext($n),Xn=-1e9;function Jn(){return Xn+=1}function Zn(e){return(Zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function er(e){return e&&"object"===Zn(e)&&e.constructor===Object}function tr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?a({},e):e;return er(e)&&er(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(er(t[i])&&i in e?r[i]=tr(e[i],t[i],n):r[i]=t[i])})),r}function nr(e){var t="function"==typeof e;return{create:function(n,r){var i;try{i=t?e(n):e}catch(e){throw e}if(!r||!n.overrides||!n.overrides[r])return i;var o=n.overrides[r],s=a({},i);return Object.keys(o).forEach((function(e){s[e]=tr(s[e],o[e])})),s},options:{}}}const rr={};function ir(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,i=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,i=!0),i&&(r.cacheClasses.value=vt({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}function or(e,t){var n=e.state,r=e.theme,i=e.stylesOptions,o=e.stylesCreator,s=e.name;if(!i.disableGeneration){var u=mt(i.sheetsManager,o,r);u||(u={refs:0,staticSheet:null,dynamicStyles:null},yt(i.sheetsManager,o,r,u));var c=a({},o.options,i,{theme:r,flip:"boolean"==typeof i.flip?i.flip:"rtl"===r.direction});c.generateId=c.serverGenerateClassName||c.generateClassName;var l=i.sheetsRegistry;if(0===u.refs){var f;i.sheetsCache&&(f=mt(i.sheetsCache,o,r));var h=o.create(r,s);f||((f=i.jss.createStyleSheet(h,a({link:!1},c))).attach(),i.sheetsCache&&yt(i.sheetsCache,o,r,f)),l&&l.add(f),u.staticSheet=f,u.dynamicStyles=ht(h)}if(u.dynamicStyles){var d=i.jss.createStyleSheet(u.dynamicStyles,a({link:!0},c));d.update(t),d.attach(),n.dynamicSheet=d,n.classes=vt({baseClasses:u.staticSheet.classes,newClasses:d.classes}),l&&l.add(d)}else n.classes=u.staticSheet.classes;u.refs+=1}}function ar(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}function sr(e){var t=e.state,n=e.theme,r=e.stylesOptions,i=e.stylesCreator;if(!r.disableGeneration){var o=mt(r.sheetsManager,i,n);o.refs-=1;var a=r.sheetsRegistry;0===o.refs&&(gt(r.sheetsManager,i,n),r.jss.removeStyleSheet(o.staticSheet),a&&a.remove(o.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),a&&a.remove(t.dynamicSheet))}}function ur(t,n){var r,i=e.useRef([]),o=e.useMemo((function(){return{}}),n);i.current!==o&&(i.current=o,r=t()),e.useEffect((function(){return function(){r&&r()}}),[o])}function cr(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.name,i=n.classNamePrefix,o=n.Component,s=n.defaultTheme,u=void 0===s?rr:s,c=ne(n,["name","classNamePrefix","Component","defaultTheme"]),l=nr(t),f=r||i||"makeStyles";l.options={index:Jn(),name:r,meta:f,classNamePrefix:f};var h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=wt()||u,i=a({},e.useContext(Yn),c),s=e.useRef(),f=e.useRef();ur((function(){var e={name:r,state:{},stylesCreator:l,stylesOptions:i,theme:n};return or(e,t),f.current=!1,s.current=e,function(){sr(e)}}),[n,l]),e.useEffect((function(){f.current&&ar(s.current,t),f.current=!0}));var h=ir(s.current,t.classes,o);return h};return h}var lr=["xs","sm","md","lg","xl"];function fr(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,r=e.unit,i=void 0===r?"px":r,o=e.step,s=void 0===o?5:o,u=ne(e,["values","unit","step"]);function c(e){var t="number"==typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function l(e,t){var r=lr.indexOf(t);return r===lr.length-1?c(e):"@media (min-width:".concat("number"==typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"==typeof n[lr[r+1]]?n[lr[r+1]]:t)-s/100).concat(i,")")}return a({keys:lr,values:n,up:c,down:function(e){var t=lr.indexOf(e)+1,r=n[lr[t]];return t===lr.length?c("xs"):"@media (max-width:".concat(("number"==typeof r&&t>0?r:e)-s/100).concat(i,")")},between:l,only:function(e){return l(e,e)},width:function(e){return n[e]}},u)}function hr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dr(e,t,n){var r;return a({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a({paddingLeft:t(2),paddingRight:t(2)},n,hr({},e.up("sm"),a({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(r={minHeight:56},hr(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),hr(r,e.up("sm"),{minHeight:64}),r)},n)}function pr(e){for(var t="https://material-ui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}const vr={black:"#000",white:"#fff"},yr={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},mr="#7986cb",gr="#3f51b5",br="#303f9f",wr="#ff4081",Er="#f50057",Sr="#c51162",kr="#e57373",_r="#f44336",xr="#d32f2f",Tr="#ffb74d",Ir="#ff9800",Cr="#f57c00",Nr="#64b5f6",Pr="#2196f3",Ar="#1976d2",Or="#81c784",Rr="#4caf50",Dr="#388e3c";function Lr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function Mr(e){if(e.type)return e;if("#"===e.charAt(0))return Mr(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error(pr(3,e));var r=e.substring(t+1,e.length-1).split(",");return{type:n,values:r=r.map((function(e){return parseFloat(e)}))}}function Fr(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function Ur(e){var t="hsl"===(e=Mr(e)).type?Mr(function(e){var t=(e=Mr(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-o*Math.max(Math.min(t-3,9-t,1),-1)},s="rgb",u=[Math.round(255*a(0)),Math.round(255*a(8)),Math.round(255*a(4))];return"hsla"===e.type&&(s+="a",u.push(t[3])),Fr({type:s,values:u})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function jr(e,t){return e=Mr(e),t=Lr(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,Fr(e)}var Vr={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:vr.white,default:yr[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},zr={text:{primary:vr.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:yr[800],default:"#303030"},action:{active:vr.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function qr(e,t,n,r){var i=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=function(e,t){if(e=Mr(e),t=Lr(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return Fr(e)}(e.main,i):"dark"===t&&(e.dark=function(e,t){if(e=Mr(e),t=Lr(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return Fr(e)}(e.main,o)))}function Br(e){var t=e.primary,n=void 0===t?{light:mr,main:gr,dark:br}:t,r=e.secondary,i=void 0===r?{light:wr,main:Er,dark:Sr}:r,o=e.error,s=void 0===o?{light:kr,main:_r,dark:xr}:o,u=e.warning,c=void 0===u?{light:Tr,main:Ir,dark:Cr}:u,l=e.info,f=void 0===l?{light:Nr,main:Pr,dark:Ar}:l,h=e.success,d=void 0===h?{light:Or,main:Rr,dark:Dr}:h,p=e.type,v=void 0===p?"light":p,y=e.contrastThreshold,m=void 0===y?3:y,g=e.tonalOffset,b=void 0===g?.2:g,w=ne(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function E(e){return function(e,t){var n=Ur(e),r=Ur(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,zr.text.primary)>=m?zr.text.primary:Vr.text.primary}var S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=a({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error(pr(4,t));if("string"!=typeof e.main)throw new Error(pr(5,JSON.stringify(e.main)));return qr(e,"light",n,b),qr(e,"dark",r,b),e.contrastText||(e.contrastText=E(e.main)),e},k={dark:zr,light:Vr};return tr(a({common:vr,type:v,primary:S(n),secondary:S(i,"A400","A200","A700"),error:S(s),warning:S(c),info:S(f),success:S(d),grey:yr,contrastThreshold:m,getContrastText:E,augmentColor:S,tonalOffset:b},k[v]),w)}function Kr(e){return Math.round(1e5*e)/1e5}var Wr={textTransform:"uppercase"},Gr='"Roboto", "Helvetica", "Arial", sans-serif';function Hr(e,t){var n="function"==typeof t?t(e):t,r=n.fontFamily,i=void 0===r?Gr:r,o=n.fontSize,s=void 0===o?14:o,u=n.fontWeightLight,c=void 0===u?300:u,l=n.fontWeightRegular,f=void 0===l?400:l,h=n.fontWeightMedium,d=void 0===h?500:h,p=n.fontWeightBold,v=void 0===p?700:p,y=n.htmlFontSize,m=void 0===y?16:y,g=n.allVariants,b=n.pxToRem,w=ne(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]),E=s/14,S=b||function(e){return"".concat(e/m*E,"rem")},k=function(e,t,n,r,o){return a({fontFamily:i,fontWeight:e,fontSize:S(t),lineHeight:n},i===Gr?{letterSpacing:"".concat(Kr(r/t),"em")}:{},o,g)},_={h1:k(c,96,1.167,-1.5),h2:k(c,60,1.2,-.5),h3:k(f,48,1.167,0),h4:k(f,34,1.235,.25),h5:k(f,24,1.334,0),h6:k(d,20,1.6,.15),subtitle1:k(f,16,1.75,.15),subtitle2:k(d,14,1.57,.1),body1:k(f,16,1.5,.15),body2:k(f,14,1.43,.15),button:k(d,14,1.75,.4,Wr),caption:k(f,12,1.66,.4),overline:k(f,12,2.66,1,Wr)};return tr(a({htmlFontSize:m,pxToRem:S,round:Kr,fontFamily:i,fontSize:s,fontWeightLight:c,fontWeightRegular:f,fontWeightMedium:d,fontWeightBold:v},_),w,{clone:!1})}function Qr(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}const $r=["none",Qr(0,2,1,-1,0,1,1,0,0,1,3,0),Qr(0,3,1,-2,0,2,2,0,0,1,5,0),Qr(0,3,3,-2,0,3,4,0,0,1,8,0),Qr(0,2,4,-1,0,4,5,0,0,1,10,0),Qr(0,3,5,-1,0,5,8,0,0,1,14,0),Qr(0,3,5,-1,0,6,10,0,0,1,18,0),Qr(0,4,5,-2,0,7,10,1,0,2,16,1),Qr(0,5,5,-3,0,8,10,1,0,3,14,2),Qr(0,5,6,-3,0,9,12,1,0,3,16,2),Qr(0,6,6,-3,0,10,14,1,0,4,18,3),Qr(0,6,7,-4,0,11,15,1,0,4,20,3),Qr(0,7,8,-4,0,12,17,2,0,5,22,4),Qr(0,7,8,-4,0,13,19,2,0,5,24,4),Qr(0,7,9,-4,0,14,21,2,0,5,26,4),Qr(0,8,9,-5,0,15,22,2,0,6,28,5),Qr(0,8,10,-5,0,16,24,2,0,6,30,5),Qr(0,8,11,-5,0,17,26,2,0,6,32,5),Qr(0,9,11,-5,0,18,28,2,0,7,34,6),Qr(0,9,12,-6,0,19,29,2,0,7,36,6),Qr(0,10,13,-6,0,20,31,3,0,8,38,7),Qr(0,10,13,-6,0,21,33,3,0,8,40,7),Qr(0,10,14,-6,0,22,35,3,0,8,42,7),Qr(0,11,14,-7,0,23,36,3,0,9,44,8),Qr(0,11,15,-7,0,24,38,3,0,9,46,8)],Yr={borderRadius:4};var Xr={xs:0,sm:600,md:960,lg:1280,xl:1920},Jr={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(Xr[e],"px)")}};const Zr=function(e,t){return t?tr(e,t,{clone:!1}):e};var ei,ti={m:"margin",p:"padding"},ni={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},ri={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},ii=(ei={},function(e){return void 0===ei[e]&&(ei[e]=function(e){if(e.length>2){if(!ri[e])return[e];e=ri[e]}var t,n,r=(t=e.split(""),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(t,n)||Qt(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=r[0],o=r[1],a=ti[i],s=ni[o]||"";return Array.isArray(s)?s.map((function(e){return a+e})):[a+s]}(e)),ei[e]}),oi=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function ai(e){var t=e.spacing||8;return"number"==typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"==typeof t?t:function(){}}function si(e){var t=ai(e.theme);return Object.keys(e).map((function(n){if(-1===oi.indexOf(n))return null;var r=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=function(e,t){if("string"==typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"==typeof n?-n:"-".concat(n)}(t,n),e}),{})}}(ii(n),t),i=e[n];return function(e,t,n){if(Array.isArray(t)){var r=e.theme.breakpoints||Jr;return t.reduce((function(e,i,o){return e[r.up(r.keys[o])]=n(t[o]),e}),{})}if("object"===Zn(t)){var i=e.theme.breakpoints||Jr;return Object.keys(t).reduce((function(e,r){return e[i.up(r)]=n(t[r]),e}),{})}return n(t)}(e,i,r)})).reduce(Zr,{})}function ui(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=ai({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){if("string"==typeof e)return e;var n=t(e);return"number"==typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}si.propTypes={},si.filterProps=oi;var ci={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},li={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function fi(e){return"".concat(Math.round(e),"ms")}const hi={easing:ci,duration:li,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,r=void 0===n?li.standard:n,i=t.easing,o=void 0===i?ci.easeInOut:i,a=t.delay,s=void 0===a?0:a;return ne(t,["duration","easing","delay"]),(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"==typeof r?r:fi(r)," ").concat(o," ").concat("string"==typeof s?s:fi(s))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}},di={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},pi=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.mixins,i=void 0===r?{}:r,o=e.palette,a=void 0===o?{}:o,s=e.spacing,u=e.typography,c=void 0===u?{}:u,l=ne(e,["breakpoints","mixins","palette","spacing","typography"]),f=Br(a),h=fr(n),d=ui(s),p=tr({breakpoints:h,direction:"ltr",mixins:dr(h,d,i),overrides:{},palette:f,props:{},shadows:$r,typography:Hr(f,c),spacing:d,shape:Yr,transitions:hi,zIndex:di},l),v=arguments.length,y=new Array(v>1?v-1:0),m=1;m<v;m++)y[m-1]=arguments[m];return y.reduce((function(e,t){return tr(e,t)}),p)}(),vi=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return cr(e,a({defaultTheme:pi},t))};var yi=vi((function(e){return{paper:{width:240,margin:"20px 10px",border:"1px solid #000",boxShadow:e.shadows[3],padding:e.spacing(1,0,1),cursor:"pointer"},title:{textAlign:"center",borderBottom:"1px solid #505050",padding:5,fontSize:10},content:{display:"flex",justifyContent:"center",alignItems:"center",height:160},faceIcon:{width:100,height:100}}}));const mi=function(e){var t=yi();return te.createElement("div",{className:t.paper,onClick:function(){e.onClick()}},te.createElement("div",null,te.createElement("div",{className:t.title},te.createElement("p",null,e.title)),te.createElement("div",{className:t.content},te.createElement("img",{className:t.faceIcon,src:e.faceIconURL,alt:""}))))};var gi=function(){return(gi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.create,Object.create;var bi=function(e,t){return(bi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};Object.create,Object.create;function wi(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=wi(e[n],t[n]));return e}var Ei=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function Si(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ki(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}var _i=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,xi.prototype.create),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}bi(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error),xi=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?Ti(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new _i(i,s,r);return u},e}();function Ti(e,t){return e.replace(Ii,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var Ii=/\{\$([^}]+)}/g;function Ci(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ni(e,t){var n=new Pi(e,t);return n.subscribe.bind(n)}!function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++)r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782),i=(s<<5|s>>>27)+o+f+a+n[r]&4294967295,f=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i;this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e}}();var Pi=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e)?e:{next:e,error:t,complete:n}).next&&(r.next=Ai),void 0===r.error&&(r.error=Ai),void 0===r.complete&&(r.complete=Ai);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function Ai(){}var Oi=function(){return(Oi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function Ri(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function Di(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}Object.create,Object.create;var Li,Mi=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e}(),Fi="[DEFAULT]",Ui=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return e.prototype.get=function(e){void 0===e&&(e=Fi);var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Ei;this.instancesDeferred.set(t,n);try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t=Oi({identifier:Fi,optional:!1},e),n=t.identifier,r=t.optional,i=this.normalizeInstanceIdentifier(n);try{var o=this.getOrInitializeService({instanceIdentifier:i});if(!o){if(r)return null;throw Error("Service "+this.name+" is not available")}return o}catch(e){if(r)return null;throw e}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Fi})}catch(e){}try{for(var r=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=Ri(i.value,2),a=o[0],s=o[1],u=this.normalizeInstanceIdentifier(a);try{var c=this.getOrInitializeService({instanceIdentifier:u});s.resolve(c)}catch(e){}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},e.prototype.clearInstance=function(e){void 0===e&&(e=Fi),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(this,void 0,void 0,(function(){var e;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(Di(Di([],Ri(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),Ri(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=Fi),this.instances.has(e)},e.prototype.initialize=function(e){void 0===e&&(e={});var t=e.instanceIdentifier,n=void 0===t?Fi:t,r=e.options,i=void 0===r?{}:r,o=this.normalizeInstanceIdentifier(n);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");return this.getOrInitializeService({instanceIdentifier:o,options:i})},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);return!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Fi?void 0:t),options:i}),this.instances.set(n,o)),o||null},e.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:Fi:e},e}(),ji=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Ui(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();function Vi(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var zi,qi=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(zi||(zi={}));var Bi,Ki={debug:zi.DEBUG,verbose:zi.VERBOSE,info:zi.INFO,warn:zi.WARN,error:zi.ERROR,silent:zi.SILENT},Wi=zi.INFO,Gi=((Li={})[zi.DEBUG]="log",Li[zi.VERBOSE]="log",Li[zi.INFO]="info",Li[zi.WARN]="warn",Li[zi.ERROR]="error",Li),Hi=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=(new Date).toISOString(),o=Gi[t];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[o].apply(console,Vi(["["+i+"]  "+e.name+":"],n))}},Qi=function(){function e(e){this.name=e,this._logLevel=Wi,this._logHandler=Hi,this._userLogHandler=null,qi.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in zi))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?Ki[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Vi([this,zi.DEBUG],e)),this._logHandler.apply(this,Vi([this,zi.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Vi([this,zi.VERBOSE],e)),this._logHandler.apply(this,Vi([this,zi.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Vi([this,zi.INFO],e)),this._logHandler.apply(this,Vi([this,zi.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Vi([this,zi.WARN],e)),this._logHandler.apply(this,Vi([this,zi.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Vi([this,zi.ERROR],e)),this._logHandler.apply(this,Vi([this,zi.ERROR],e))},e}();function $i(e){qi.forEach((function(t){t.setLogLevel(e)}))}var Yi,Xi=((Bi={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Bi["bad-app-name"]="Illegal App name: '{$appName}",Bi["duplicate-app"]="Firebase App named '{$appName}' already exists",Bi["app-deleted"]="Firebase App named '{$appName}' already deleted",Bi["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Bi["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Bi),Ji=new xi("app","Firebase",Xi),Zi="@firebase/app",eo="[DEFAULT]",to=((Yi={})[Zi]="fire-core",Yi["@firebase/analytics"]="fire-analytics",Yi["@firebase/auth"]="fire-auth",Yi["@firebase/database"]="fire-rtdb",Yi["@firebase/functions"]="fire-fn",Yi["@firebase/installations"]="fire-iid",Yi["@firebase/messaging"]="fire-fcm",Yi["@firebase/performance"]="fire-perf",Yi["@firebase/remote-config"]="fire-rc",Yi["@firebase/storage"]="fire-gcs",Yi["@firebase/firestore"]="fire-fst",Yi["fire-js"]="fire-js",Yi["firebase-wrapper"]="fire-js-all",Yi),no=new Qi("@firebase/app"),ro=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=wi(void 0,e),this.container=new ji(t.name),this._addComponent(new Mi("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){return void 0===t&&(t=eo),this.checkDestroyed_(),this.container.getProvider(e).getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=eo),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){no.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Ji.create("app-deleted",{appName:this.name_})},e}();ro.prototype.name&&ro.prototype.options||ro.prototype.delete||console.log("dc");var io=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=eo);var a=o.name;if("string"!=typeof a||!a)throw Ji.create("bad-app-name",{appName:String(a)});if(Ci(t,a))throw Ji.create("duplicate-app",{appName:a});var s=new e(n,o,r);return t[a]=s,s},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=to[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),s=t.match(/\s|\//);if(a||s){var u=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&s&&u.push("and"),s&&u.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void no.warn(u.join(" "))}o(new Mi(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:$i,onLog:function(e,t){if(null!==e&&"function"!=typeof e)throw Ji.create("invalid-log-argument");!function(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=Ki[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}})).filter((function(e){return e})).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:zi[n].toLowerCase(),message:a,args:i,type:t.name})}},r=0,i=qi;r<i.length;r++)n(i[r])}(e,t)},apps:null,SDK_VERSION:"8.3.1",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function i(e){if(!Ci(t,e=e||eo))throw Ji.create("no-app",{appName:e});return t[e]}function o(o){var a=o.name;if(n.has(a))return no.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var s=function(e){if(void 0===e&&(e=i()),"function"!=typeof e[a])throw Ji.create("invalid-app-argument",{appName:a});return e[a]()};void 0!==o.serviceProps&&wi(s,o.serviceProps),r[a]=s,e.prototype[a]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,a).apply(this,o.multipleInstances?e:[])}}for(var u=0,c=Object.keys(t);u<c.length;u++){var l=c[u];t[l]._addComponent(o)}return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}(ro);return t.INTERNAL=gi(gi({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){wi(t,e)},createSubscribe:Ni,ErrorFactory:xi,deepExtend:wi}),t}(),oo=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if("object"==typeof self&&self.self===self&&void 0!==self.firebase){no.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var ao=self.firebase.SDK_VERSION;ao&&ao.indexOf("LITE")>=0&&no.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var so=io.initializeApp;io.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ki()&&no.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),so.apply(void 0,e)};var uo=io;!function(e,t){e.INTERNAL.registerComponent(new Mi("platform-logger",(function(e){return new oo(e)}),"PRIVATE")),e.registerVersion(Zi,"0.6.17",void 0),e.registerVersion("fire-js","")}(uo);const co=uo;co.registerVersion("firebase","8.3.1","app");var lo=function(e,t){return(lo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function fo(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var ho,po="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},vo=vo||{},yo=po||self;function mo(){}function go(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function bo(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var wo="closure_uid_"+(1e9*Math.random()>>>0),Eo=0;function So(e,t,n){return e.call.apply(e.bind,arguments)}function ko(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function _o(e,t,n){return(_o=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?So:ko).apply(null,arguments)}function xo(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function To(){return Date.now()}function Io(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Kb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function Co(){this.j=this.j,this.i=this.i}Co.prototype.j=!1,Co.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,wo)&&e[wo]||(e[wo]=++Eo)}(this)},Co.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var No=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Po=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function Ao(e){return Array.prototype.concat.apply([],arguments)}function Oo(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Ro(e){return/^[\s\xa0]*$/.test(e)}var Do,Lo=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Mo(e,t){return-1!=e.indexOf(t)}function Fo(e,t){return e<t?-1:e>t?1:0}e:{var Uo=yo.navigator;if(Uo){var jo=Uo.userAgent;if(jo){Do=jo;break e}}Do=""}function Vo(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function zo(e){var t={};for(var n in e)t[n]=e[n];return t}var qo="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Bo(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<qo.length;o++)n=qo[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ko(e){return Ko[" "](e),e}Ko[" "]=mo;var Wo,Go,Ho=Mo(Do,"Opera"),Qo=Mo(Do,"Trident")||Mo(Do,"MSIE"),$o=Mo(Do,"Edge"),Yo=$o||Qo,Xo=Mo(Do,"Gecko")&&!(Mo(Do.toLowerCase(),"webkit")&&!Mo(Do,"Edge"))&&!(Mo(Do,"Trident")||Mo(Do,"MSIE"))&&!Mo(Do,"Edge"),Jo=Mo(Do.toLowerCase(),"webkit")&&!Mo(Do,"Edge");function Zo(){var e=yo.document;return e?e.documentMode:void 0}e:{var ea="",ta=(Go=Do,Xo?/rv:([^\);]+)(\)|;)/.exec(Go):$o?/Edge\/([\d\.]+)/.exec(Go):Qo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Go):Jo?/WebKit\/(\S+)/.exec(Go):Ho?/(?:Version)[ \/]?(\S+)/.exec(Go):void 0);if(ta&&(ea=ta?ta[1]:""),Qo){var na=Zo();if(null!=na&&na>parseFloat(ea)){Wo=String(na);break e}}Wo=ea}var ra,ia={};function oa(e){return function(e,t){var n=ia;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t()}(e,(function(){for(var t=0,n=Lo(String(Wo)).split("."),r=Lo(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=Fo(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||Fo(0==a[2].length,0==s[2].length)||Fo(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}yo.document&&Qo?ra=Zo()||parseInt(Wo,10)||void 0:ra=void 0;var aa=ra,sa=!Qo||9<=Number(aa),ua=Qo&&!oa("9"),ca=function(){if(!yo.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{yo.addEventListener("test",mo,t),yo.removeEventListener("test",mo,t)}catch(e){}return e}();function la(e,t){this.type=e,this.a=this.target=t,this.defaultPrevented=!1}function fa(e,t){if(la.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(Xo){e:{try{Ko(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:ha[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}la.prototype.b=function(){this.defaultPrevented=!0},Io(fa,la);var ha={2:"touch",3:"pen",4:"mouse"};fa.prototype.b=function(){fa.X.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,ua)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(e){}};var da="closure_listenable_"+(1e6*Math.random()|0),pa=0;function va(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ca=i,this.key=++pa,this.Y=this.Z=!1}function ya(e){e.Y=!0,e.listener=null,e.proxy=null,e.src=null,e.ca=null}function ma(e){this.src=e,this.a={},this.b=0}function ga(e,t){var n=t.type;if(n in e.a){var r,i=e.a[n],o=No(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ya(t),0==e.a[n].length&&(delete e.a[n],e.b--))}}function ba(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.Y&&o.listener==t&&o.capture==!!n&&o.ca==r)return i}return-1}ma.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=ba(e,t,r,i);return-1<a?(t=e[a],n||(t.Z=!1)):((t=new va(t,this.src,o,!!r,i)).Z=n,e.push(t)),t};var wa="closure_lm_"+(1e6*Math.random()|0),Ea={};function Sa(e,t,n,r,i){if(r&&r.once)return _a(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Sa(e,t[o],n,r,i);return null}return n=Oa(n),e&&e[da]?e.va(t,n,bo(r)?!!r.capture:!!r,i):ka(e,t,n,!1,r,i)}function ka(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=bo(i)?!!i.capture:!!i;if(a&&!sa)return null;var s=Pa(e);if(s||(e[wa]=s=new ma(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){var e=Na,t=sa?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ca||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ia(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function _a(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)_a(e,t[o],n,r,i);return null}return n=Oa(n),e&&e[da]?e.wa(t,n,bo(r)?!!r.capture:!!r,i):ka(e,t,n,!0,r,i)}function xa(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)xa(e,t[o],n,r,i);else r=bo(r)?!!r.capture:!!r,n=Oa(n),e&&e[da]?(e=e.c,(t=String(t).toString())in e.a&&-1<(n=ba(o=e.a[t],n,r,i))&&(ya(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--))):e&&(e=Pa(e))&&(t=e.a[t.toString()],e=-1,t&&(e=ba(t,n,r,i)),(n=-1<e?t[e]:null)&&Ta(n))}function Ta(e){if("number"!=typeof e&&e&&!e.Y){var t=e.src;if(t&&t[da])ga(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ia(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Pa(t))?(ga(n,e),0==n.b&&(n.src=null,t[wa]=null)):ya(e)}}}function Ia(e){return e in Ea?Ea[e]:Ea[e]="on"+e}function Ca(e,t){var n=e.listener,r=e.ca||e.src;return e.Z&&Ta(e),n.call(r,t)}function Na(e,t){if(e.Y)return!0;if(!sa){if(!t)e:{t=["window","event"];for(var n=yo,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}return Ca(e,t=new fa(t,this))}return Ca(e,new fa(t,this))}function Pa(e){return(e=e[wa])instanceof ma?e:null}var Aa="__closure_events_fn_"+(1e9*Math.random()>>>0);function Oa(e){return"function"==typeof e?e:(e[Aa]||(e[Aa]=function(t){return e.handleEvent(t)}),e[Aa])}function Ra(){Co.call(this),this.c=new ma(this),this.J=this,this.C=null}function Da(e,t){var n,r=e.C;if(r)for(n=[];r;r=r.C)n.push(r);if(e=e.J,r=t.type||t,"string"==typeof t)t=new la(t,e);else if(t instanceof la)t.target=t.target||e;else{var i=t;Bo(t=new la(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.a=n[o];i=La(a,r,!0,t)&&i}if(i=La(a=t.a=e,r,!0,t)&&i,i=La(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=La(a=t.a=n[o],r,!1,t)&&i}function La(e,t,n,r){if(!(t=e.c.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ca||a.src;a.Z&&ga(e.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Io(Ra,Co),Ra.prototype[da]=!0,(ho=Ra.prototype).addEventListener=function(e,t,n,r){Sa(this,e,t,n,r)},ho.removeEventListener=function(e,t,n,r){xa(this,e,t,n,r)},ho.G=function(){if(Ra.X.G.call(this),this.c){var e,t=this.c;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)ya(n[r]);delete t.a[e],t.b--}}this.C=null},ho.va=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)},ho.wa=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};var Ma=yo.JSON.stringify;function Fa(){this.b=this.a=null}var Ua,ja=new(function(){function e(e,t){this.c=e,this.f=t,this.b=0,this.a=null}return e.prototype.get=function(){var e;return 0<this.b?(this.b--,e=this.a,this.a=e.next,e.next=null):e=this.c(),e},e}())((function(){return new za}),(function(e){e.reset()}));function Va(){var e=Wa,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function za(){this.next=this.b=this.a=null}function qa(e){yo.setTimeout((function(){throw e}),0)}function Ba(e,t){Ua||function(){var e=yo.Promise.resolve(void 0);Ua=function(){e.then(Ga)}}(),Ka||(Ua(),Ka=!0),Wa.add(e,t)}Fa.prototype.add=function(e,t){var n=ja.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},za.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},za.prototype.reset=function(){this.next=this.b=this.a=null};var Ka=!1,Wa=new Fa;function Ga(){for(var e;e=Va();){try{e.a.call(e.b)}catch(e){qa(e)}var t=ja;t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}Ka=!1}function Ha(e,t){Ra.call(this),this.b=e||1,this.a=t||yo,this.f=_o(this.Za,this),this.g=To()}function Qa(e){e.aa=!1,e.M&&(e.a.clearTimeout(e.M),e.M=null)}function $a(e,t,n){if("function"==typeof e)n&&(e=_o(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=_o(e.handleEvent,e)}return 2147483647<Number(t)?-1:yo.setTimeout(e,t||0)}function Ya(e){e.a=$a((function(){e.a=null,e.c&&(e.c=!1,Ya(e))}),e.h);var t=e.b;e.b=null,e.g.apply(null,t)}Io(Ha,Ra),(ho=Ha.prototype).aa=!1,ho.M=null,ho.Za=function(){if(this.aa){var e=To()-this.g;0<e&&e<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-e):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Da(this,"tick"),this.aa&&(Qa(this),this.start()))}},ho.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=To())},ho.G=function(){Ha.X.G.call(this),Qa(this),delete this.a};var Xa=function(e){function t(t,n){var r=e.call(this)||this;return r.g=t,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(e,t){function n(){this.constructor=e}lo(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.f=function(e){this.b=arguments,this.a?this.c=!0:Ya(this)},t.prototype.G=function(){e.prototype.G.call(this),this.a&&(yo.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},t}(Co);function Ja(e){Co.call(this),this.b=e,this.a={}}Io(Ja,Co);var Za=[];function es(e,t,n,r){Array.isArray(n)||(n&&(Za[0]=n.toString()),n=Za);for(var i=0;i<n.length;i++){var o=Sa(t,n[i],r||e.handleEvent,!1,e.b||e);if(!o)break;e.a[o.key]=o}}function ts(e){Vo(e.a,(function(e,t){this.a.hasOwnProperty(t)&&Ta(e)}),e),e.a={}}function ns(){this.a=!0}function rs(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.a)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Ma(n)}catch(e){return t}}(e,n)+(r?" "+r:"")}))}Ja.prototype.G=function(){Ja.X.G.call(this),ts(this)},Ja.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ns.prototype.info=function(){};var is={},os=null;function as(){return os=os||new Ra}function ss(e){la.call(this,is.Fa,e)}function us(e){var t=as();Da(t,new ss(t,e))}function cs(e,t){la.call(this,is.STAT_EVENT,e),this.stat=t}function ls(e){var t=as();Da(t,new cs(t,e))}function fs(e){la.call(this,is.Ga,e)}function hs(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return yo.setTimeout((function(){e()}),t)}is.Fa="serverreachability",Io(ss,la),is.STAT_EVENT="statevent",Io(cs,la),is.Ga="timingevent",Io(fs,la);var ds={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},ps={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function vs(){}function ys(e){var t;return(t=e.a)||(t=e.a={}),t}function ms(){}vs.prototype.a=null;var gs,bs={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function ws(){la.call(this,"d")}function Es(){la.call(this,"c")}function Ss(){}function ks(e,t,n,r){this.g=e,this.c=t,this.f=n,this.S=r||1,this.J=new Ja(this),this.P=_s,e=Yo?125:void 0,this.R=new Ha(e),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Io(ws,la),Io(Es,la),Io(Ss,vs),gs=new Ss;var _s=45e3,xs={},Ts={};function Is(e,t,n){e.H=1,e.i=$s(Bs(t)),e.j=n,e.I=!0,Cs(e,null)}function Cs(e,t){e.u=To(),As(e),e.l=Bs(e.i);var n=e.l,r=e.S;Array.isArray(r)||(r=[String(r)]),uu(n.b,"t",r),e.D=0,e.a=nc(e.g,e.g.C?t:null),0<e.O&&(e.F=new Xa(_o(e.Ca,e,e.a),e.O)),es(e.J,e.a,"readystatechange",e.Xa),t=e.B?zo(e.B):{},e.j?(e.m||(e.m="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ba(e.l,e.m,e.j,t)):(e.m="GET",e.a.ba(e.l,e.m,null,t)),us(1),function(e,t,n,r,i,o){e.info((function(){if(e.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");a=2<=f.length&&"type"==f[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.c,e.m,e.l,e.f,e.S,e.j)}function Ns(e,t,n){for(var r=!0;!e.A&&e.D<n.length;){var i=Ps(e,n);if(i==Ts){4==t&&(e.h=4,ls(14),r=!1),rs(e.c,e.f,null,"[Incomplete Response]");break}if(i==xs){e.h=4,ls(15),rs(e.c,e.f,n,"[Invalid Chunk]"),r=!1;break}rs(e.c,e.f,i,null),Ms(e,i)}4==t&&0==n.length&&(e.h=1,ls(16),r=!1),e.b=e.b&&r,r?0<n.length&&!e.V&&(e.V=!0,(t=e.g).a==e&&t.U&&!t.F&&(t.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Qu(t),t.F=!0,ls(11))):(rs(e.c,e.f,n,"[Invalid Chunked Response]"),Ls(e),Ds(e))}function Ps(e,t){var n=e.D,r=t.indexOf("\n",n);return-1==r?Ts:(n=Number(t.substring(n,r)),isNaN(n)?xs:(r+=1)+n>t.length?Ts:(t=t.substr(r,n),e.D=r+n,t))}function As(e){e.T=To()+e.P,Os(e,e.P)}function Os(e,t){if(null!=e.o)throw Error("WatchDog timer not null");e.o=hs(_o(e.Va,e),t)}function Rs(e){e.o&&(yo.clearTimeout(e.o),e.o=null)}function Ds(e){0==e.g.v||e.A||Xu(e.g,e)}function Ls(e){Rs(e);var t=e.F;t&&"function"==typeof t.ja&&t.ja(),e.F=null,Qa(e.R),ts(e.J),e.a&&(t=e.a,e.a=null,t.abort(),t.ja())}function Ms(e,t){try{var n=e.g;if(0!=n.v&&(n.a==e||vu(n.b,e)))if(n.I=e.N,!e.C&&vu(n.b,e)&&3==n.v){try{var r=n.ka.a.parse(t)}catch(e){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.j){if(n.a){if(!(n.a.u+3e3<e.u))break e;Yu(n),ju(n)}Hu(n),ls(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=hs(_o(n.Sa,n),6e3));if(1>=pu(n.b)&&n.ea){try{n.ea()}catch(e){}n.ea=void 0}}else Zu(n,11)}else if((e.C||n.a==e)&&Yu(n),!Ro(t))for(t=r=n.ka.a.parse(t),r=0;r<t.length;r++)if(i=t[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"==typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=e.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=u.b;!f.a&&(Mo(l,"spdy")||Mo(l,"quic")||Mo(l,"h2"))&&(f.f=f.g,f.a=new Set,f.b&&(yu(f,f.b),f.b=null))}if(u.A){var h=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;h&&(u.na=h,Qs(u.B,u.A,h))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=To()-e.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=e;if((u=n).la=tc(u,u.C?u.ga:null,u.fa),d.C){mu(u.b,d);var p=d,v=u.D;v&&p.setTimeout(v),p.o&&(Rs(p),As(p)),u.a=d}else Gu(u);0<n.g.length&&qu(n)}else"stop"!=i[0]&&"close"!=i[0]||Zu(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Zu(n,7):Uu(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);us(4)}catch(e){}}function Fs(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(go(e)||"string"==typeof e)Po(e,t,void 0);else{if(e.L&&"function"==typeof e.L)var n=e.L();else if(e.K&&"function"==typeof e.K)n=void 0;else if(go(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.K&&"function"==typeof e.K)return e.K();if("string"==typeof e)return e.split("");if(go(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Us(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Us)for(n=e.L(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function js(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Vs(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Vs(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Vs(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(ho=ks.prototype).setTimeout=function(e){this.P=e},ho.Xa=function(e){e=e.target;var t=this.F;t&&3==Du(e)?t.f():this.Ca(e)},ho.Ca=function(e){try{if(e==this.a)e:{var t=Du(this.a),n=this.a.ua(),r=this.a.W();if(!(3>t||3==t&&!Yo&&!this.a.$())){this.A||4!=t||7==n||us(8==n||0>=r?3:2),Rs(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.c,this.m,this.l,this.f,this.S,t,i),this.b){if(this.U&&!this.C){t:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ro(a)){var u=a;break t}}u=null}if(!u){this.b=!1,this.h=3,ls(12),Ls(this),Ds(this);break e}rs(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Ms(this,u)}this.I?(Ns(this,t,o),Yo&&this.b&&3==t&&(es(this.J,this.R,"tick",this.Wa),this.R.start())):(rs(this.c,this.f,o,null),Ms(this,o)),4==t&&Ls(this),this.b&&!this.A&&(4==t?Xu(this.g,this):(this.b=!1,As(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,ls(12)):(this.h=0,ls(13)),Ls(this),Ds(this)}}}catch(e){}},ho.Wa=function(){if(this.a){var e=Du(this.a),t=this.a.$();this.D<t.length&&(Rs(this),Ns(this,e,t),this.b&&4!=e&&As(this))}},ho.cancel=function(){this.A=!0,Ls(this)},ho.Va=function(){this.o=null;var e=To();0<=e-this.T?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.c,this.l),2!=this.H&&(us(3),ls(17)),Ls(this),this.h=2,Ds(this)):Os(this,this.T-e)},(ho=Us.prototype).K=function(){js(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},ho.L=function(){return js(this),this.a.concat()},ho.get=function(e,t){return Vs(this.b,e)?this.b[e]:t},ho.set=function(e,t){Vs(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},ho.forEach=function(e,t){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var zs=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function qs(e,t){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,e instanceof qs){this.a=void 0!==t?t:e.a,Ks(this,e.f),this.j=e.j,Ws(this,e.c),Gs(this,e.h),this.g=e.g,t=e.b;var n=new iu;n.c=t.c,t.a&&(n.a=new Us(t.a),n.b=t.b),Hs(this,n),this.i=e.i}else e&&(n=String(e).match(zs))?(this.a=!!t,Ks(this,n[1]||"",!0),this.j=Ys(n[2]||""),Ws(this,n[3]||"",!0),Gs(this,n[4]),this.g=Ys(n[5]||"",!0),Hs(this,n[6]||"",!0),this.i=Ys(n[7]||"")):(this.a=!!t,this.b=new iu(null,this.a))}function Bs(e){return new qs(e)}function Ks(e,t,n){e.f=n?Ys(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function Ws(e,t,n){e.c=n?Ys(t,!0):t}function Gs(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.h=t}else e.h=null}function Hs(e,t,n){t instanceof iu?(e.b=t,function(e,t){t&&!e.f&&(ou(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(au(this,t),uu(this,n,e))}),e)),e.f=t}(e.b,e.a)):(n||(t=Xs(t,nu)),e.b=new iu(t,e.a))}function Qs(e,t,n){e.b.set(t,n)}function $s(e){return Qs(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^To()).toString(36)),e}function Ys(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Xs(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Js),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Js(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}qs.prototype.toString=function(){var e=[],t=this.f;t&&e.push(Xs(t,Zs,!0),":");var n=this.c;return(n||"file"==t)&&(e.push("//"),(t=this.j)&&e.push(Xs(t,Zs,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&e.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&e.push("/"),e.push(Xs(n,"/"==n.charAt(0)?tu:eu,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.i)&&e.push("#",Xs(n,ru)),e.join("")};var Zs=/[#\/\?@]/g,eu=/[#\?:]/g,tu=/[#\?]/g,nu=/[#\?@]/g,ru=/#/g;function iu(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function ou(e){e.a||(e.a=new Us,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function au(e,t){ou(e),t=cu(e,t),Vs(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Vs((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&js(e)))}function su(e,t){return ou(e),t=cu(e,t),Vs(e.a.b,t)}function uu(e,t,n){au(e,t),0<n.length&&(e.c=null,e.a.set(cu(e,t),Oo(n)),e.b+=n.length)}function cu(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}(ho=iu.prototype).add=function(e,t){ou(this),this.c=null,e=cu(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},ho.forEach=function(e,t){ou(this),this.a.forEach((function(n,r){Po(n,(function(n){e.call(t,n,r,this)}),this)}),this)},ho.L=function(){ou(this);for(var e=this.a.K(),t=this.a.L(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},ho.K=function(e){ou(this);var t=[];if("string"==typeof e)su(this,e)&&(t=Ao(t,this.a.get(cu(this,e))));else{e=this.a.K();for(var n=0;n<e.length;n++)t=Ao(t,e[n])}return t},ho.set=function(e,t){return ou(this),this.c=null,su(this,e=cu(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},ho.get=function(e,t){return e&&0<(e=this.K(e)).length?String(e[0]):t},ho.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.L(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var lu=function(e,t){this.b=e,this.a=t};function fu(e){this.g=e||hu,e=yo.PerformanceNavigationTiming?0<(e=yo.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(yo.ia&&yo.ia.ya&&yo.ia.ya()&&yo.ia.ya().Lb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var hu=10;function du(e){return!!e.b||!!e.a&&e.a.size>=e.f}function pu(e){return e.b?1:e.a?e.a.size:0}function vu(e,t){return e.b?e.b==t:!!e.a&&e.a.has(t)}function yu(e,t){e.a?e.a.add(t):e.b=t}function mu(e,t){e.b&&e.b==t?e.b=null:e.a&&e.a.has(t)&&e.a.delete(t)}function gu(e){var t,n;if(null!=e.b)return e.c.concat(e.b.s);if(null!=e.a&&0!==e.a.size){var r=e.c;try{for(var i=fo(e.a.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.s)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return Oo(e.c)}function bu(){}function wu(){this.a=new bu}function Eu(e,t,n){var r=n||"";try{Fs(e,(function(e,n){var i=e;bo(e)&&(i=Ma(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}function Su(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}fu.prototype.cancel=function(){var e,t;if(this.c=gu(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=fo(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.a.clear()}},bu.prototype.stringify=function(e){return yo.JSON.stringify(e,void 0)},bu.prototype.parse=function(e){return yo.JSON.parse(e,void 0)};var ku=yo.JSON.parse;function _u(e){Ra.call(this),this.headers=new Us,this.H=e||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=xu,this.D=this.F=!1}Io(_u,Ra);var xu="",Tu=/^https?$/i,Iu=["POST","PUT"];function Cu(e){return"content-type"==e.toLowerCase()}function Nu(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,Pu(e),Ou(e)}function Pu(e){e.u||(e.u=!0,Da(e,"complete"),Da(e,"error"))}function Au(e){if(e.b&&void 0!==vo&&(!e.s[1]||4!=Du(e)||2!=e.W()))if(e.l&&4==Du(e))$a(e.za,0,e);else if(Da(e,"readystatechange"),4==Du(e)){e.b=!1;try{var t,n=e.W();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.B).match(zs)[1]||null;if(!o&&yo.self&&yo.self.location){var a=yo.self.location.protocol;o=a.substr(0,a.length-1)}i=!Tu.test(o?o.toLowerCase():"")}t=i}if(t)Da(e,"complete"),Da(e,"success");else{e.h=6;try{var s=2<Du(e)?e.a.statusText:""}catch(n){s=""}e.f=s+" ["+e.W()+"]",Pu(e)}}finally{Ou(e)}}}function Ou(e,t){if(e.a){Ru(e);var n=e.a,r=e.s[0]?mo:null;e.a=null,e.s=null,t||Da(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function Ru(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(yo.clearTimeout(e.m),e.m=null)}function Du(e){return e.a?e.a.readyState:0}function Lu(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Vo(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):Qs(e,t,n))}function Mu(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Fu(e){this.pa=0,this.g=[],this.c=new ns,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Mu("failFast",!1,e),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Mu("baseRetryDelayMs",5e3,e),this.Ra=Mu("retryDelaySeedMs",1e4,e),this.Ma=Mu("forwardChannelMaxRetries",2,e),this.ma=Mu("forwardChannelRequestTimeoutMs",2e4,e),this.Na=e&&e.g||void 0,this.D=void 0,this.C=e&&e.supportsCrossDomainXhr||!1,this.J="",this.b=new fu(e&&e.concurrentRequestLimit),this.ka=new wu,this.da=e&&e.fastHandshake||!1,this.Ia=e&&e.b||!1,e&&e.f&&(this.c.a=!1),e&&e.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&e&&e.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=e&&e.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Uu(e){if(Vu(e),3==e.v){var t=e.R++,n=Bs(e.B);Qs(n,"SID",e.J),Qs(n,"RID",t),Qs(n,"TYPE","terminate"),Ku(e,n),(t=new ks(e,e.c,t,void 0)).H=2,t.i=$s(Bs(n)),n=!1,yo.navigator&&yo.navigator.sendBeacon&&(n=yo.navigator.sendBeacon(t.i.toString(),"")),!n&&yo.Image&&((new Image).src=t.i,n=!0),n||(t.a=nc(t.g,null),t.a.ba(t.i)),t.u=To(),As(t)}ec(e)}function ju(e){e.a&&(Qu(e),e.a.cancel(),e.a=null)}function Vu(e){ju(e),e.j&&(yo.clearTimeout(e.j),e.j=null),Yu(e),e.b.cancel(),e.h&&("number"==typeof e.h&&yo.clearTimeout(e.h),e.h=null)}function zu(e,t){e.g.push(new lu(e.Oa++,t)),3==e.v&&qu(e)}function qu(e){du(e.b)||e.h||(e.h=!0,Ba(e.Ba,e),e.u=0)}function Bu(e,t){var n;n=t?t.f:e.R++;var r=Bs(e.B);Qs(r,"SID",e.J),Qs(r,"RID",n),Qs(r,"AID",e.P),Ku(e,r),e.i&&e.l&&Lu(r,e.i,e.l),n=new ks(e,e.c,n,e.u+1),null===e.i&&(n.B=e.l),t&&(e.g=t.s.concat(e.g)),t=Wu(e,n,1e3),n.setTimeout(Math.round(.5*e.ma)+Math.round(.5*e.ma*Math.random())),yu(e.b,n),Is(n,r,t)}function Ku(e,t){e.f&&Fs({},(function(e,n){Qs(t,n,e)}))}function Wu(e,t,n){n=Math.min(e.g.length,n);var r=e.f?_o(e.f.Ja,e.f,e):null;e:for(var i=e.g,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{Eu(l,a,"req"+c+"_")}catch(e){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.g.splice(0,n),t.s=e,r}function Gu(e){e.a||e.j||(e.T=1,Ba(e.Aa,e),e.o=0)}function Hu(e){return!(e.a||e.j||3<=e.o||(e.T++,e.j=hs(_o(e.Aa,e),Ju(e,e.o)),e.o++,0))}function Qu(e){null!=e.s&&(yo.clearTimeout(e.s),e.s=null)}function $u(e){e.a=new ks(e,e.c,"rpc",e.T),null===e.i&&(e.a.B=e.l),e.a.O=0;var t=Bs(e.la);Qs(t,"RID","rpc"),Qs(t,"SID",e.J),Qs(t,"CI",e.H?"0":"1"),Qs(t,"AID",e.P),Ku(e,t),Qs(t,"TYPE","xmlhttp"),e.i&&e.l&&Lu(t,e.i,e.l),e.D&&e.a.setTimeout(e.D);var n=e.a;e=e.ga,n.H=1,n.i=$s(Bs(t)),n.j=null,n.I=!0,Cs(n,e)}function Yu(e){null!=e.m&&(yo.clearTimeout(e.m),e.m=null)}function Xu(e,t){var n=null;if(e.a==t){Yu(e),Qu(e),e.a=null;var r=2}else{if(!vu(e.b,t))return;n=t.s,mu(e.b,t),r=1}if(e.I=t.N,0!=e.v)if(t.b)if(1==r){n=t.j?t.j.length:0,t=To()-t.u;var i=e.u;Da(r=as(),new fs(r,n,t,i)),qu(e)}else Gu(e);else if(3==(i=t.h)||0==i&&0<e.I||!(1==r&&function(e,t){return!(pu(e.b)>=e.b.f-(e.h?1:0)||(e.h?(e.g=t.s.concat(e.g),0):1==e.v||2==e.v||e.u>=(e.La?0:e.Ma)||(e.h=hs(_o(e.Ba,e,t),Ju(e,e.u)),e.u++,0)))}(e,t)||2==r&&Hu(e)))switch(n&&0<n.length&&(t=e.b,t.c=t.c.concat(n)),i){case 1:Zu(e,5);break;case 4:Zu(e,10);break;case 3:Zu(e,6);break;default:Zu(e,2)}}function Ju(e,t){var n=e.Ha+Math.floor(Math.random()*e.Ra);return e.f||(n*=2),n*t}function Zu(e,t){if(e.c.info("Error code "+t),2==t){var n=null;e.f&&(n=null);var r=_o(e.Ya,e);n||(n=new qs("//www.google.com/images/cleardot.gif"),yo.location&&"http"==yo.location.protocol||Ks(n,"https"),$s(n)),function(e,t){var n=new ns;if(yo.Image){var r=new Image;r.onload=xo(Su,n,r,"TestLoadImage: loaded",!0,t),r.onerror=xo(Su,n,r,"TestLoadImage: error",!1,t),r.onabort=xo(Su,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=xo(Su,n,r,"TestLoadImage: timeout",!1,t),yo.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else ls(2);e.v=0,e.f&&e.f.ra(t),ec(e),Vu(e)}function ec(e){e.v=0,e.I=-1,e.f&&(0==gu(e.b).length&&0==e.g.length||(e.b.c.length=0,Oo(e.g),e.g.length=0),e.f.qa())}function tc(e,t,n){var r=function(e){return e instanceof qs?Bs(e):new qs(e,void 0)}(n);if(""!=r.c)t&&Ws(r,t+"."+r.c),Gs(r,r.h);else{var i=yo.location;r=function(e,t,n,r){var i=new qs(null,void 0);return e&&Ks(i,e),t&&Ws(i,t),n&&Gs(i,n),r&&(i.g=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.V&&Vo(e.V,(function(e,t){Qs(r,t,e)})),t=e.A,n=e.na,t&&n&&Qs(r,t,n),Qs(r,"VER",e.ha),Ku(e,r),r}function nc(e,t){if(t&&!e.C)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new _u(e.Na)).F=e.C,t}function rc(){}function ic(){if(Qo&&!(10<=Number(aa)))throw Error("Environmental error: no available transport.")}function oc(e,t){Ra.call(this),this.a=new Fu(t),this.o=e,this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.l=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.a&&(e?e["X-WebChannel-Client-Profile"]=t.a:e={"X-WebChannel-Client-Profile":t.a}),this.a.O=e,(e=t&&t.httpHeadersOverwriteParam)&&!Ro(e)&&(this.a.i=e),this.m=t&&t.supportsCrossDomainXhr||!1,this.l=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ro(t)&&(this.a.A=t,null!==(e=this.b)&&t in e&&t in(e=this.b)&&delete e[t]),this.f=new uc(this)}function ac(e){ws.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=null!==t&&e in t?t[e]:void 0):this.data=t}else this.data=e}function sc(){Es.call(this),this.status=1}function uc(e){this.a=e}(ho=_u.prototype).ba=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+e);t=t?t.toUpperCase():"GET",this.B=e,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?ys(this.H):ys(gs),this.a.onreadystatechange=_o(this.za,this);try{this.A=!0,this.a.open(t,String(e),!0),this.A=!1}catch(e){return void Nu(this,e)}e=n||"";var i=new Us(this.headers);r&&Fs(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Cu,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.L()),n=yo.FormData&&e instanceof yo.FormData,!(0<=No(Iu,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.a.setRequestHeader(t,e)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Ru(this),0<this.o&&((this.D=function(e){return Qo&&oa(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=_o(this.xa,this)):this.m=$a(this.xa,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(e){Nu(this,e)}},ho.xa=function(){void 0!==vo&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Da(this,"timeout"),this.abort(8))},ho.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,Da(this,"complete"),Da(this,"abort"),Ou(this))},ho.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Ou(this,!0)),_u.X.G.call(this)},ho.za=function(){this.j||(this.A||this.l||this.g?Au(this):this.Ua())},ho.Ua=function(){Au(this)},ho.W=function(){try{return 2<Du(this)?this.a.status:-1}catch(e){return-1}},ho.$=function(){try{return this.a?this.a.responseText:""}catch(e){return""}},ho.Pa=function(e){if(this.a){var t=this.a.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ku(t)}},ho.ua=function(){return this.h},ho.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(ho=Fu.prototype).ha=8,ho.v=1,ho.Ba=function(e){if(this.h)if(this.h=null,1==this.v){if(!e){this.R=Math.floor(1e5*Math.random()),e=this.R++;var t,n=new ks(this,this.c,e,void 0),r=this.l;if(this.O&&(r?Bo(r=zo(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)e:{for(var i=t=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(t+=o)){t=i;break e}if(4096===t||i===this.g.length-1){t=i+1;break e}}t=1e3}else t=1e3;t=Wu(this,n,t),Qs(i=Bs(this.B),"RID",e),Qs(i,"CVER",22),this.A&&Qs(i,"X-HTTP-Session-Id",this.A),Ku(this,i),this.i&&r&&Lu(i,this.i,r),yu(this.b,n),this.Ia&&Qs(i,"TYPE","init"),this.da?(Qs(i,"$req",t),Qs(i,"SID","null"),n.U=!0,Is(n,i,null)):Is(n,i,t),this.v=2}}else 3==this.v&&(e?Bu(this,e):0==this.g.length||du(this.b)||Bu(this))},ho.Aa=function(){if(this.j=null,$u(this),this.U&&!(this.F||null==this.a||0>=this.N)){var e=2*this.N;this.c.info("BP detection timer enabled: "+e),this.s=hs(_o(this.Ta,this),e)}},ho.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,ls(10),ju(this),$u(this))},ho.Sa=function(){null!=this.m&&(this.m=null,ju(this),Hu(this),ls(19))},ho.Ya=function(e){e?(this.c.info("Successfully pinged google.com"),ls(2)):(this.c.info("Failed to ping google.com"),ls(1))},(ho=rc.prototype).ta=function(){},ho.sa=function(){},ho.ra=function(){},ho.qa=function(){},ho.Ja=function(){},ic.prototype.a=function(e,t){return new oc(e,t)},Io(oc,Ra),oc.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var e=this.a,t=this.o,n=this.b||void 0;ls(0),e.fa=t,e.V=n||{},e.H=e.S,e.B=tc(e,null,e.fa),qu(e)},oc.prototype.close=function(){Uu(this.a)},oc.prototype.h=function(e){if("string"==typeof e){var t={};t.__data__=e,zu(this.a,t)}else this.l?((t={}).__data__=Ma(e),zu(this.a,t)):zu(this.a,e)},oc.prototype.G=function(){this.a.f=null,delete this.f,Uu(this.a),delete this.a,oc.X.G.call(this)},Io(ac,ws),Io(sc,Es),Io(uc,rc),uc.prototype.ta=function(){Da(this.a,"a")},uc.prototype.sa=function(e){Da(this.a,new ac(e))},uc.prototype.ra=function(e){Da(this.a,new sc(e))},uc.prototype.qa=function(){Da(this.a,"b")},ic.prototype.createWebChannel=ic.prototype.a,oc.prototype.send=oc.prototype.h,oc.prototype.open=oc.prototype.g,oc.prototype.close=oc.prototype.close,ds.NO_ERROR=0,ds.TIMEOUT=8,ds.HTTP_ERROR=6,ps.COMPLETE="complete",ms.EventType=bs,bs.OPEN="a",bs.CLOSE="b",bs.ERROR="c",bs.MESSAGE="d",Ra.prototype.listen=Ra.prototype.va,_u.prototype.listenOnce=_u.prototype.wa,_u.prototype.getLastError=_u.prototype.Qa,_u.prototype.getLastErrorCode=_u.prototype.ua,_u.prototype.getStatus=_u.prototype.W,_u.prototype.getResponseJson=_u.prototype.Pa,_u.prototype.getResponseText=_u.prototype.$,_u.prototype.send=_u.prototype.ba;var cc=ds,lc=ps,fc=is,hc=10,dc=11,pc=ms,vc=_u,yc=function(e,t){return(yc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function mc(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}yc(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function gc(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function bc(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function wc(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}Object.create,Object.create;var Ec=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();Ec.o=-1;var Sc=new Qi("@firebase/firestore");function kc(){return Sc.logLevel}function _c(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Sc.logLevel<=zi.DEBUG){var r=t.map(Ic);Sc.debug.apply(Sc,wc(["Firestore (8.3.1): "+e],r))}}function xc(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Sc.logLevel<=zi.ERROR){var r=t.map(Ic);Sc.error.apply(Sc,wc(["Firestore (8.3.1): "+e],r))}}function Tc(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Sc.logLevel<=zi.WARN){var r=t.map(Ic);Sc.warn.apply(Sc,wc(["Firestore (8.3.1): "+e],r))}}function Ic(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Cc(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.3.1) INTERNAL ASSERTION FAILED: "+e;throw xc(t),new Error(t)}function Nc(e,t){e||Cc()}function Pc(e,t){return e}function Ac(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Oc=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Ac(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}();function Rc(e,t){return e<t?-1:e>t?1:0}function Dc(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Lc(e){return e+"\0"}function Mc(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Fc(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Uc(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function jc(e){return null==e}function Vc(e){return 0===e&&1/e==-1/0}function zc(e){return"number"==typeof e&&Number.isInteger(e)&&!Vc(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var qc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Bc=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return mc(t,e),t}(Error),Kc=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&Cc(),void 0===n?n=e.length-t:n>e.length-t&&Cc(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),Wc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return mc(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new Bc(qc.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.emptyPath=function(){return new t([])},t}(Kc),Gc=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Hc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return mc(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return Gc.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Bc(qc.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Bc(qc.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Bc(qc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new Bc(qc.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(Kc),Qc=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(Wc.fromString(t))},e.fromName=function(t){return new e(Wc.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===Wc.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return Wc.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new Wc(t.slice()))},e}(),$c=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return Rc(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();$c.EMPTY_BYTE_STRING=new $c("");var Yc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xc(e){if(Nc(!!e),"string"==typeof e){var t=0,n=Yc.exec(e);if(Nc(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Jc(e.seconds),nanos:Jc(e.nanos)}}function Jc(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Zc(e){return"string"==typeof e?$c.fromBase64String(e):$c.fromUint8Array(e)}var el=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Bc(qc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Bc(qc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Bc(qc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Bc(qc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,1e6*(t-1e3*n))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?Rc(this.nanoseconds,e.nanoseconds):Rc(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}();function tl(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function nl(e){var t=e.mapValue.fields.__previous_value__;return tl(t)?nl(t):t}function rl(e){var t=Xc(e.mapValue.fields.__local_write_time__.timestampValue);return new el(t.seconds,t.nanos)}function il(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?tl(e)?4:10:Cc()}function ol(e,t){var n=il(e);if(n!==il(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return rl(e).isEqual(rl(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Xc(e.timestampValue),r=Xc(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Zc(e.bytesValue).isEqual(Zc(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Jc(e.geoPointValue.latitude)===Jc(t.geoPointValue.latitude)&&Jc(e.geoPointValue.longitude)===Jc(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Jc(e.integerValue)===Jc(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Jc(e.doubleValue),r=Jc(t.doubleValue);return n===r?Vc(n)===Vc(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Dc(e.arrayValue.values||[],t.arrayValue.values||[],ol);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Mc(n)!==Mc(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ol(n[i],r[i])))return!1;return!0}(e,t);default:return Cc()}}function al(e,t){return void 0!==(e.values||[]).find((function(e){return ol(e,t)}))}function sl(e,t){var n=il(e),r=il(t);if(n!==r)return Rc(n,r);switch(n){case 0:return 0;case 1:return Rc(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Jc(e.integerValue||e.doubleValue),r=Jc(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return ul(e.timestampValue,t.timestampValue);case 4:return ul(rl(e),rl(t));case 5:return Rc(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Zc(e),r=Zc(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Rc(n[i],r[i]);if(0!==o)return o}return Rc(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Rc(Jc(e.latitude),Jc(t.latitude));return 0!==n?n:Rc(Jc(e.longitude),Jc(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=sl(n[i],r[i]);if(o)return o}return Rc(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=Rc(r[a],o[a]);if(0!==s)return s;var u=sl(n[r[a]],i[o[a]]);if(0!==u)return u}return Rc(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Cc()}}function ul(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Rc(e,t);var n=Xc(e),r=Xc(t),i=Rc(n.seconds,r.seconds);return 0!==i?i:Rc(n.nanos,r.nanos)}function cl(e){return ll(e)}function ll(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Xc(e);return"time("+t.seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Zc(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Qc.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(e){for(var t="[",n=!0,r=0,i=e.values||[];r<i.length;r++)n?n=!1:t+=",",t+=ll(i[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",n=!0,r=0,i=Object.keys(e.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:t+=",",t+=o+":"+ll(e.fields[o])}return t+"}"}(e.mapValue):Cc();var t,n}function fl(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function hl(e){return!!e&&"integerValue"in e}function dl(e){return!!e&&"arrayValue"in e}function pl(e){return!!e&&"nullValue"in e}function vl(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function yl(e){return!!e&&"mapValue"in e}var ml=function(e,t){this.key=e,this.version=t},gl=function(e){function t(t,n,r,i){var o=this;return(o=e.call(this,t,n)||this).objectValue=r,o.hasLocalMutations=!!i.hasLocalMutations,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return mc(t,e),t.prototype.field=function(e){return this.objectValue.field(e)},t.prototype.data=function(){return this.objectValue},t.prototype.toProto=function(){return this.objectValue.proto},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.hasLocalMutations===e.hasLocalMutations&&this.hasCommittedMutations===e.hasCommittedMutations&&this.objectValue.isEqual(e.objectValue)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.objectValue.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t}(ml),bl=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return mc(t,e),t.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.hasCommittedMutations===this.hasCommittedMutations&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(ml),wl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return mc(t,e),t.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(ml),El=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function Sl(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new El(e,t,n,r,i,o,a)}function kl(e){var t=Pc(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+cl(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),jc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Ml(t.startAt)),t.endAt&&(n+="|ub:",n+=Ml(t.endAt)),t.h=n}return t.h}function _l(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Ul(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!ol(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Vl(e.startAt,t.startAt)&&Vl(e.endAt,t.endAt)}function xl(e){return Qc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Tl=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return mc(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new Il(e,n,r):"array-contains"===n?new Al(e,r):"in"===n?new Ol(e,r):"not-in"===n?new Rl(e,r):"array-contains-any"===n?new Dl(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new Cl(e,n):new Nl(e,n)},t.prototype.matches=function(e){var t=e.field(this.field);return"!="===this.op?null!==t&&this.m(sl(t,this.value)):null!==t&&il(this.value)===il(t)&&this.m(sl(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Cc()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),Il=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=Qc.fromName(r.referenceValue),i}return mc(t,e),t.prototype.matches=function(e){var t=Qc.comparator(e.key,this.key);return this.m(t)},t}(Tl),Cl=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=Pl(0,n),r}return mc(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(Tl),Nl=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=Pl(0,n),r}return mc(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(Tl);function Pl(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Qc.fromName(e.referenceValue)}))}var Al=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return mc(t,e),t.prototype.matches=function(e){var t=e.field(this.field);return dl(t)&&al(t.arrayValue,this.value)},t}(Tl),Ol=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return mc(t,e),t.prototype.matches=function(e){var t=e.field(this.field);return null!==t&&al(this.value.arrayValue,t)},t}(Tl),Rl=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return mc(t,e),t.prototype.matches=function(e){if(al(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.field(this.field);return null!==t&&!al(this.value.arrayValue,t)},t}(Tl),Dl=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return mc(t,e),t.prototype.matches=function(e){var t=this,n=e.field(this.field);return!(!dl(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return al(t.value.arrayValue,e)}))},t}(Tl),Ll=function(e,t){this.position=e,this.before=t};function Ml(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return cl(e)})).join(",")}var Fl=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function Ul(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function jl(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?Qc.comparator(Qc.fromName(a.referenceValue),n.key):sl(a,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Vl(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!ol(e.position[n],t.position[n]))return!1;return!0}var zl=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function ql(e,t,n,r,i,o,a,s){return new zl(e,t,n,r,i,o,a,s)}function Bl(e){return new zl(e)}function Kl(e){return!jc(e.limit)&&"F"===e.limitType}function Wl(e){return!jc(e.limit)&&"L"===e.limitType}function Gl(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Hl(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function Ql(e){return null!==e.collectionGroup}function $l(e){var t=Pc(e);if(null===t.p){t.p=[];var n=Hl(t),r=Gl(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new Fl(n)),t.p.push(new Fl(Hc.keyField(),"asc"));else{for(var i=!1,o=0,a=t.explicitOrderBy;o<a.length;o++){var s=a[o];t.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Fl(Hc.keyField(),u))}}}return t.p}function Yl(e){var t=Pc(e);if(!t.T)if("F"===t.limitType)t.T=Sl(t.path,t.collectionGroup,$l(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=$l(t);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new Fl(o.field,a))}var s=t.endAt?new Ll(t.endAt.position,!t.endAt.before):null,u=t.startAt?new Ll(t.startAt.position,!t.startAt.before):null;t.T=Sl(t.path,t.collectionGroup,n,t.filters,t.limit,s,u)}return t.T}function Xl(e,t,n){return new zl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Jl(e,t){return _l(Yl(e),Yl(t))&&e.limitType===t.limitType}function Zl(e){return kl(Yl(e))+"|lt:"+e.limitType}function ef(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.canonicalString()+" "+t.op+" "+cl(t.value);var t})).join(", ")+"]"),jc(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+Ml(e.startAt)),e.endAt&&(t+=", endAt: "+Ml(e.endAt)),"Target("+t+")"}(Yl(e))+"; limitType="+e.limitType+")"}function tf(e,t){return function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Qc.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!jl(e.startAt,$l(e),t)||e.endAt&&jl(e.endAt,$l(e),t))}(e,t)}function nf(e){return function(t,n){for(var r=!1,i=0,o=$l(e);i<o.length;i++){var a=o[i],s=rf(a,t,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function rf(e,t,n){var r=e.field.isKeyField()?Qc.comparator(t.key,n.key):function(e,t,n){var r=t.field(e),i=n.field(e);return null!==r&&null!==i?sl(r,i):Cc()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Cc()}}var of=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new el(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}(),af=function(){function e(e){this.fields=e,e.sort(Hc.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return Dc(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),sf=function(){function e(e){this.proto=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.isEmpty())return this.proto;for(var t=this.proto,n=0;n<e.length-1;++n){if(!t.mapValue.fields)return null;if(!yl(t=t.mapValue.fields[e.get(n)]))return null}return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},e.prototype.isEqual=function(e){return ol(this.proto,e.proto)},e}(),uf=function(){function e(e){void 0===e&&(e=sf.empty()),this.I=e,this.A=new Map}return e.prototype.set=function(e,t){return this.R(e,t),this},e.prototype.delete=function(e){return this.R(e,null),this},e.prototype.R=function(e,t){for(var n=this.A,r=0;r<e.length-1;++r){var i=e.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===il(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(e.lastSegment(),t)},e.prototype.v=function(){var e=this.P(Hc.emptyPath(),this.A);return null!=e?new sf(e):this.I},e.prototype.P=function(e,t){var n=this,r=!1,i=this.I.field(e),o=yl(i)?Object.assign({},i.mapValue.fields):{};return t.forEach((function(t,i){if(t instanceof Map){var a=n.P(e.child(i),t);null!=a&&(o[i]=a,r=!0)}else null!==t?(o[i]=t,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},e}();function cf(e){var t=[];return Fc(e.fields||{},(function(e,n){var r=new Hc([e]);if(yl(n)){var i=cf(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];t.push(r.child(s))}}else t.push(r)})),new af(t)}function lf(e,t){if(e.V){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vc(t)?"-0":t}}function ff(e){return{integerValue:""+e}}function hf(e,t){return zc(t)?ff(t):lf(e,t)}var df=function(){this._=void 0};function pf(e,t,n){return e instanceof mf?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof gf?bf(e,t):e instanceof wf?Ef(e,t):function(e,t){var n=yf(e,t),r=kf(n)+kf(e.S);return hl(n)&&hl(e.S)?ff(r):lf(e.D,r)}(e,t)}function vf(e,t,n){return e instanceof gf?bf(e,t):e instanceof wf?Ef(e,t):n}function yf(e,t){return e instanceof Sf?hl(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var mf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return mc(t,e),t}(df),gf=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return mc(t,e),t}(df);function bf(e,t){for(var n=_f(t),r=function(e){n.some((function(t){return ol(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var wf=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return mc(t,e),t}(df);function Ef(e,t){for(var n=_f(t),r=function(e){n=n.filter((function(t){return!ol(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Sf=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).D=t,r.S=n,r}return mc(t,e),t}(df);function kf(e){return Jc(e.integerValue||e.doubleValue)}function _f(e){return dl(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var xf=function(e,t){this.field=e,this.transform=t},Tf=function(e,t){this.version=e,this.transformResults=t},If=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function Cf(e,t){return void 0!==e.updateTime?t instanceof gl&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t instanceof gl}var Nf=function(){};function Pf(e,t,n){return e instanceof Lf?function(e,t,n){var r=e.value,i=Uf(e.fieldTransforms,t,n.transformResults);return r=Vf(e.fieldTransforms,r,i),new gl(e.key,n.version,r,{hasCommittedMutations:!0})}(e,t,n):e instanceof Mf?function(e,t,n){if(!Cf(e.precondition,t))return new wl(e.key,n.version);var r=Ff(e,t,Uf(e.fieldTransforms,t,n.transformResults));return new gl(e.key,n.version,r,{hasCommittedMutations:!0})}(e,t,n):function(e,t,n){return new bl(e.key,n.version,{hasCommittedMutations:!0})}(e,0,n)}function Af(e,t,n){return e instanceof Lf?function(e,t,n){if(!Cf(e.precondition,t))return t;var r=e.value,i=jf(e.fieldTransforms,n,t);r=Vf(e.fieldTransforms,r,i);var o=Df(t);return new gl(e.key,o,r,{hasLocalMutations:!0})}(e,t,n):e instanceof Mf?function(e,t,n){if(!Cf(e.precondition,t))return t;var r=Df(t),i=Ff(e,t,jf(e.fieldTransforms,n,t));return new gl(e.key,r,i,{hasLocalMutations:!0})}(e,t,n):function(e,t){return Cf(e.precondition,t)?new bl(e.key,of.min()):t}(e,t)}function Of(e,t){return function(e,t){for(var n=null,r=0,i=e;r<i.length;r++){var o=i[r],a=t instanceof gl?t.field(o.field):void 0,s=yf(o.transform,a||null);null!=s&&(n=null==n?(new uf).set(o.field,s):n.set(o.field,s))}return n?n.v():null}(e.fieldTransforms,t)}function Rf(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Dc(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof gf&&t instanceof gf||e instanceof wf&&t instanceof wf?Dc(e.elements,t.elements,ol):e instanceof Sf&&t instanceof Sf?ol(e.S,t.S):e instanceof mf&&t instanceof mf}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Df(e){return e instanceof gl?e.version:of.min()}var Lf=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return mc(t,e),t}(Nf),Mf=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=e.call(this)||this).key=t,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return mc(t,e),t}(Nf);function Ff(e,t,n){var r;return r=function(e,t){var n=new uf(t);return e.fieldMask.fields.forEach((function(t){if(!t.isEmpty()){var r=e.data.field(t);null!==r?n.set(t,r):n.delete(t)}})),n.v()}(e,r=t instanceof gl?t.data():sf.empty()),Vf(e.fieldTransforms,r,n)}function Uf(e,t,n){var r=[];Nc(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=null;t instanceof gl&&(s=t.field(o.field)),r.push(vf(a,s,n[i]))}return r}function jf(e,t,n){for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i],s=a.transform,u=null;n instanceof gl&&(u=n.field(a.field)),r.push(pf(s,u,t))}return r}function Vf(e,t,n){for(var r=new uf(t),i=0;i<e.length;i++){var o=e[i];r.set(o.field,n[i])}return r.v()}var zf,qf,Bf=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return mc(t,e),t}(Nf),Kf=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return mc(t,e),t}(Nf),Wf=function(e){this.count=e};function Gf(e){switch(e){case qc.OK:return Cc();case qc.CANCELLED:case qc.UNKNOWN:case qc.DEADLINE_EXCEEDED:case qc.RESOURCE_EXHAUSTED:case qc.INTERNAL:case qc.UNAVAILABLE:case qc.UNAUTHENTICATED:return!1;case qc.INVALID_ARGUMENT:case qc.NOT_FOUND:case qc.ALREADY_EXISTS:case qc.PERMISSION_DENIED:case qc.FAILED_PRECONDITION:case qc.ABORTED:case qc.OUT_OF_RANGE:case qc.UNIMPLEMENTED:case qc.DATA_LOSS:return!0;default:return Cc()}}function Hf(e){if(void 0===e)return xc("GRPC error has no .code"),qc.UNKNOWN;switch(e){case zf.OK:return qc.OK;case zf.CANCELLED:return qc.CANCELLED;case zf.UNKNOWN:return qc.UNKNOWN;case zf.DEADLINE_EXCEEDED:return qc.DEADLINE_EXCEEDED;case zf.RESOURCE_EXHAUSTED:return qc.RESOURCE_EXHAUSTED;case zf.INTERNAL:return qc.INTERNAL;case zf.UNAVAILABLE:return qc.UNAVAILABLE;case zf.UNAUTHENTICATED:return qc.UNAUTHENTICATED;case zf.INVALID_ARGUMENT:return qc.INVALID_ARGUMENT;case zf.NOT_FOUND:return qc.NOT_FOUND;case zf.ALREADY_EXISTS:return qc.ALREADY_EXISTS;case zf.PERMISSION_DENIED:return qc.PERMISSION_DENIED;case zf.FAILED_PRECONDITION:return qc.FAILED_PRECONDITION;case zf.ABORTED:return qc.ABORTED;case zf.OUT_OF_RANGE:return qc.OUT_OF_RANGE;case zf.UNIMPLEMENTED:return qc.UNIMPLEMENTED;case zf.DATA_LOSS:return qc.DATA_LOSS;default:return Cc()}}(qf=zf||(zf={}))[qf.OK=0]="OK",qf[qf.CANCELLED=1]="CANCELLED",qf[qf.UNKNOWN=2]="UNKNOWN",qf[qf.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qf[qf.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qf[qf.NOT_FOUND=5]="NOT_FOUND",qf[qf.ALREADY_EXISTS=6]="ALREADY_EXISTS",qf[qf.PERMISSION_DENIED=7]="PERMISSION_DENIED",qf[qf.UNAUTHENTICATED=16]="UNAUTHENTICATED",qf[qf.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qf[qf.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qf[qf.ABORTED=10]="ABORTED",qf[qf.OUT_OF_RANGE=11]="OUT_OF_RANGE",qf[qf.UNIMPLEMENTED=12]="UNIMPLEMENTED",qf[qf.INTERNAL=13]="INTERNAL",qf[qf.UNAVAILABLE=14]="UNAVAILABLE",qf[qf.DATA_LOSS=15]="DATA_LOSS";var Qf=function(){function e(e,t){this.comparator=e,this.root=t||Yf.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Yf.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Yf.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new $f(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new $f(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new $f(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new $f(this.root,e,this.comparator,!0)},e}(),$f=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),Yf=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Cc();if(this.right.isRed())throw Cc();var e=this.left.check();if(e!==this.right.check())throw Cc();return e+(this.isRed()?0:1)},e}();Yf.EMPTY=null,Yf.RED=!0,Yf.BLACK=!1,Yf.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw Cc()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw Cc()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw Cc()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw Cc()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw Cc()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Yf(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var Xf=function(){function e(e){this.comparator=e,this.data=new Qf(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new Jf(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new Jf(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),Jf=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),Zf=new Qf(Qc.comparator);function eh(){return Zf}function th(){return eh()}var nh=new Qf(Qc.comparator);function rh(){return nh}var ih=new Qf(Qc.comparator);function oh(){return ih}var ah=new Xf(Qc.comparator);function sh(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=ah,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var uh=new Xf(Rc);function ch(){return uh}var lh=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,fh.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(of.min(),r,ch(),eh(),sh())},e}(),fh=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e($c.EMPTY_BYTE_STRING,n,sh(),sh(),sh())},e}(),hh=function(e,t,n,r){this.C=e,this.removedTargetIds=t,this.key=n,this.N=r},dh=function(e,t){this.targetId=e,this.$=t},ph=function(e,t,n,r){void 0===n&&(n=$c.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},vh=function(){function e(){this.F=0,this.O=gh(),this.k=$c.EMPTY_BYTE_STRING,this.M=!1,this.L=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.M},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.k},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"B",{get:function(){return 0!==this.F},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"q",{get:function(){return this.L},enumerable:!1,configurable:!0}),e.prototype.U=function(e){e.approximateByteSize()>0&&(this.L=!0,this.k=e)},e.prototype.K=function(){var e=sh(),t=sh(),n=sh();return this.O.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Cc()}})),new fh(this.k,this.M,e,t,n)},e.prototype.W=function(){this.L=!1,this.O=gh()},e.prototype.j=function(e,t){this.L=!0,this.O=this.O.insert(e,t)},e.prototype.G=function(e){this.L=!0,this.O=this.O.remove(e)},e.prototype.H=function(){this.F+=1},e.prototype.J=function(){this.F-=1},e.prototype.Y=function(){this.L=!0,this.M=!0},e}(),yh=function(){function e(e){this.X=e,this.Z=new Map,this.tt=eh(),this.et=mh(),this.nt=new Xf(Rc)}return e.prototype.st=function(e){for(var t=0,n=e.C;t<n.length;t++){var r=n[t];e.N instanceof gl?this.it(r,e.N):e.N instanceof bl&&this.rt(r,e.key,e.N)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.rt(r,e.key,e.N)},e.prototype.ot=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ct(n);switch(e.state){case 0:t.at(n)&&r.U(e.resumeToken);break;case 1:r.J(),r.B||r.W(),r.U(e.resumeToken);break;case 2:r.J(),r.B||t.removeTarget(n);break;case 3:t.at(n)&&(r.Y(),r.U(e.resumeToken));break;case 4:t.at(n)&&(t.ut(n),r.U(e.resumeToken));break;default:Cc()}}))},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Z.forEach((function(e,r){n.at(r)&&t(r)}))},e.prototype.ht=function(e){var t=e.targetId,n=e.$.count,r=this.lt(t);if(r){var i=r.target;if(xl(i))if(0===n){var o=new Qc(i.path);this.rt(t,o,new bl(o,of.min()))}else Nc(1===n);else this.ft(t)!==n&&(this.ut(t),this.nt=this.nt.add(t))}},e.prototype.dt=function(e){var t=this,n=new Map;this.Z.forEach((function(r,i){var o=t.lt(i);if(o){if(r.current&&xl(o.target)){var a=new Qc(o.target.path);null!==t.tt.get(a)||t.wt(i,a)||t.rt(i,a,new bl(a,e))}r.q&&(n.set(i,r.K()),r.W())}}));var r=sh();this.et.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.lt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new lh(e,n,this.nt,this.tt,r);return this.tt=eh(),this.et=mh(),this.nt=new Xf(Rc),i},e.prototype.it=function(e,t){if(this.at(e)){var n=this.wt(e,t.key)?2:0;this.ct(e).j(t.key,n),this.tt=this.tt.insert(t.key,t),this.et=this.et.insert(t.key,this._t(t.key).add(e))}},e.prototype.rt=function(e,t,n){if(this.at(e)){var r=this.ct(e);this.wt(e,t)?r.j(t,1):r.G(t),this.et=this.et.insert(t,this._t(t).delete(e)),n&&(this.tt=this.tt.insert(t,n))}},e.prototype.removeTarget=function(e){this.Z.delete(e)},e.prototype.ft=function(e){var t=this.ct(e).K();return this.X.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.H=function(e){this.ct(e).H()},e.prototype.ct=function(e){var t=this.Z.get(e);return t||(t=new vh,this.Z.set(e,t)),t},e.prototype._t=function(e){var t=this.et.get(e);return t||(t=new Xf(Rc),this.et=this.et.insert(e,t)),t},e.prototype.at=function(e){var t=null!==this.lt(e);return t||_c("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.lt=function(e){var t=this.Z.get(e);return t&&t.B?null:this.X.yt(e)},e.prototype.ut=function(e){var t=this;this.Z.set(e,new vh),this.X.getRemoteKeysForTarget(e).forEach((function(n){t.rt(e,n,null)}))},e.prototype.wt=function(e,t){return this.X.getRemoteKeysForTarget(e).has(t)},e}();function mh(){return new Qf(Qc.comparator)}function gh(){return new Qf(Qc.comparator)}var bh={asc:"ASCENDING",desc:"DESCENDING"},wh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Eh=function(e,t){this.databaseId=e,this.V=t};function Sh(e,t){return e.V?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function kh(e,t){return e.V?t.toBase64():t.toUint8Array()}function _h(e,t){return Sh(e,t.toTimestamp())}function xh(e){return Nc(!!e),of.fromTimestamp(function(e){var t=Xc(e);return new el(t.seconds,t.nanos)}(e))}function Th(e,t){return function(e){return new Wc(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Ih(e){var t=Wc.fromString(e);return Nc(Xh(t)),t}function Ch(e,t){return Th(e.databaseId,t.path)}function Nh(e,t){var n=Ih(t);if(n.get(1)!==e.databaseId.projectId)throw new Bc(qc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Bc(qc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Qc(Rh(n))}function Ph(e,t){return Th(e.databaseId,t)}function Ah(e){var t=Ih(e);return 4===t.length?Wc.emptyPath():Rh(t)}function Oh(e){return new Wc(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Rh(e){return Nc(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Dh(e,t,n){return{name:Ch(e,t),fields:n.proto.mapValue.fields}}function Lh(e,t,n){var r=Nh(e,t.name),i=xh(t.updateTime),o=new sf({mapValue:{fields:t.fields}});return new gl(r,i,o,{hasCommittedMutations:!!n})}function Mh(e,t){var n;if(t instanceof Lf)n={update:Dh(e,t.key,t.value)};else if(t instanceof Bf)n={delete:Ch(e,t.key)};else if(t instanceof Mf)n={update:Dh(e,t.key,t.data),updateMask:Yh(t.fieldMask)};else{if(!(t instanceof Kf))return Cc();n={verify:Ch(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof mf)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof gf)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof wf)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Sf)return{fieldPath:t.field.canonicalString(),increment:n.S};throw Cc()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:_h(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Cc()}(e,t.precondition)),n}function Fh(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?If.updateTime(xh(e.updateTime)):void 0!==e.exists?If.exists(e.exists):If.none()}(t.currentDocument):If.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Nc("REQUEST_TIME"===t.setToServerValue),n=new mf;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new gf(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new wf(i)}else"increment"in t?n=new Sf(e,t.increment):Cc();var o=Hc.fromServerFormat(t.fieldPath);return new xf(o,n)}(e,t)})):[];if(t.update){t.update.name;var i=Nh(e,t.update.name),o=new sf({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){var t=e.fieldPaths||[];return new af(t.map((function(e){return Hc.fromServerFormat(e)})))}(t.updateMask);return new Mf(i,o,a,n,r)}return new Lf(i,o,n,r)}if(t.delete){var s=Nh(e,t.delete);return new Bf(s,n)}if(t.verify){var u=Nh(e,t.verify);return new Kf(u,n)}return Cc()}function Uh(e,t){return{documents:[Ph(e,t.path)]}}function jh(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Ph(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Ph(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(vl(e.value))return{unaryFilter:{field:Gh(e.field),op:"IS_NAN"}};if(pl(e.value))return{unaryFilter:{field:Gh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(vl(e.value))return{unaryFilter:{field:Gh(e.field),op:"IS_NOT_NAN"}};if(pl(e.value))return{unaryFilter:{field:Gh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gh(e.field),op:Wh(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Gh(e.field),direction:Kh(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(e,t){return e.V||jc(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=qh(t.startAt)),t.endAt&&(n.structuredQuery.endAt=qh(t.endAt)),n}function Vh(e){var t=Ah(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Nc(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=zh(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Fl(Hh(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return jc(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=Bh(n.startAt));var l=null;return n.endAt&&(l=Bh(n.endAt)),ql(t,i,s,a,u,"F",c,l)}function zh(e){return e?void 0!==e.unaryFilter?[$h(e)]:void 0!==e.fieldFilter?[Qh(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return zh(e)})).reduce((function(e,t){return e.concat(t)})):Cc():[]}function qh(e){return{before:e.before,values:e.position}}function Bh(e){var t=!!e.before,n=e.values||[];return new Ll(n,t)}function Kh(e){return bh[e]}function Wh(e){return wh[e]}function Gh(e){return{fieldPath:e.canonicalString()}}function Hh(e){return Hc.fromServerFormat(e.fieldPath)}function Qh(e){return Tl.create(Hh(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Cc()}}(e.fieldFilter.op),e.fieldFilter.value)}function $h(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Hh(e.unaryFilter.field);return Tl.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Hh(e.unaryFilter.field);return Tl.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Hh(e.unaryFilter.field);return Tl.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Hh(e.unaryFilter.field);return Tl.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Cc()}}function Yh(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Xh(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Jh(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=ed(t)),t=Zh(e.get(n),t);return ed(t)}function Zh(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function ed(e){return e+""}function td(e){var t=e.length;if(Nc(t>=2),2===t)return Nc(""===e.charAt(0)&&""===e.charAt(1)),Wc.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("",o);switch((a<0||a>n)&&Cc(),e.charAt(a+1)){case"":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"":i+=e.substring(o,a),i+="\0";break;case"":i+=e.substring(o,a+1);break;default:Cc()}o=a+2}return new Wc(r)}var nd=function(e,t){this.seconds=e,this.nanoseconds=t},rd=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};rd.store="owner",rd.key="owner";var id=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};id.store="mutationQueues",id.keyPath="userId";var od=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};od.store="mutations",od.keyPath="batchId",od.userMutationsIndex="userMutationsIndex",od.userMutationsKeyPath=["userId","batchId"];var ad=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,Jh(t)]},e.key=function(e,t,n){return[e,Jh(t),n]},e}();ad.store="documentMutations",ad.PLACEHOLDER=new ad;var sd=function(e,t){this.path=e,this.readTime=t},ud=function(e,t){this.path=e,this.version=t},cd=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};cd.store="remoteDocuments",cd.readTimeIndex="readTimeIndex",cd.readTimeIndexPath="readTime",cd.collectionReadTimeIndex="collectionReadTimeIndex",cd.collectionReadTimeIndexPath=["parentPath","readTime"];var ld=function(e){this.byteSize=e};ld.store="remoteDocumentGlobal",ld.key="remoteDocumentGlobalKey";var fd=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};fd.store="targets",fd.keyPath="targetId",fd.queryTargetsIndexName="queryTargetsIndex",fd.queryTargetsKeyPath=["canonicalId","targetId"];var hd=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};hd.store="targetDocuments",hd.keyPath=["targetId","path"],hd.documentTargetsIndex="documentTargetsIndex",hd.documentTargetsKeyPath=["path","targetId"];var dd=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};dd.key="targetGlobalKey",dd.store="targetGlobal";var pd=function(e,t){this.collectionId=e,this.parent=t};pd.store="collectionParents",pd.keyPath=["collectionId","parent"];var vd=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};vd.store="clientMetadata",vd.keyPath="clientId";var yd=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};yd.store="bundles",yd.keyPath="bundleId";var md=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};md.store="namedQueries",md.keyPath="name";var gd=wc(wc([],wc(wc([],wc(wc([],wc(wc([],[id.store,od.store,ad.store,cd.store,fd.store,rd.store,dd.store,hd.store]),[vd.store])),[ld.store])),[pd.store])),[yd.store,md.store]),bd="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",wd=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),Ed=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},Sd=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&Cc(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},e}(),kd=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.gt=new Ed,this.transaction.oncomplete=function(){n.gt.resolve()},this.transaction.onabort=function(){t.error?n.gt.reject(new Td(e,t.error)):n.gt.resolve()},this.transaction.onerror=function(t){var r=Ad(t.target.error);n.gt.reject(new Td(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Td(n,t)}},Object.defineProperty(e.prototype,"Et",{get:function(){return this.gt.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.gt.reject(e),this.aborted||(_c("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new Cd(t)},e}(),_d=function(){function e(t,n,r){this.name=t,this.version=n,this.Tt=r,12.2===e.It(Si())&&xc("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return _c("SimpleDb","Removing database:",e),Nd(window.indexedDB.deleteDatabase(e)).toPromise()},e.At=function(){if("undefined"==typeof indexedDB)return!1;if(e.Rt())return!0;var t=Si(),n=e.It(t),r=0<n&&n<10,i=e.bt(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.Rt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.vt)},e.Pt=function(e,t){return e.store(t)},e.It=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.bt=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.Vt=function(e){return gc(this,void 0,void 0,(function(){var t,n=this;return bc(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(_c("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){var n=e.target.result;t(n)},i.onblocked=function(){r(new Td(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;"VersionError"===n.name?r(new Bc(qc.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new Td(e,n))},i.onupgradeneeded=function(e){_c("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Tt.St(t,i.transaction,e.oldVersion,n.version).next((function(){_c("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.Dt&&(this.db.onversionchange=function(e){return n.Dt(e)}),this.db)]}}))}))},e.prototype.Ct=function(e){this.Dt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return gc(this,void 0,void 0,(function(){var i,o,a,s,u;return bc(this,(function(c){switch(c.label){case 0:i="readonly"===t,o=0,a=function(){var t,a,u,c,l;return bc(this,(function(f){switch(f.label){case 0:++o,f.label=1;case 1:return f.trys.push([1,4,,5]),[4,s.Vt(e)];case 2:return s.db=f.sent(),t=kd.open(s.db,e,i?"readonly":"readwrite",n),a=r(t).catch((function(e){return t.abort(e),Sd.reject(e)})).toPromise(),u={},a.catch((function(){})),[4,t.Et];case 3:return[2,(u.value=(f.sent(),a),u)];case 4:return c=f.sent(),l="FirebaseError"!==c.name&&o<3,_c("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),xd=function(){function e(e){this.xt=e,this.Nt=!1,this.$t=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Nt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Ft",{get:function(){return this.$t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.xt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Nt=!0},e.prototype.Ot=function(e){this.$t=e},e.prototype.delete=function(){return Nd(this.xt.delete())},e}(),Td=function(e){function t(t,n){var r=this;return(r=e.call(this,qc.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return mc(t,e),t}(Bc);function Id(e){return"IndexedDbTransactionError"===e.name}var Cd=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(_c("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(_c("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Nd(n)},e.prototype.add=function(e){return _c("SimpleDb","ADD",this.store.name,e,e),Nd(this.store.add(e))},e.prototype.get=function(e){var t=this;return Nd(this.store.get(e)).next((function(n){return void 0===n&&(n=null),_c("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return _c("SimpleDb","DELETE",this.store.name,e),Nd(this.store.delete(e))},e.prototype.count=function(){return _c("SimpleDb","COUNT",this.store.name),Nd(this.store.count())},e.prototype.kt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.Mt(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.Lt=function(e,t){_c("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Bt=!1;var r=this.cursor(n);return this.Mt(r,(function(e,t,n){return n.delete()}))},e.prototype.qt=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Mt(r,t)},e.prototype.Ut=function(e){var t=this.cursor({});return new Sd((function(n,r){t.onerror=function(e){var t=Ad(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.Mt=function(e,t){var n=[];return new Sd((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new xd(i),a=t(i.primaryKey,i.value,o);if(a instanceof Sd){var s=a.catch((function(e){return o.done(),Sd.reject(e)}));n.push(s)}o.isDone?r():null===o.Ft?i.continue():i.continue(o.Ft)}else r()}})).next((function(){return Sd.waitFor(n)}))},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Bt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function Nd(e){return new Sd((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Ad(e.target.error);n(t)}}))}var Pd=!1;function Ad(e){var t=_d.It(Si());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Bc("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Pd||(Pd=!0,setTimeout((function(){throw r}),0)),r}}return e}var Od=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Qt=t,r.currentSequenceNumber=n,r}return mc(t,e),t}(wd);function Rd(e,t){var n=Pc(e);return _d.Pt(n.Qt,t)}var Dd=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(e)&&(t=Pf(o,t,r[i]))}return t},e.prototype.applyToLocalView=function(e,t){for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(e)&&(t=Af(a,t,this.localWriteTime));for(var i=0,o=this.mutations;i<o.length;i++){var a;(a=o[i]).key.isEqual(e)&&(t=Af(a,t,this.localWriteTime))}return t},e.prototype.applyToLocalDocumentSet=function(e){var t=this,n=e;return this.mutations.forEach((function(r){var i=t.applyToLocalView(r.key,e.get(r.key));i&&(n=n.insert(r.key,i))})),n},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),sh())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&Dc(this.mutations,e.mutations,(function(e,t){return Rf(e,t)}))&&Dc(this.baseMutations,e.baseMutations,(function(e,t){return Rf(e,t)}))},e}(),Ld=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){Nc(t.mutations.length===r.length);for(var i=oh(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),Md=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=of.min()),void 0===o&&(o=of.min()),void 0===a&&(a=$c.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),Fd=function(e){this.Kt=e};function Ud(e,t){if(t.document)return Lh(e.Kt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=Qc.fromSegments(t.noDocument.path),r=Bd(t.noDocument.readTime);return new bl(n,r,{hasCommittedMutations:!!t.hasCommittedMutations})}if(t.unknownDocument){var i=Qc.fromSegments(t.unknownDocument.path);return r=Bd(t.unknownDocument.version),new wl(i,r)}return Cc()}function jd(e,t,n){var r=Vd(n),i=t.key.path.popLast().toArray();if(t instanceof gl){var o=function(e,t){return{name:Ch(e,t.key),fields:t.toProto().mapValue.fields,updateTime:Sh(e,t.version.toTimestamp())}}(e.Kt,t),a=t.hasCommittedMutations;return new cd(null,null,o,a,r,i)}if(t instanceof bl){var s=t.key.path.toArray(),u=qd(t.version);return a=t.hasCommittedMutations,new cd(null,new sd(s,u),null,a,r,i)}if(t instanceof wl){var c=t.key.path.toArray(),l=qd(t.version);return new cd(new ud(c,l),null,null,!0,r,i)}return Cc()}function Vd(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function zd(e){var t=new el(e[0],e[1]);return of.fromTimestamp(t)}function qd(e){var t=e.toTimestamp();return new nd(t.seconds,t.nanoseconds)}function Bd(e){var t=new el(e.seconds,e.nanoseconds);return of.fromTimestamp(t)}function Kd(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Fh(e.Kt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map((function(t){return Fh(e.Kt,t)})),s=el.fromMillis(t.localWriteTimeMs);return new Dd(t.batchId,s,n,a)}function Wd(e){var t,n,r=Bd(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Bd(e.lastLimboFreeSnapshotVersion):of.min();return void 0!==e.query.documents?(Nc(1===(n=e.query).documents.length),t=Yl(Bl(Ah(n.documents[0])))):t=function(e){return Yl(Vh(e))}(e.query),new Md(t,e.targetId,0,e.lastListenSequenceNumber,r,i,$c.fromBase64String(e.resumeToken))}function Gd(e,t){var n,r=qd(t.snapshotVersion),i=qd(t.lastLimboFreeSnapshotVersion);n=xl(t.target)?Uh(e.Kt,t.target):jh(e.Kt,t.target);var o=t.resumeToken.toBase64();return new fd(t.targetId,kl(t.target),r,o,t.sequenceNumber,i,n)}function Hd(e){var t=Vh({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Xl(t,t.limit,"L"):t}var Qd=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return $d(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Bd(t.createTime),version:t.version};var t}))},e.prototype.saveBundleMetadata=function(e,t){return $d(e).put({bundleId:(n=t).id,createTime:qd(xh(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return Yd(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Hd(t.bundledQuery),readTime:Bd(t.readTime)};var t}))},e.prototype.saveNamedQuery=function(e,t){return Yd(e).put(function(e){return{name:e.name,readTime:qd(xh(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function $d(e){return Rd(e,yd.store)}function Yd(e){return Rd(e,md.store)}var Xd=function(){function e(){this.Wt=new Jd}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Wt.add(t),Sd.resolve()},e.prototype.getCollectionParents=function(e,t){return Sd.resolve(this.Wt.getEntries(t))},e}(),Jd=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Xf(Wc.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new Xf(Wc.comparator)).toArray()},e}(),Zd=function(){function e(){this.jt=new Jd}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.jt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.jt.add(t)}));var o={collectionId:r,parent:Jh(i)};return ep(e).put(o)}return Sd.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Lc(t),""],!1,!0);return ep(e).kt(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(td(o.parent))}return n}))},e}();function ep(e){return Rd(e,pd.store)}var tp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},np=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function rp(e,t,n){var r=e.store(od.store),i=e.store(ad.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.qt({range:a},(function(e,t,n){return s++,n.delete()}));o.push(u.next((function(){Nc(1===s)})));for(var c=[],l=0,f=n.mutations;l<f.length;l++){var h=f[l],d=ad.key(t,h.key.path,n.batchId);o.push(i.delete(d)),c.push(h.key)}return Sd.waitFor(o).next((function(){return c}))}function ip(e){var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Cc();t=e.noDocument}return JSON.stringify(t).length}np.DEFAULT_COLLECTION_PERCENTILE=10,np.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,np.DEFAULT=new np(41943040,np.DEFAULT_COLLECTION_PERCENTILE,np.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),np.DISABLED=new np(-1,0,0);var op=function(){function e(e,t,n,r){this.userId=e,this.D=t,this.Gt=n,this.referenceDelegate=r,this.zt={}}return e.Ht=function(t,n,r,i){return Nc(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return sp(e).qt({index:od.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=up(e),a=sp(e);return a.add({}).next((function(s){Nc("number"==typeof s);for(var u=new Dd(s,t,n,r),c=function(e,t,n){var r=n.baseMutations.map((function(t){return Mh(e.Kt,t)})),i=n.mutations.map((function(t){return Mh(e.Kt,t)}));return new od(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.D,i.userId,u),l=[],f=new Xf((function(e,t){return Rc(e.canonicalString(),t.canonicalString())})),h=0,d=r;h<d.length;h++){var p=d[h],v=ad.key(i.userId,p.key.path,s);f=f.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(v,ad.PLACEHOLDER))}return f.forEach((function(t){l.push(i.Gt.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.zt[s]=u.keys()})),Sd.waitFor(l).next((function(){return u}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return sp(e).get(t).next((function(e){return e?(Nc(e.userId===n.userId),Kd(n.D,e)):null}))},e.prototype.Jt=function(e,t){var n=this;return this.zt[t]?Sd.resolve(this.zt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.zt[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return sp(e).qt({index:od.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(Nc(t.batchId>=r),o=Kd(n.D,t)),i.done()})).next((function(){return o}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return sp(e).qt({index:od.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return sp(e).kt(od.userMutationsIndex,n).next((function(e){return e.map((function(e){return Kd(t.D,e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=ad.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return up(e).qt({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=td(u);if(s===n.userId&&t.path.isEqual(l))return sp(e).get(c).next((function(e){if(!e)throw Cc();Nc(e.userId===n.userId),o.push(Kd(n.D,e))}));a.done()})).next((function(){return o}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Xf(Rc),i=[];return t.forEach((function(t){var o=ad.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=up(e).qt({range:a},(function(e,i,o){var a=e[0],s=e[1],u=e[2],c=td(s);a===n.userId&&t.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),Sd.waitFor(i).next((function(){return n.Yt(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=ad.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Xf(Rc);return up(e).qt({range:a},(function(e,t,o){var a=e[0],u=e[1],c=e[2],l=td(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Yt(e,s)}))},e.prototype.Yt=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(sp(e).get(t).next((function(e){if(null===e)throw Cc();Nc(e.userId===n.userId),r.push(Kd(n.D,e))})))})),Sd.waitFor(i).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return rp(e.Qt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Xt(t.batchId)})),Sd.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},e.prototype.Xt=function(e){delete this.zt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Sd.resolve();var r=IDBKeyRange.lowerBound(ad.prefixForUser(t.userId)),i=[];return up(e).qt({range:r},(function(e,n,r){if(e[0]===t.userId){var o=td(e[1]);i.push(o)}else r.done()})).next((function(){Nc(0===i.length)}))}))},e.prototype.containsKey=function(e,t){return ap(e,this.userId,t)},e.prototype.Zt=function(e){var t=this;return cp(e).get(this.userId).next((function(e){return e||new id(t.userId,-1,"")}))},e}();function ap(e,t,n){var r=ad.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return up(e).qt({range:o,Bt:!0},(function(e,n,r){var o=e[0],s=e[1];e[2],o===t&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function sp(e){return Rd(e,od.store)}function up(e){return Rd(e,ad.store)}function cp(e){return Rd(e,id.store)}var lp=function(){function e(e){this.te=e}return e.prototype.next=function(){return this.te+=2,this.te},e.ee=function(){return new e(0)},e.ne=function(){return new e(-1)},e}(),fp=function(){function e(e,t){this.referenceDelegate=e,this.D=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.se(e).next((function(n){var r=new lp(n.highestTargetId);return n.highestTargetId=r.next(),t.ie(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.se(e).next((function(e){return of.fromTimestamp(new el(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return this.se(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.se(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.ie(e,i)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.re(e,t).next((function(){return n.se(e).next((function(r){return r.targetCount+=1,n.oe(t,r),n.ie(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.re(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return hp(e).delete(t.targetId)})).next((function(){return n.se(e)})).next((function(t){return Nc(t.targetCount>0),t.targetCount-=1,n.ie(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return hp(e).qt((function(a,s){var u=Wd(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(e,u)))})).next((function(){return Sd.waitFor(o)})).next((function(){return i}))},e.prototype.forEachTarget=function(e,t){return hp(e).qt((function(e,n){var r=Wd(n);t(r)}))},e.prototype.se=function(e){return dp(e).get(dd.key).next((function(e){return Nc(null!==e),e}))},e.prototype.ie=function(e,t){return dp(e).put(dd.key,t)},e.prototype.re=function(e,t){return hp(e).put(Gd(this.D,t))},e.prototype.oe=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.se(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=kl(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return hp(e).qt({range:r,index:fd.queryTargetsIndexName},(function(e,n,r){var o=Wd(n);_l(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=pp(e);return t.forEach((function(t){var a=Jh(t.path);i.push(o.put(new hd(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))})),Sd.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=pp(e);return Sd.forEach(t,(function(t){var o=Jh(t.path);return Sd.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=pp(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=pp(e),i=sh();return r.qt({range:n,Bt:!0},(function(e,t,n){var r=td(e[1]),o=new Qc(r);i=i.add(o)})).next((function(){return i}))},e.prototype.containsKey=function(e,t){var n=Jh(t.path),r=IDBKeyRange.bound([n],[Lc(n)],!1,!0),i=0;return pp(e).qt({index:hd.documentTargetsIndex,Bt:!0,range:r},(function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.yt=function(e,t){return hp(e).get(t).next((function(e){return e?Wd(e):null}))},e}();function hp(e){return Rd(e,fd.store)}function dp(e){return Rd(e,dd.store)}function pp(e){return Rd(e,hd.store)}function vp(e){return gc(this,void 0,void 0,(function(){return bc(this,(function(t){if(e.code!==qc.FAILED_PRECONDITION||e.message!==bd)throw e;return _c("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function yp(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=Rc(n,i);return 0===a?Rc(r,o):a}var mp=function(){function e(e){this.ce=e,this.buffer=new Xf(yp),this.ae=0}return e.prototype.ue=function(){return++this.ae},e.prototype.he=function(e){var t=[e,this.ue()];if(this.buffer.size<this.ce)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();yp(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),gp=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.le=!1,this.fe=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.de(e)},e.prototype.stop=function(){this.fe&&(this.fe.cancel(),this.fe=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.fe},enumerable:!1,configurable:!0}),e.prototype.de=function(e){var t=this,n=this.le?3e5:6e4;_c("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.fe=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return gc(t,void 0,void 0,(function(){var t;return bc(this,(function(n){switch(n.label){case 0:this.fe=null,this.le=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Id(t=n.sent())?(_c("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,vp(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.de(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),bp=function(){function e(e,t){this.we=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.we._e(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return Sd.resolve(Ec.o);var r=new mp(t);return this.we.forEachTarget(e,(function(e){return r.he(e.sequenceNumber)})).next((function(){return n.we.me(e,(function(e){return r.he(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.we.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.we.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(_c("LruGarbageCollector","Garbage collection skipped; disabled"),Sd.resolve(tp)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(_c("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),tp):n.ye(e,t)}))},e.prototype.getCacheSize=function(e){return this.we.getCacheSize(e)},e.prototype.ye=function(e,t){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(_c("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),r=c.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),kc()<=zi.DEBUG&&_c("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+e+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),Sd.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},e}(),wp=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new bp(e,t)}(this,t)}return e.prototype._e=function(e){var t=this.ge(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.ge=function(e){var t=0;return this.me(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.me=function(e,t){return this.pe(e,(function(e,n){return t(n)}))},e.prototype.addReference=function(e,t,n){return Ep(e,n)},e.prototype.removeReference=function(e,t,n){return Ep(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return Ep(e,t)},e.prototype.Ee=function(e,t){return function(e,t){var n=!1;return cp(e).Ut((function(r){return ap(e,r,t).next((function(e){return e&&(n=!0),Sd.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.pe(e,(function(a,s){if(s<=t){var u=n.Ee(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),pp(e).delete([0,Jh(a.path)])}))}));i.push(u)}})).next((function(){return Sd.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return Ep(e,t)},e.prototype.pe=function(e,t){var n,r=pp(e),i=Ec.o;return r.qt({index:hd.documentTargetsIndex},(function(e,r){var o=e[0],a=(e[1],r.path),s=r.sequenceNumber;0===o?(i!==Ec.o&&t(new Qc(td(n)),i),i=s,n=a):i=Ec.o})).next((function(){i!==Ec.o&&t(new Qc(td(n)),i)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function Ep(e,t){return pp(e).put(function(e,t){return new hd(0,Jh(e.path),t)}(t,e.currentSequenceNumber))}var Sp=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){Fc(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];e(a,s)}}))},e.prototype.isEmpty=function(){return Uc(this.inner)},e}(),kp=function(){function e(){this.changes=new Sp((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:of.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{maybeDocument:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{maybeDocument:null,readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Sd.resolve(n.maybeDocument):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),_p=function(){function e(e,t){this.D=e,this.Gt=t}return e.prototype.addEntry=function(e,t,n){return Ip(e).put(Cp(t),n)},e.prototype.removeEntry=function(e,t){var n=Ip(e),r=Cp(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Te(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return Ip(e).get(Cp(t)).next((function(e){return n.Ie(e)}))},e.prototype.Ae=function(e,t){var n=this;return Ip(e).get(Cp(t)).next((function(e){var t=n.Ie(e);return t?{maybeDocument:t,size:ip(e)}:null}))},e.prototype.getEntries=function(e,t){var n=this,r=th();return this.Re(e,t,(function(e,t){var i=n.Ie(t);r=r.insert(e,i)})).next((function(){return r}))},e.prototype.be=function(e,t){var n=this,r=th(),i=new Qf(Qc.comparator);return this.Re(e,t,(function(e,t){var o=n.Ie(t);o?(r=r.insert(e,o),i=i.insert(e,ip(t))):(r=r.insert(e,null),i=i.insert(e,0))})).next((function(){return{ve:r,Pe:i}}))},e.prototype.Re=function(e,t,n){if(t.isEmpty())return Sd.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return Ip(e).qt({range:r},(function(e,t,r){for(var a=Qc.fromSegments(e);o&&Qc.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ot(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=rh(),o=t.path.length+1,a={};if(n.isEqual(of.min())){var s=t.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=Vd(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=cd.collectionReadTimeIndex}return Ip(e).qt(a,(function(e,n,a){if(e.length===o){var s=Ud(r.D,n);t.path.isPrefixOf(s.key.path)?s instanceof gl&&tf(t,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},e.prototype.newChangeBuffer=function(e){return new xp(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return Tp(e).get(ld.key).next((function(e){return Nc(!!e),e}))},e.prototype.Te=function(e,t){return Tp(e).put(ld.key,t)},e.prototype.Ie=function(e){if(e){var t=Ud(this.D,e);return t instanceof bl&&t.version.isEqual(of.min())?null:t}return null},e}(),xp=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ve=t,r.trackRemovals=n,r.Se=new Sp((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return mc(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new Xf((function(e,t){return Rc(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var s=t.Se.get(o);if(a.maybeDocument){var u=jd(t.Ve.D,a.maybeDocument,t.getReadTime(o));i=i.add(o.path.popLast());var c=ip(u);r+=c-s,n.push(t.Ve.addEntry(e,o,u))}else if(r-=s,t.trackRemovals){var l=jd(t.Ve.D,new bl(o,of.min()),t.getReadTime(o));n.push(t.Ve.addEntry(e,o,l))}else n.push(t.Ve.removeEntry(e,o))})),i.forEach((function(r){n.push(t.Ve.Gt.addToCollectionParentIndex(e,r))})),n.push(this.Ve.updateMetadata(e,r)),Sd.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ve.Ae(e,t).next((function(e){return null===e?(n.Se.set(t,0),null):(n.Se.set(t,e.size),e.maybeDocument)}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ve.be(e,t).next((function(e){var t=e.ve;return e.Pe.forEach((function(e,t){n.Se.set(e,t)})),t}))},t}(kp);function Tp(e){return Rd(e,ld.store)}function Ip(e){return Rd(e,cd.store)}function Cp(e){return e.path.toArray()}var Np=function(){function e(e){this.D=e}return e.prototype.St=function(e,t,n,r){var i=this;Nc(n<r&&n>=0&&r<=11);var o=new kd("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(rd.store)}(e),function(e){e.createObjectStore(id.store,{keyPath:id.keyPath}),e.createObjectStore(od.store,{keyPath:od.keyPath,autoIncrement:!0}).createIndex(od.userMutationsIndex,od.userMutationsKeyPath,{unique:!0}),e.createObjectStore(ad.store)}(e),Pp(e),function(e){e.createObjectStore(cd.store)}(e));var a=Sd.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(hd.store),e.deleteObjectStore(fd.store),e.deleteObjectStore(dd.store)}(e),Pp(e)),a=a.next((function(){return function(e){var t=e.store(dd.store),n=new dd(0,0,of.min().toTimestamp(),0);return t.put(dd.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(od.store).kt().next((function(n){e.deleteObjectStore(od.store),e.createObjectStore(od.store,{keyPath:od.keyPath,autoIncrement:!0}).createIndex(od.userMutationsIndex,od.userMutationsKeyPath,{unique:!0});var r=t.store(od.store),i=n.map((function(e){return r.put(e)}));return Sd.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(vd.store,{keyPath:vd.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.De(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(ld.store)}(e),i.Ce(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.xe(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Ne(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(cd.store);t.createIndex(cd.readTimeIndex,cd.readTimeIndexPath,{unique:!1}),t.createIndex(cd.collectionReadTimeIndex,cd.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return i.$e(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore(yd.store,{keyPath:yd.keyPath})}(e),function(e){e.createObjectStore(md.store,{keyPath:md.keyPath})}(e)}))),a},e.prototype.Ce=function(e){var t=0;return e.store(cd.store).qt((function(e,n){t+=ip(n)})).next((function(){var n=new ld(t);return e.store(ld.store).put(ld.key,n)}))},e.prototype.De=function(e){var t=this,n=e.store(id.store),r=e.store(od.store);return n.kt().next((function(n){return Sd.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.kt(od.userMutationsIndex,i).next((function(r){return Sd.forEach(r,(function(r){Nc(r.userId===n.userId);var i=Kd(t.D,r);return rp(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.xe=function(e){var t=e.store(hd.store),n=e.store(cd.store);return e.store(dd.store).get(dd.key).next((function(e){var r=[];return n.qt((function(n,i){var o=new Wc(n),a=function(e){return[0,Jh(e)]}(o);r.push(t.get(a).next((function(n){return n?Sd.resolve():function(n){return t.put(new hd(0,Jh(n),e.highestListenSequenceNumber))}(o)})))})).next((function(){return Sd.waitFor(r)}))}))},e.prototype.Ne=function(e,t){e.createObjectStore(pd.store,{keyPath:pd.keyPath});var n=t.store(pd.store),r=new Jd,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Jh(i)})}};return t.store(cd.store).qt({Bt:!0},(function(e,t){var n=new Wc(e);return i(n.popLast())})).next((function(){return t.store(ad.store).qt({Bt:!0},(function(e,t){e[0];var n=e[1],r=(e[2],td(n));return i(r.popLast())}))}))},e.prototype.$e=function(e){var t=this,n=e.store(fd.store);return n.qt((function(e,r){var i=Wd(r),o=Gd(t.D,i);return n.put(o)}))},e}();function Pp(e){e.createObjectStore(hd.store,{keyPath:hd.keyPath}).createIndex(hd.documentTargetsIndex,hd.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(fd.store,{keyPath:fd.keyPath}).createIndex(fd.queryTargetsIndexName,fd.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(dd.store)}var Ap="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Op=function(){function e(t,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Fe=o,this.window=a,this.document=s,this.Oe=c,this.ke=l,this.Me=null,this.Le=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Be=null,this.inForeground=!1,this.qe=null,this.Ue=null,this.Qe=Number.NEGATIVE_INFINITY,this.Ke=function(e){return Promise.resolve()},!e.At())throw new Bc(qc.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new wp(this,i),this.We=n+"main",this.D=new Fd(u),this.je=new _d(this.We,11,new Np(this.D)),this.Ge=new fp(this.referenceDelegate,this.D),this.Gt=new Zd,this.ze=function(e,t){return new _p(e,t)}(this.D,this.Gt),this.He=new Qd,this.window&&this.window.localStorage?this.Je=this.window.localStorage:(this.Je=null,!1===l&&xc("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.Ye().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Bc(qc.FAILED_PRECONDITION,Ap);return e.Xe(),e.Ze(),e.tn(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Ge.getHighestSequenceNumber(t)}))})).then((function(t){e.Me=new Ec(t,e.Oe)})).then((function(){e.Le=!0})).catch((function(t){return e.je&&e.je.close(),Promise.reject(t)}))},e.prototype.en=function(e){var t=this;return this.Ke=function(n){return gc(t,void 0,void 0,(function(){return bc(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.je.Ct((function(n){return gc(t,void 0,void 0,(function(){return bc(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Fe.enqueueAndForget((function(){return gc(t,void 0,void 0,(function(){return bc(this,(function(e){switch(e.label){case 0:return this.started?[4,this.Ye()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.Ye=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Dp(t).put(new vd(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.nn(t).next((function(t){t||(e.isPrimary=!1,e.Fe.enqueueRetryable((function(){return e.Ke(!1)})))}))})).next((function(){return e.sn(t)})).next((function(n){return e.isPrimary&&!n?e.rn(t).next((function(){return!1})):!!n&&e.on(t).next((function(){return!0}))}))})).catch((function(t){if(Id(t))return _c("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return _c("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Fe.enqueueRetryable((function(){return e.Ke(t)})),e.isPrimary=t}))},e.prototype.nn=function(e){var t=this;return Rp(e).get(rd.key).next((function(e){return Sd.resolve(t.cn(e))}))},e.prototype.an=function(e){return Dp(e).delete(this.clientId)},e.prototype.un=function(){return gc(this,void 0,void 0,(function(){var e,t,n,r,i=this;return bc(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.hn(this.Qe,18e5)?[3,2]:(this.Qe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Rd(e,vd.store);return t.kt().next((function(e){var n=i.ln(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Sd.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=o.sent(),this.Je)for(t=0,n=e;t<n.length;t++)r=n[t],this.Je.removeItem(this.fn(r.clientId));o.label=2;case 2:return[2]}}))}))},e.prototype.tn=function(){var e=this;this.Ue=this.Fe.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Ye().then((function(){return e.un()})).then((function(){return e.tn()}))}))},e.prototype.cn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.sn=function(e){var t=this;return this.ke?Sd.resolve(!0):Rp(e).get(rd.key).next((function(n){if(null!==n&&t.hn(n.leaseTimestampMs,5e3)&&!t.dn(n.ownerId)){if(t.cn(n)&&t.networkEnabled)return!0;if(!t.cn(n)){if(!n.allowTabSynchronization)throw new Bc(qc.FAILED_PRECONDITION,Ap);return!1}}return!(!t.networkEnabled||!t.inForeground)||Dp(e).kt().next((function(e){return void 0===t.ln(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&_c("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return gc(this,void 0,void 0,(function(){var e=this;return bc(this,(function(t){switch(t.label){case 0:return this.Le=!1,this.wn(),this.Ue&&(this.Ue.cancel(),this.Ue=null),this._n(),this.mn(),[4,this.je.runTransaction("shutdown","readwrite",[rd.store,vd.store],(function(t){var n=new Od(t,Ec.o);return e.rn(n).next((function(){return e.an(n)}))}))];case 1:return t.sent(),this.je.close(),this.yn(),[2]}}))}))},e.prototype.ln=function(e,t){var n=this;return e.filter((function(e){return n.hn(e.updateTimeMs,t)&&!n.dn(e.clientId)}))},e.prototype.gn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Dp(t).kt().next((function(t){return e.ln(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this.Le},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return op.Ht(e,this.D,this.Gt,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.Ge},e.prototype.getRemoteDocumentCache=function(){return this.ze},e.prototype.getIndexManager=function(){return this.Gt},e.prototype.getBundleCache=function(){return this.He},e.prototype.runTransaction=function(e,t,n){var r=this;_c("IndexedDbPersistence","Starting transaction:",e);var i,o="readonly"===t?"readonly":"readwrite";return this.je.runTransaction(e,o,gd,(function(o){return i=new Od(o,r.Me?r.Me.next():Ec.o),"readwrite-primary"===t?r.nn(i).next((function(e){return!!e||r.sn(i)})).next((function(t){if(!t)throw xc("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.Fe.enqueueRetryable((function(){return r.Ke(!1)})),new Bc(qc.FAILED_PRECONDITION,bd);return n(i)})).next((function(e){return r.on(i).next((function(){return e}))})):r.pn(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.pn=function(e){var t=this;return Rp(e).get(rd.key).next((function(e){if(null!==e&&t.hn(e.leaseTimestampMs,5e3)&&!t.dn(e.ownerId)&&!t.cn(e)&&!(t.ke||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Bc(qc.FAILED_PRECONDITION,Ap)}))},e.prototype.on=function(e){var t=new rd(this.clientId,this.allowTabSynchronization,Date.now());return Rp(e).put(rd.key,t)},e.At=function(){return _d.At()},e.prototype.rn=function(e){var t=this,n=Rp(e);return n.get(rd.key).next((function(e){return t.cn(e)?(_c("IndexedDbPersistence","Releasing primary lease."),n.delete(rd.key)):Sd.resolve()}))},e.prototype.hn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(xc("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.Xe=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=function(){e.Fe.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Ye()}))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)},e.prototype._n=function(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)},e.prototype.Ze=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Be=function(){t.wn(),t.Fe.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("unload",this.Be))},e.prototype.mn=function(){this.Be&&(this.window.removeEventListener("unload",this.Be),this.Be=null)},e.prototype.dn=function(e){var t;try{var n=null!==(null===(t=this.Je)||void 0===t?void 0:t.getItem(this.fn(e)));return _c("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return xc("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.wn=function(){if(this.Je)try{this.Je.setItem(this.fn(this.clientId),String(Date.now()))}catch(e){xc("Failed to set zombie client id.",e)}},e.prototype.yn=function(){if(this.Je)try{this.Je.removeItem(this.fn(this.clientId))}catch(e){}},e.prototype.fn=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function Rp(e){return Rd(e,rd.store)}function Dp(e){return Rd(e,vd.store)}function Lp(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Mp=function(e,t){this.progress=e,this.En=t},Fp=function(){function e(e,t,n){this.ze=e,this.Tn=t,this.Gt=n}return e.prototype.In=function(e,t){var n=this;return this.Tn.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.An(e,t,r)}))},e.prototype.An=function(e,t,n){return this.ze.getEntry(e,t).next((function(e){for(var r=0,i=n;r<i.length;r++)e=i[r].applyToLocalView(t,e);return e}))},e.prototype.Rn=function(e,t,n){var r=th();return t.forEach((function(e,t){for(var i=0,o=n;i<o.length;i++)t=o[i].applyToLocalView(e,t);r=r.insert(e,t)})),r},e.prototype.bn=function(e,t){var n=this;return this.ze.getEntries(e,t).next((function(t){return n.vn(e,t)}))},e.prototype.vn=function(e,t){var n=this;return this.Tn.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(r){var i=n.Rn(e,t,r),o=eh();return i.forEach((function(e,t){t||(t=new bl(e,of.min())),o=o.insert(e,t)})),o}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return function(e){return Qc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Pn(e,t.path):Ql(t)?this.Vn(e,t,n):this.Sn(e,t,n)},e.prototype.Pn=function(e,t){return this.In(e,new Qc(t)).next((function(e){var t=rh();return e instanceof gl&&(t=t.insert(e.key,e)),t}))},e.prototype.Vn=function(e,t,n){var r=this,i=t.collectionGroup,o=rh();return this.Gt.getCollectionParents(e,i).next((function(a){return Sd.forEach(a,(function(a){var s=function(e,t){return new zl(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.Sn(e,s,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},e.prototype.Sn=function(e,t,n){var r,i,o=this;return this.ze.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o.Tn.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,o.Dn(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=Af(u,r.get(c),o.localWriteTime);r=l instanceof gl?r.insert(c,l):r.remove(c)}}))})).next((function(){return r.forEach((function(e,n){tf(t,n)||(r=r.remove(e))})),r}))},e.prototype.Dn=function(e,t,n){for(var r=sh(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Mf&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.ze.getEntries(e,r).next((function(e){return e.forEach((function(e,t){null!==t&&t instanceof gl&&(c=c.insert(e,t))})),c}))},e}(),Up=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.Cn=n,this.xn=r}return e.Nn=function(t,n){for(var r=sh(),i=sh(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),jp=function(){function e(){}return e.prototype.$n=function(e){this.Fn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(of.min())?this.On(e,t):this.Fn.bn(e,r).next((function(o){var a=i.kn(t,o);return(Kl(t)||Wl(t))&&i.Mn(t.limitType,a,r,n)?i.On(e,t):(kc()<=zi.DEBUG&&_c("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),ef(t)),i.Fn.getDocumentsMatchingQuery(e,t,n).next((function(e){return a.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.kn=function(e,t){var n=new Xf(nf(e));return t.forEach((function(t,r){r instanceof gl&&tf(e,r)&&(n=n.add(r))})),n},e.prototype.Mn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.On=function(e,t){return kc()<=zi.DEBUG&&_c("QueryEngine","Using full collection scan to execute query:",ef(t)),this.Fn.getDocumentsMatchingQuery(e,t,of.min())},e}(),Vp=function(){function e(e,t,n,r){this.persistence=e,this.Ln=t,this.D=r,this.Bn=new Qf(Rc),this.qn=new Sp((function(e){return kl(e)}),_l),this.Un=of.min(),this.Tn=e.getMutationQueue(n),this.Qn=e.getRemoteDocumentCache(),this.Ge=e.getTargetCache(),this.Kn=new Fp(this.Qn,this.Tn,this.persistence.getIndexManager()),this.He=e.getBundleCache(),this.Ln.$n(this.Kn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Bn)}))},e}();function zp(e,t,n,r){return new Vp(e,t,n,r)}function qp(e,t){return gc(this,void 0,void 0,(function(){var n,r,i,o;return bc(this,(function(a){switch(a.label){case 0:return n=Pc(e),r=n.Tn,i=n.Kn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var o;return n.Tn.getAllMutationBatches(e).next((function(a){return o=a,r=n.persistence.getMutationQueue(t),i=new Fp(n.Qn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)})).next((function(t){for(var n=[],r=[],a=sh(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,f=c.mutations;l<f.length;l++){var h=f[l];a=a.add(h.key)}}for(var d=0,p=t;d<p.length;d++){var v=p[d];r.push(v.batchId);for(var y=0,m=v.mutations;y<m.length;y++){var g=m[y];a=a.add(g.key)}}return i.bn(e,a).next((function(e){return{Wn:e,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n.Tn=r,n.Kn=i,n.Ln.$n(n.Kn),o)]}}))}))}function Bp(e,t){var n=Pc(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=Sd.resolve();return o.forEach((function(e){a=a.next((function(){return r.getEntry(t,e)})).next((function(t){var o=t,a=n.docVersions.get(e);Nc(null!==a),(!o||o.version.compareTo(a)<0)&&(o=i.applyToRemoteDocument(e,o,n))&&r.addEntry(o,n.commitVersion)}))})),a.next((function(){return e.Tn.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.Tn.performConsistencyCheck(e)})).next((function(){return n.Kn.bn(e,r)}))}))}function Kp(e){var t=Pc(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Ge.getLastRemoteSnapshotVersion(e)}))}function Wp(e,t){var n=Pc(e),r=t.snapshotVersion,i=n.Bn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.Bn;var a=[];t.targetChanges.forEach((function(t,o){var s=i.get(o);if(s){a.push(n.Ge.removeMatchingKeys(e,t.removedDocuments,o).next((function(){return n.Ge.addMatchingKeys(e,t.addedDocuments,o)})));var u=t.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,c),function(e,t,n){return Nc(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,t)&&a.push(n.Ge.updateTargetData(e,c))}}}));var s=eh();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(Gp(e,o,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(of.min())){var u=n.Ge.getLastRemoteSnapshotVersion(e).next((function(t){return n.Ge.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(u)}return Sd.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.Kn.vn(e,s)}))})).then((function(e){return n.Bn=i,e}))}function Gp(e,t,n,r,i){var o=sh();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var o=eh();return n.forEach((function(n,a){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;a instanceof bl&&a.version.isEqual(of.min())?(t.removeEntry(n,u),o=o.insert(n,a)):null==s||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a,u),o=o.insert(n,a)):_c("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function Hp(e,t){var n=Pc(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.Tn.getNextMutationBatchAfterBatchId(e,t)}))}function Qp(e,t){var n=Pc(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Ge.getTargetData(e,t).next((function(i){return i?(r=i,Sd.resolve(r)):n.Ge.allocateTargetId(e).next((function(i){return r=new Md(t,i,0,e.currentSequenceNumber),n.Ge.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Bn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Bn=n.Bn.insert(e.targetId,e),n.qn.set(t,e.targetId)),e}))}function $p(e,t,n){return gc(this,void 0,void 0,(function(){var r,i,o,a;return bc(this,(function(s){switch(s.label){case 0:r=Pc(e),i=r.Bn.get(t),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(e){return r.persistence.referenceDelegate.removeTarget(e,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!Id(a=s.sent()))throw a;return _c("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.Bn=r.Bn.remove(t),r.qn.delete(i.target),[2]}}))}))}function Yp(e,t,n){var r=Pc(e),i=of.min(),o=sh();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Pc(e),i=r.qn.get(n);return void 0!==i?Sd.resolve(r.Bn.get(i)):r.Ge.getTargetData(t,n)}(r,e,Yl(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ge.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.Ln.getDocumentsMatchingQuery(e,t,n?i:of.min(),n?o:sh())})).next((function(e){return{documents:e,jn:o}}))}))}function Xp(e,t){var n=Pc(e),r=Pc(n.Ge),i=n.Bn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.yt(e,t).next((function(e){return e?e.target:null}))}))}function Jp(e){var t=Pc(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=Pc(e),i=eh(),o=Vd(n),a=Ip(t),s=IDBKeyRange.lowerBound(o,!0);return a.qt({index:cd.readTimeIndex,range:s},(function(e,t){var n=Ud(r.D,t);i=i.insert(n.key,n),o=t.readTime})).next((function(){return{En:i,readTime:zd(o)}}))}(t.Qn,e,t.Un)})).then((function(e){var n=e.En,r=e.readTime;return t.Un=r,n}))}function Zp(e){return gc(this,void 0,void 0,(function(){var t;return bc(this,(function(n){return[2,(t=Pc(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=Ip(e),n=of.min();return t.qt({index:cd.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=zd(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){t.Un=e}))]}))}))}function ev(e,t,n,r){return gc(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,f,h,d;return bc(this,(function(p){switch(p.label){case 0:for(i=Pc(e),o=sh(),a=eh(),s=oh(),u=0,c=n;u<c.length;u++)l=c[u],f=t.Gn(l.metadata.name),l.document&&(o=o.add(f)),a=a.insert(f,t.zn(l)),s=s.insert(f,t.Hn(l.metadata.readTime));return h=i.Qn.newChangeBuffer({trackRemovals:!0}),[4,Qp(i,function(e){return Yl(Bl(Wc.fromString("__bundle__/docs/"+e)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Gp(e,h,a,of.min(),s).next((function(t){return h.apply(e),t})).next((function(t){return i.Ge.removeMatchingKeysForTargetId(e,d.targetId).next((function(){return i.Ge.addMatchingKeys(e,o,d.targetId)})).next((function(){return i.Kn.vn(e,t)}))}))}))]}}))}))}function tv(e,t,n){return void 0===n&&(n=sh()),gc(this,void 0,void 0,(function(){var r,i;return bc(this,(function(o){switch(o.label){case 0:return[4,Qp(e,Yl(Hd(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Pc(e)).persistence.runTransaction("Save named query","readwrite",(function(e){var o=xh(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.He.saveNamedQuery(e,t);var a=r.withResumeToken($c.EMPTY_BYTE_STRING,o);return i.Bn=i.Bn.insert(a.targetId,a),i.Ge.updateTargetData(e,a).next((function(){return i.Ge.removeMatchingKeysForTargetId(e,r.targetId)})).next((function(){return i.Ge.addMatchingKeys(e,n,r.targetId)})).next((function(){return i.He.saveNamedQuery(e,t)}))}))]}}))}))}var nv=function(){function e(e){this.D=e,this.Jn=new Map,this.Yn=new Map}return e.prototype.getBundleMetadata=function(e,t){return Sd.resolve(this.Jn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Jn.set(t.id,{id:(n=t).id,version:n.version,createTime:xh(n.createTime)}),Sd.resolve()},e.prototype.getNamedQuery=function(e,t){return Sd.resolve(this.Yn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.Yn.set(t.name,function(e){return{name:e.name,query:Hd(e.bundledQuery),readTime:xh(e.readTime)}}(t)),Sd.resolve()},e}(),rv=function(){function e(){this.Xn=new Xf(iv.Zn),this.ts=new Xf(iv.es)}return e.prototype.isEmpty=function(){return this.Xn.isEmpty()},e.prototype.addReference=function(e,t){var n=new iv(e,t);this.Xn=this.Xn.add(n),this.ts=this.ts.add(n)},e.prototype.ns=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.ss(new iv(e,t))},e.prototype.rs=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.os=function(e){var t=this,n=new Qc(new Wc([])),r=new iv(n,e),i=new iv(n,e+1),o=[];return this.ts.forEachInRange([r,i],(function(e){t.ss(e),o.push(e.key)})),o},e.prototype.cs=function(){var e=this;this.Xn.forEach((function(t){return e.ss(t)}))},e.prototype.ss=function(e){this.Xn=this.Xn.delete(e),this.ts=this.ts.delete(e)},e.prototype.us=function(e){var t=new Qc(new Wc([])),n=new iv(t,e),r=new iv(t,e+1),i=sh();return this.ts.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.containsKey=function(e){var t=new iv(e,0),n=this.Xn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),iv=function(){function e(e,t){this.key=e,this.hs=t}return e.Zn=function(e,t){return Qc.comparator(e.key,t.key)||Rc(e.hs,t.hs)},e.es=function(e,t){return Rc(e.hs,t.hs)||Qc.comparator(e.key,t.key)},e}(),ov=function(){function e(e,t){this.Gt=e,this.referenceDelegate=t,this.Tn=[],this.ls=1,this.fs=new Xf(iv.Zn)}return e.prototype.checkEmpty=function(e){return Sd.resolve(0===this.Tn.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ls;this.ls++,this.Tn.length>0&&this.Tn[this.Tn.length-1];var o=new Dd(i,t,n,r);this.Tn.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.fs=this.fs.add(new iv(u.key,i)),this.Gt.addToCollectionParentIndex(e,u.key.path.popLast())}return Sd.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return Sd.resolve(this.ds(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.ws(n),i=r<0?0:r;return Sd.resolve(this.Tn.length>i?this.Tn[i]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return Sd.resolve(0===this.Tn.length?-1:this.ls-1)},e.prototype.getAllMutationBatches=function(e){return Sd.resolve(this.Tn.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new iv(t,0),i=new iv(t,Number.POSITIVE_INFINITY),o=[];return this.fs.forEachInRange([r,i],(function(e){var t=n.ds(e.hs);o.push(t)})),Sd.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Xf(Rc);return t.forEach((function(e){var t=new iv(e,0),i=new iv(e,Number.POSITIVE_INFINITY);n.fs.forEachInRange([t,i],(function(e){r=r.add(e.hs)}))})),Sd.resolve(this._s(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;Qc.isDocumentKey(i)||(i=i.child(""));var o=new iv(new Qc(i),0),a=new Xf(Rc);return this.fs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.hs)),!0)}),o),Sd.resolve(this._s(a))},e.prototype._s=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ds(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;Nc(0===this.ys(t.batchId,"removed")),this.Tn.shift();var r=this.fs;return Sd.forEach(t.mutations,(function(i){var o=new iv(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.fs=r}))},e.prototype.Xt=function(e){},e.prototype.containsKey=function(e,t){var n=new iv(t,0),r=this.fs.firstAfterOrEqual(n);return Sd.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return this.Tn.length,Sd.resolve()},e.prototype.ys=function(e,t){return this.ws(e)},e.prototype.ws=function(e){return 0===this.Tn.length?0:e-this.Tn[0].batchId},e.prototype.ds=function(e){var t=this.ws(e);return t<0||t>=this.Tn.length?null:this.Tn[t]},e}(),av=function(){function e(e,t){this.Gt=e,this.gs=t,this.docs=new Qf(Qc.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.gs(t);return this.docs=this.docs.insert(r,{maybeDocument:t,size:a,readTime:n}),this.size+=a-o,this.Gt.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return Sd.resolve(n?n.maybeDocument:null)},e.prototype.getEntries=function(e,t){var n=this,r=th();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.maybeDocument:null)})),Sd.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=rh(),i=new Qc(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.maybeDocument,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||c instanceof gl&&tf(t,c)&&(r=r.insert(c.key,c))}return Sd.resolve(r)},e.prototype.ps=function(e,t){return Sd.forEach(this.docs,(function(e){return t(e)}))},e.prototype.newChangeBuffer=function(e){return new sv(this)},e.prototype.getSize=function(e){return Sd.resolve(this.size)},e}(),sv=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ve=t,n}return mc(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i&&i.maybeDocument?n.push(t.Ve.addEntry(e,i.maybeDocument,t.getReadTime(r))):t.Ve.removeEntry(r)})),Sd.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ve.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ve.getEntries(e,t)},t}(kp),uv=function(){function e(e){this.persistence=e,this.Es=new Sp((function(e){return kl(e)}),_l),this.lastRemoteSnapshotVersion=of.min(),this.highestTargetId=0,this.Ts=0,this.Is=new rv,this.targetCount=0,this.As=lp.ee()}return e.prototype.forEachTarget=function(e,t){return this.Es.forEach((function(e,n){return t(n)})),Sd.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return Sd.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return Sd.resolve(this.Ts)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.As.next(),Sd.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ts&&(this.Ts=t),Sd.resolve()},e.prototype.re=function(e){this.Es.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.As=new lp(t),this.highestTargetId=t),e.sequenceNumber>this.Ts&&(this.Ts=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.re(t),this.targetCount+=1,Sd.resolve()},e.prototype.updateTargetData=function(e,t){return this.re(t),Sd.resolve()},e.prototype.removeTargetData=function(e,t){return this.Es.delete(t.target),this.Is.os(t.targetId),this.targetCount-=1,Sd.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.Es.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Es.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Sd.waitFor(o).next((function(){return i}))},e.prototype.getTargetCount=function(e){return Sd.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.Es.get(t)||null;return Sd.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this.Is.ns(t,n),Sd.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this.Is.rs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Sd.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this.Is.os(t),Sd.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this.Is.us(t);return Sd.resolve(n)},e.prototype.containsKey=function(e,t){return Sd.resolve(this.Is.containsKey(t))},e}(),cv=function(){function e(e,t){var n=this;this.Rs={},this.Me=new Ec(0),this.Le=!1,this.Le=!0,this.referenceDelegate=e(this),this.Ge=new uv(this),this.Gt=new Xd,this.ze=function(e,t){return new av(e,(function(e){return n.referenceDelegate.bs(e)}))}(this.Gt),this.D=new Fd(t),this.He=new nv(this.D)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.Le=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.Le},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Gt},e.prototype.getMutationQueue=function(e){var t=this.Rs[e.toKey()];return t||(t=new ov(this.Gt,this.referenceDelegate),this.Rs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.Ge},e.prototype.getRemoteDocumentCache=function(){return this.ze},e.prototype.getBundleCache=function(){return this.He},e.prototype.runTransaction=function(e,t,n){var r=this;_c("MemoryPersistence","Starting transaction:",e);var i=new lv(this.Me.next());return this.referenceDelegate.vs(),n(i).next((function(e){return r.referenceDelegate.Ps(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.Vs=function(e,t){return Sd.or(Object.values(this.Rs).map((function(n){return function(){return n.containsKey(e,t)}})))},e}(),lv=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return mc(t,e),t}(wd),fv=function(){function e(e){this.persistence=e,this.Ss=new rv,this.Ds=null}return e.Cs=function(t){return new e(t)},Object.defineProperty(e.prototype,"xs",{get:function(){if(this.Ds)return this.Ds;throw Cc()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.Ss.addReference(n,t),this.xs.delete(n.toString()),Sd.resolve()},e.prototype.removeReference=function(e,t,n){return this.Ss.removeReference(n,t),this.xs.add(n.toString()),Sd.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.xs.add(t.toString()),Sd.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.Ss.os(t.targetId).forEach((function(e){return n.xs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.xs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.vs=function(){this.Ds=new Set},e.prototype.Ps=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Sd.forEach(this.xs,(function(r){var i=Qc.fromPath(r);return t.Ns(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Ds=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ns(e,t).next((function(e){e?n.xs.delete(t.toString()):n.xs.add(t.toString())}))},e.prototype.bs=function(e){return 0},e.prototype.Ns=function(e,t){var n=this;return Sd.or([function(){return Sd.resolve(n.Ss.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Vs(e,t)}])},e}(),hv=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();function dv(e,t){return"firestore_clients_"+e+"_"+t}function pv(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function vv(e,t){return"firestore_targets_"+e+"_"+t}hv.UNAUTHENTICATED=new hv(null),hv.GOOGLE_CREDENTIALS=new hv("google-credentials-uid"),hv.FIRST_PARTY=new hv("first-party-uid");var yv=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.$s=function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Bc(o.error.code,o.error.message)),a?new e(t,n,o.state,i):(xc("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Fs=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),mv=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.$s=function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Bc(i.error.code,i.error.message)),o?new e(t,i.state,r):(xc("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Fs=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),gv=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.$s=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=ch(),a=0;i&&a<r.activeTargetIds.length;++a)i=zc(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(xc("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),bv=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.$s=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(xc("SharedClientState","Failed to parse online state: "+t),null)},e}(),wv=function(){function e(){this.activeTargetIds=ch()}return e.prototype.Os=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.ks=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Fs=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),Ev=function(){function e(e,t,n,r,i){this.window=e,this.Fe=t,this.persistenceKey=n,this.Ms=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ls=this.Bs.bind(this),this.qs=new Qf(Rc),this.started=!1,this.Us=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Qs=dv(this.persistenceKey,this.Ms),this.Ks=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.qs=this.qs.insert(this.Ms,new wv),this.Ws=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.js=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Gs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.zs=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Hs=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.Ls)}return e.At=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return gc(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,u,c,l,f=this;return bc(this,(function(h){switch(h.label){case 0:return[4,this.syncEngine.gn()];case 1:for(e=h.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Ms&&(i=this.getItem(dv(this.persistenceKey,r)))&&(o=gv.$s(r,i))&&(this.qs=this.qs.insert(o.clientId,o));for(this.Js(),(a=this.storage.getItem(this.zs))&&(s=this.Ys(a))&&this.Xs(s),u=0,c=this.Us;u<c.length;u++)l=c[u],this.Bs(l);return this.Us=[],this.window.addEventListener("unload",(function(){return f.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ks,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Zs(this.qs)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.qs.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.addPendingMutation=function(e){this.ti(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.ti(e,t,n),this.ei(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(vv(this.persistenceKey,e));if(n){var r=mv.$s(e,n);r&&(t=r.state)}}return this.ni.Os(e),this.Js(),t},e.prototype.removeLocalQueryTarget=function(e){this.ni.ks(e),this.Js()},e.prototype.isLocalQueryTarget=function(e){return this.ni.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(vv(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.si(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.ei(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.ii(e)},e.prototype.notifyBundleLoaded=function(){this.ri()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.Ls),this.removeItem(this.Qs),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return _c("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){_c("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){_c("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.Bs=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(_c("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Qs)return void xc("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Fe.enqueueRetryable((function(){return gc(t,void 0,void 0,(function(){var e,t,r,i,o,a;return bc(this,(function(s){if(this.started){if(null!==n.key)if(this.Ws.test(n.key)){if(null==n.newValue)return e=this.oi(n.key),[2,this.ci(e,null)];if(t=this.ai(n.key,n.newValue))return[2,this.ci(t.clientId,t)]}else if(this.js.test(n.key)){if(null!==n.newValue&&(r=this.ui(n.key,n.newValue)))return[2,this.hi(r)]}else if(this.Gs.test(n.key)){if(null!==n.newValue&&(i=this.li(n.key,n.newValue)))return[2,this.fi(i)]}else if(n.key===this.zs){if(null!==n.newValue&&(o=this.Ys(n.newValue)))return[2,this.Xs(o)]}else if(n.key===this.Ks)(a=function(e){var t=Ec.o;if(null!=e)try{var n=JSON.parse(e);Nc("number"==typeof n),t=n}catch(e){xc("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==Ec.o&&this.sequenceNumberHandler(a);else if(n.key===this.Hs)return[2,this.syncEngine.di()]}else this.Us.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"ni",{get:function(){return this.qs.get(this.Ms)},enumerable:!1,configurable:!0}),e.prototype.Js=function(){this.setItem(this.Qs,this.ni.Fs())},e.prototype.ti=function(e,t,n){var r=new yv(this.currentUser,e,t,n),i=pv(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Fs())},e.prototype.ei=function(e){var t=pv(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.ii=function(e){var t={clientId:this.Ms,onlineState:e};this.storage.setItem(this.zs,JSON.stringify(t))},e.prototype.si=function(e,t,n){var r=vv(this.persistenceKey,e),i=new mv(e,t,n);this.setItem(r,i.Fs())},e.prototype.ri=function(){this.setItem(this.Hs,"value-not-used")},e.prototype.oi=function(e){var t=this.Ws.exec(e);return t?t[1]:null},e.prototype.ai=function(e,t){var n=this.oi(e);return gv.$s(n,t)},e.prototype.ui=function(e,t){var n=this.js.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return yv.$s(new hv(i),r,t)},e.prototype.li=function(e,t){var n=this.Gs.exec(e),r=Number(n[1]);return mv.$s(r,t)},e.prototype.Ys=function(e){return bv.$s(e)},e.prototype.hi=function(e){return gc(this,void 0,void 0,(function(){return bc(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.wi(e.batchId,e.state,e.error)]:(_c("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.fi=function(e){return this.syncEngine._i(e.targetId,e.state,e.error)},e.prototype.ci=function(e,t){var n=this,r=t?this.qs.insert(e,t):this.qs.remove(e),i=this.Zs(this.qs),o=this.Zs(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this.syncEngine.mi(a,s).then((function(){n.qs=r}))},e.prototype.Xs=function(e){this.qs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Zs=function(e){var t=ch();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},e}(),Sv=function(){function e(){this.yi=new wv,this.gi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.yi.Os(e),this.gi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.gi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.yi.ks(e)},e.prototype.isLocalQueryTarget=function(e){return this.yi.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.gi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.yi.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.yi.activeTargetIds.has(e)},e.prototype.start=function(){return this.yi=new wv,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),kv=function(){function e(){}return e.prototype.pi=function(e){},e.prototype.shutdown=function(){},e}(),_v=function(){function e(){var e=this;this.Ei=function(){return e.Ti()},this.Ii=function(){return e.Ai()},this.Ri=[],this.bi()}return e.prototype.pi=function(e){this.Ri.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ii)},e.prototype.bi=function(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ii)},e.prototype.Ti=function(){_c("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.Ri;e<t.length;e++)(0,t[e])(0)},e.prototype.Ai=function(){_c("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.Ri;e<t.length;e++)(0,t[e])(1)},e.At=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),xv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Tv=function(){function e(e){this.vi=e.vi,this.Pi=e.Pi}return e.prototype.Vi=function(e){this.Si=e},e.prototype.Di=function(e){this.Ci=e},e.prototype.onMessage=function(e){this.xi=e},e.prototype.close=function(){this.Pi()},e.prototype.send=function(e){this.vi(e)},e.prototype.Ni=function(){this.Si()},e.prototype.$i=function(e){this.Ci(e)},e.prototype.Fi=function(e){this.xi(e)},e}(),Iv=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n}return mc(t,e),t.prototype.qi=function(e,t,n,r){return new Promise((function(i,o){var a=new vc;a.listenOnce(lc.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case cc.NO_ERROR:var t=a.getResponseJson();_c("Connection","XHR received:",JSON.stringify(t)),i(t);break;case cc.TIMEOUT:_c("Connection",'RPC "'+e+'" timed out'),o(new Bc(qc.DEADLINE_EXCEEDED,"Request time out"));break;case cc.HTTP_ERROR:var n=a.getStatus();if(_c("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(qc).indexOf(t)>=0?t:qc.UNKNOWN}(r.status);o(new Bc(s,r.message))}else o(new Bc(qc.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Bc(qc.UNAVAILABLE,"Connection failed."));break;default:Cc()}}finally{_c("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);a.send(t,"POST",s,n,15)}))},t.prototype.Qi=function(e,t){var n,r=[this.Oi,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=new ic,o=as(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Bi(a.initMessageHeaders,t),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Si())||"object"==typeof navigator&&"ReactNative"===navigator.product||Si().indexOf("Electron/")>=0||function(){var e=Si();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()||Si().indexOf("MSAppHost/")>=0||"object"==typeof(n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0)&&void 0!==n.id||(a.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");_c("Connection","Creating WebChannel: "+s,a);var u=i.createWebChannel(s,a),c=!1,l=!1,f=new Tv({vi:function(e){l?_c("Connection","Not sending because WebChannel is closed:",e):(c||(_c("Connection","Opening WebChannel transport."),u.open(),c=!0),_c("Connection","WebChannel sending:",e),u.send(e))},Pi:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,pc.EventType.OPEN,(function(){l||_c("Connection","WebChannel transport opened.")})),h(u,pc.EventType.CLOSE,(function(){l||(l=!0,_c("Connection","WebChannel transport closed"),f.$i())})),h(u,pc.EventType.ERROR,(function(e){l||(l=!0,Tc("Connection","WebChannel transport errored:",e),f.$i(new Bc(qc.UNAVAILABLE,"The operation could not be completed")))})),h(u,pc.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Nc(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){_c("Connection","WebChannel received error:",i);var o=i.status,a=function(e){var t=zf[e];if(void 0!==t)return Hf(t)}(o),s=i.message;void 0===a&&(a=qc.INTERNAL,s="Unknown error status: "+o+" with message "+i.message),l=!0,f.$i(new Bc(a,s)),u.close()}else _c("Connection","WebChannel received:",n),f.Fi(n)}})),h(o,fc.STAT_EVENT,(function(e){e.stat===hc?_c("Connection","Detected buffering proxy"):e.stat===dc&&_c("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Ni()}),0),f},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Oi=t+"://"+e.host,this.ki="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Mi=function(e,t,n,r){var i=this.Li(e,t);_c("RestConnection","Sending: ",i,n);var o={};return this.Bi(o,r),this.qi(e,i,o,n).then((function(e){return _c("RestConnection","Received: ",e),e}),(function(t){throw Tc("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.Ui=function(e,t,n,r){return this.Mi(e,t,n,r)},e.prototype.Bi=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.3.1",e["Content-Type"]="text/plain",t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.Li=function(e,t){var n=xv[e];return this.Oi+"/v1/"+t+":"+n},e}());function Cv(){return"undefined"!=typeof window?window:null}function Nv(){return"undefined"!=typeof document?document:null}function Pv(e){return new Eh(e,!0)}var Av=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Fe=e,this.timerId=t,this.Ki=n,this.Wi=r,this.ji=i,this.Gi=0,this.zi=null,this.Hi=Date.now(),this.reset()}return e.prototype.reset=function(){this.Gi=0},e.prototype.Ji=function(){this.Gi=this.ji},e.prototype.Yi=function(e){var t=this;this.cancel();var n=Math.floor(this.Gi+this.Xi()),r=Math.max(0,Date.now()-this.Hi),i=Math.max(0,n-r);i>0&&_c("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Gi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.zi=this.Fe.enqueueAfterDelay(this.timerId,i,(function(){return t.Hi=Date.now(),e()})),this.Gi*=this.Wi,this.Gi<this.Ki&&(this.Gi=this.Ki),this.Gi>this.ji&&(this.Gi=this.ji)},e.prototype.Zi=function(){null!==this.zi&&(this.zi.skipDelay(),this.zi=null)},e.prototype.cancel=function(){null!==this.zi&&(this.zi.cancel(),this.zi=null)},e.prototype.Xi=function(){return(Math.random()-.5)*this.Gi},e}(),Ov=function(){function e(e,t,n,r,i,o){this.Fe=e,this.tr=n,this.er=r,this.nr=i,this.listener=o,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new Av(e,t)}return e.prototype.cr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.ar=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.ur()},e.prototype.stop=function(){return gc(this,void 0,void 0,(function(){return bc(this,(function(e){switch(e.label){case 0:return this.cr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.hr=function(){this.state=0,this.rr.reset()},e.prototype.lr=function(){var e=this;this.ar()&&null===this.ir&&(this.ir=this.Fe.enqueueAfterDelay(this.tr,6e4,(function(){return e.dr()})))},e.prototype.wr=function(e){this._r(),this.stream.send(e)},e.prototype.dr=function(){return gc(this,void 0,void 0,(function(){return bc(this,(function(e){return this.ar()?[2,this.close(0)]:[2]}))}))},e.prototype._r=function(){this.ir&&(this.ir.cancel(),this.ir=null)},e.prototype.close=function(e,t){return gc(this,void 0,void 0,(function(){return bc(this,(function(n){switch(n.label){case 0:return this._r(),this.rr.cancel(),this.sr++,3!==e?this.rr.reset():t&&t.code===qc.RESOURCE_EXHAUSTED?(xc(t.toString()),xc("Using maximum backoff delay to prevent overloading the backend."),this.rr.Ji()):t&&t.code===qc.UNAUTHENTICATED&&this.nr.invalidateToken(),null!==this.stream&&(this.mr(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Di(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.mr=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.yr(this.sr),n=this.sr;this.nr.getToken().then((function(t){e.sr===n&&e.gr(t)}),(function(n){t((function(){var t=new Bc(qc.UNKNOWN,"Fetching auth token failed: "+n.message);return e.pr(t)}))}))},e.prototype.gr=function(e){var t=this,n=this.yr(this.sr);this.stream=this.Er(e),this.stream.Vi((function(){n((function(){return t.state=2,t.listener.Vi()}))})),this.stream.Di((function(e){n((function(){return t.pr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.ur=function(){var e=this;this.state=4,this.rr.Yi((function(){return gc(e,void 0,void 0,(function(){return bc(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.pr=function(e){return _c("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.yr=function(e){var t=this;return function(n){t.Fe.enqueueAndForget((function(){return t.sr===e?n():(_c("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),Rv=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).D=i,a}return mc(t,e),t.prototype.Er=function(e){return this.er.Qi("Listen",e)},t.prototype.onMessage=function(e){this.rr.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Cc()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.V?(Nc(void 0===t||"string"==typeof t),$c.fromBase64String(t||"")):(Nc(void 0===t||t instanceof Uint8Array),$c.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=(s=t.targetChange.cause)&&function(e){var t=void 0===e.code?qc.UNKNOWN:Hf(e.code);return new Bc(t,e.message||"")}(s);n=new ph(r,i,o,a||null)}else if("documentChange"in t){t.documentChange,(r=t.documentChange).document,r.document.name,r.document.updateTime,i=Nh(e,r.document.name),o=xh(r.document.updateTime);var s=new sf({mapValue:{fields:r.document.fields}}),u=(a=new gl(i,o,s,{}),r.targetIds||[]),c=r.removedTargetIds||[];n=new hh(u,c,a.key,a)}else if("documentDelete"in t)t.documentDelete,(r=t.documentDelete).document,i=Nh(e,r.document),o=r.readTime?xh(r.readTime):of.min(),s=new bl(i,o),a=r.removedTargetIds||[],n=new hh([],a,s.key,s);else if("documentRemove"in t)t.documentRemove,(r=t.documentRemove).document,i=Nh(e,r.document),o=r.removedTargetIds||[],n=new hh([],o,i,null);else{if(!("filter"in t))return Cc();t.filter;var l=t.filter;l.targetId,r=l.count||0,i=new Wf(r),o=l.targetId,n=new dh(o,i)}return n}(this.D,e),n=function(e){if(!("targetChange"in e))return of.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?of.min():t.readTime?xh(t.readTime):of.min()}(e);return this.listener.Tr(t,n)},t.prototype.Ir=function(e){var t={};t.database=Oh(this.D),t.addTarget=function(e,t){var n,r=t.target;return(n=xl(r)?{documents:Uh(e,r)}:{query:jh(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=kh(e,t.resumeToken):t.snapshotVersion.compareTo(of.min())>0&&(n.readTime=Sh(e,t.snapshotVersion.toTimestamp())),n}(this.D,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Cc()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.D,e);n&&(t.labels=n),this.wr(t)},t.prototype.Ar=function(e){var t={};t.database=Oh(this.D),t.removeTarget=e,this.wr(t)},t}(Ov),Dv=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).D=i,a.Rr=!1,a}return mc(t,e),Object.defineProperty(t.prototype,"br",{get:function(){return this.Rr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.Rr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.mr=function(){this.Rr&&this.vr([])},t.prototype.Er=function(e){return this.er.Qi("Write",e)},t.prototype.onMessage=function(e){if(Nc(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Rr){this.rr.reset();var t=function(e,t){return e&&e.length>0?(Nc(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?xh(e.updateTime):xh(t);return n.isEqual(of.min())&&(n=xh(t)),new Tf(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=xh(e.commitTime);return this.listener.Pr(n,t)}return Nc(!e.writeResults||0===e.writeResults.length),this.Rr=!0,this.listener.Vr()},t.prototype.Sr=function(){var e={};e.database=Oh(this.D),this.wr(e)},t.prototype.vr=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Mh(t.D,e)}))};this.wr(n)},t}(Ov),Lv=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.er=n,i.D=r,i.Dr=!1,i}return mc(t,e),t.prototype.Cr=function(){if(this.Dr)throw new Bc(qc.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Mi=function(e,t,n){var r=this;return this.Cr(),this.credentials.getToken().then((function(i){return r.er.Mi(e,t,n,i)})).catch((function(e){throw e.code===qc.UNAUTHENTICATED&&r.credentials.invalidateToken(),e}))},t.prototype.Ui=function(e,t,n){var r=this;return this.Cr(),this.credentials.getToken().then((function(i){return r.er.Ui(e,t,n,i)})).catch((function(e){throw e.code===qc.UNAUTHENTICATED&&r.credentials.invalidateToken(),e}))},t.prototype.terminate=function(){this.Dr=!1},t}((function(){})),Mv=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Nr=0,this.$r=null,this.Fr=!0}return e.prototype.Or=function(){var e=this;0===this.Nr&&(this.kr("Unknown"),this.$r=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.$r=null,e.Mr("Backend didn't respond within 10 seconds."),e.kr("Offline"),Promise.resolve()})))},e.prototype.Lr=function(e){"Online"===this.state?this.kr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr("Connection failed 1 times. Most recent error: "+e.toString()),this.kr("Offline")))},e.prototype.set=function(e){this.Br(),this.Nr=0,"Online"===e&&(this.Fr=!1),this.kr(e)},e.prototype.kr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Mr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Fr?(xc(t),this.Fr=!1):_c("OnlineStateTracker",t)},e.prototype.Br=function(){null!==this.$r&&(this.$r.cancel(),this.$r=null)},e}(),Fv=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.qr=[],this.Ur=new Map,this.Qr=new Set,this.Kr=[],this.Wr=i,this.Wr.pi((function(e){n.enqueueAndForget((function(){return gc(o,void 0,void 0,(function(){return bc(this,(function(e){switch(e.label){case 0:return Gv(this)?(_c("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return gc(this,void 0,void 0,(function(){var t;return bc(this,(function(n){switch(n.label){case 0:return(t=Pc(e)).Qr.add(4),[4,jv(t)];case 1:return n.sent(),t.jr.set("Unknown"),t.Qr.delete(4),[4,Uv(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.jr=new Mv(n,r)};function Uv(e){return gc(this,void 0,void 0,(function(){var t,n;return bc(this,(function(r){switch(r.label){case 0:if(!Gv(e))return[3,4];t=0,n=e.Kr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function jv(e){return gc(this,void 0,void 0,(function(){var t,n;return bc(this,(function(r){switch(r.label){case 0:t=0,n=e.Kr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function Vv(e,t){var n=Pc(e);n.Ur.has(t.targetId)||(n.Ur.set(t.targetId,t),Wv(n)?Kv(n):sy(n).ar()&&qv(n,t))}function zv(e,t){var n=Pc(e),r=sy(n);n.Ur.delete(t),r.ar()&&Bv(n,t),0===n.Ur.size&&(r.ar()?r.lr():Gv(n)&&n.jr.set("Unknown"))}function qv(e,t){e.Gr.H(t.targetId),sy(e).Ir(t)}function Bv(e,t){e.Gr.H(t),sy(e).Ar(t)}function Kv(e){e.Gr=new yh({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},yt:function(t){return e.Ur.get(t)||null}}),sy(e).start(),e.jr.Or()}function Wv(e){return Gv(e)&&!sy(e).cr()&&e.Ur.size>0}function Gv(e){return 0===Pc(e).Qr.size}function Hv(e){e.Gr=void 0}function Qv(e){return gc(this,void 0,void 0,(function(){return bc(this,(function(t){return e.Ur.forEach((function(t,n){qv(e,t)})),[2]}))}))}function $v(e,t){return gc(this,void 0,void 0,(function(){return bc(this,(function(n){return Hv(e),Wv(e)?(e.jr.Lr(t),Kv(e)):e.jr.set("Unknown"),[2]}))}))}function Yv(e,t,n){return gc(this,void 0,void 0,(function(){var r,i,o;return bc(this,(function(a){switch(a.label){case 0:if(e.jr.set("Online"),!(t instanceof ph&&2===t.state&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(e,t){return gc(this,void 0,void 0,(function(){var n,r,i,o;return bc(this,(function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],e.Ur.has(o)?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),e.Ur.delete(o),e.Gr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),_c("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,Xv(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof hh?e.Gr.st(t):t instanceof dh?e.Gr.ht(t):e.Gr.ot(t),n.isEqual(of.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,Kp(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(e,t){var n=e.Gr.dt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Ur.get(r);i&&e.Ur.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.Ur.get(t);if(n){e.Ur.set(t,n.withResumeToken($c.EMPTY_BYTE_STRING,n.snapshotVersion)),Bv(e,t);var r=new Md(n.target,t,1,n.sequenceNumber);qv(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return _c("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,Xv(e,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function Xv(e,t,n){return gc(this,void 0,void 0,(function(){var r=this;return bc(this,(function(i){switch(i.label){case 0:if(!Id(t))throw t;return e.Qr.add(1),[4,jv(e)];case 1:return i.sent(),e.jr.set("Offline"),n||(n=function(){return Kp(e.localStore)}),e.asyncQueue.enqueueRetryable((function(){return gc(r,void 0,void 0,(function(){return bc(this,(function(t){switch(t.label){case 0:return _c("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Qr.delete(1),[4,Uv(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function Jv(e,t){return t().catch((function(n){return Xv(e,n,t)}))}function Zv(e){return gc(this,void 0,void 0,(function(){var t,n,r,i,o;return bc(this,(function(a){switch(a.label){case 0:t=Pc(e),n=uy(t),r=t.qr.length>0?t.qr[t.qr.length-1].batchId:-1,a.label=1;case 1:if(!function(e){return Gv(e)&&e.qr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,Hp(t.localStore,r)];case 3:return null===(i=a.sent())?(0===t.qr.length&&n.lr(),[3,7]):(r=i.batchId,function(e,t){e.qr.push(t);var n=uy(e);n.ar()&&n.br&&n.vr(t.mutations)}(t,i),[3,6]);case 4:return o=a.sent(),[4,Xv(t,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return ey(t)&&ty(t),[2]}}))}))}function ey(e){return Gv(e)&&!uy(e).cr()&&e.qr.length>0}function ty(e){uy(e).start()}function ny(e){return gc(this,void 0,void 0,(function(){return bc(this,(function(t){return uy(e).Sr(),[2]}))}))}function ry(e){return gc(this,void 0,void 0,(function(){var t,n,r,i;return bc(this,(function(o){for(t=uy(e),n=0,r=e.qr;n<r.length;n++)i=r[n],t.vr(i.mutations);return[2]}))}))}function iy(e,t,n){return gc(this,void 0,void 0,(function(){var r,i;return bc(this,(function(o){switch(o.label){case 0:return r=e.qr.shift(),i=Ld.from(r,t,n),[4,Jv(e,(function(){return e.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,Zv(e)];case 2:return o.sent(),[2]}}))}))}function oy(e,t){return gc(this,void 0,void 0,(function(){return bc(this,(function(n){switch(n.label){case 0:return t&&uy(e).br?[4,function(e,t){return gc(this,void 0,void 0,(function(){var n,r;return bc(this,(function(i){switch(i.label){case 0:return Gf(r=t.code)&&r!==qc.ABORTED?(n=e.qr.shift(),uy(e).hr(),[4,Jv(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,Zv(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return ey(e)&&ty(e),[2]}}))}))}function ay(e,t){return gc(this,void 0,void 0,(function(){var n;return bc(this,(function(r){switch(r.label){case 0:return n=Pc(e),t?(n.Qr.delete(2),[4,Uv(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Qr.add(2),[4,jv(n)]);case 3:r.sent(),n.jr.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function sy(e){var t=this;return e.zr||(e.zr=function(e,t,n){var r=Pc(e);return r.Cr(),new Rv(t,r.er,r.credentials,r.D,n)}(e.datastore,e.asyncQueue,{Vi:Qv.bind(null,e),Di:$v.bind(null,e),Tr:Yv.bind(null,e)}),e.Kr.push((function(n){return gc(t,void 0,void 0,(function(){return bc(this,(function(t){switch(t.label){case 0:return n?(e.zr.hr(),Wv(e)?Kv(e):e.jr.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.zr.stop()];case 2:t.sent(),Hv(e),t.label=3;case 3:return[2]}}))}))}))),e.zr}function uy(e){var t=this;return e.Hr||(e.Hr=function(e,t,n){var r=Pc(e);return r.Cr(),new Dv(t,r.er,r.credentials,r.D,n)}(e.datastore,e.asyncQueue,{Vi:ny.bind(null,e),Di:oy.bind(null,e),Vr:ry.bind(null,e),Pr:iy.bind(null,e)}),e.Kr.push((function(n){return gc(t,void 0,void 0,(function(){return bc(this,(function(t){switch(t.label){case 0:return n?(e.Hr.hr(),[4,Zv(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Hr.stop()];case 3:t.sent(),e.qr.length>0&&(_c("RemoteStore","Stopping write stream with "+e.qr.length+" pending writes"),e.qr=[]),t.label=4;case 4:return[2]}}))}))}))),e.Hr}var cy=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Ed,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Bc(qc.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function ly(e,t){if(xc("AsyncQueue",t+": "+e),Id(e))return new Bc(qc.UNAVAILABLE,t+": "+e);throw e}var fy=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||Qc.comparator(t.key,n.key)}:function(e,t){return Qc.comparator(e.key,t.key)},this.keyedMap=rh(),this.sortedSet=new Qf(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),hy=function(){function e(){this.Jr=new Qf(Qc.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Jr.get(t);n?0!==e.type&&3===n.type?this.Jr=this.Jr.insert(t,e):3===e.type&&1!==n.type?this.Jr=this.Jr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Jr=this.Jr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Jr=this.Jr.remove(t):1===e.type&&2===n.type?this.Jr=this.Jr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):Cc():this.Jr=this.Jr.insert(t,e)},e.prototype.Yr=function(){var e=[];return this.Jr.inorderTraversal((function(t,n){e.push(n)})),e},e}(),dy=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,fy.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),py=function(){this.Xr=void 0,this.listeners=[]},vy=function(){this.queries=new Sp((function(e){return Zl(e)}),Jl),this.onlineState="Unknown",this.Zr=new Set};function yy(e,t){return gc(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return bc(this,(function(c){switch(c.label){case 0:if(n=Pc(e),r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new py),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Xr=c.sent(),[3,4];case 3:return s=c.sent(),u=ly(s,"Initialization of query '"+ef(t.query)+"' failed"),[2,void t.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.eo(n.onlineState),o.Xr&&t.no(o.Xr)&&wy(n),[2]}}))}))}function my(e,t){return gc(this,void 0,void 0,(function(){var n,r,i,o,a;return bc(this,(function(s){return n=Pc(e),r=t.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(t))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function gy(e,t){for(var n=Pc(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].no(a)&&(r=!0);u.Xr=a}}r&&wy(n)}function by(e,t,n){var r=Pc(e),i=r.queries.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(t)}function wy(e){e.Zr.forEach((function(e){e.next()}))}var Ey=function(){function e(e,t,n){this.query=e,this.so=t,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.no=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new dy(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.io?this.oo(e)&&(this.so.next(e),o=!0):this.co(e,this.onlineState)&&(this.ao(e),o=!0),this.ro=e,o},e.prototype.onError=function(e){this.so.error(e)},e.prototype.eo=function(e){this.onlineState=e;var t=!1;return this.ro&&!this.io&&this.co(this.ro,e)&&(this.ao(this.ro),t=!0),t},e.prototype.co=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.uo&&n||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.oo=function(e){if(e.docChanges.length>0)return!0;var t=this.ro&&this.ro.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.ao=function(e){e=dy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.io=!0,this.so.next(e)},e}(),Sy=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.ho=function(){return"metadata"in this.payload},e}(),ky=function(){function e(e){this.D=e}return e.prototype.Gn=function(e){return Nh(this.D,e)},e.prototype.zn=function(e){return e.metadata.exists?Lh(this.D,e.document,!1):new bl(this.Gn(e.metadata.name),this.Hn(e.metadata.readTime))},e.prototype.Hn=function(e){return xh(e)},e}();!function(){function e(e,t,n){this.lo=e,this.localStore=t,this.D=n,this.queries=[],this.documents=[],this.progress=function(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(e)}e.prototype.fo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.wo=function(e){for(var t=new Map,n=new ky(this.D),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.Gn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(t.get(c)||sh()).add(a);t.set(c,l)}}return t},e.prototype.complete=function(){return gc(this,void 0,void 0,(function(){var e,t,n,r,i;return bc(this,(function(o){switch(o.label){case 0:return[4,ev(this.localStore,new ky(this.D),this.documents,this.lo.id)];case 1:e=o.sent(),t=this.wo(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,tv(this.localStore,i,t.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Mp(Object.assign({},this.progress),e))]}}))}))}}();var _y=function(e){this.key=e},xy=function(e){this.key=e},Ty=function(){function e(e,t){this.query=e,this._o=t,this.mo=null,this.current=!1,this.yo=sh(),this.mutatedKeys=sh(),this.po=nf(e),this.Eo=new fy(this.po)}return Object.defineProperty(e.prototype,"To",{get:function(){return this._o},enumerable:!1,configurable:!0}),e.prototype.Io=function(e,t){var n=this,r=t?t.Ao:new hy,i=t?t.Eo:this.Eo,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=Kl(this.query)&&i.size===this.query.limit?i.last():null,c=Wl(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=t instanceof gl?t:null;f&&(f=tf(n.query,f)?f:null);var h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data().isEqual(f.data())?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Ro(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.po(f,u)>0||c&&n.po(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(a=a.add(f),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),Kl(this.query)||Wl(this.query))for(;a.size>this.query.limit;){var l=Kl(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{Eo:a,Ao:r,Mn:s,mutatedKeys:o}},e.prototype.Ro=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.Eo;this.Eo=e.Eo,this.mutatedKeys=e.mutatedKeys;var o=e.Ao.Yr();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Cc()}};return n(e)-n(t)}(e.type,t.type)||r.po(e.doc,t.doc)})),this.bo(n);var a=t?this.vo():[],s=0===this.yo.size&&this.current?1:0,u=s!==this.mo;return this.mo=s,0!==o.length||u?{snapshot:new dy(this.query,e.Eo,i,o,e.mutatedKeys,0===s,u,!1),Po:a}:{Po:a}},e.prototype.eo=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new hy,mutatedKeys:this.mutatedKeys,Mn:!1},!1)):{Po:[]}},e.prototype.Vo=function(e){return!this._o.has(e)&&!!this.Eo.has(e)&&!this.Eo.get(e).hasLocalMutations},e.prototype.bo=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t._o=t._o.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t._o=t._o.delete(e)})),this.current=e.current)},e.prototype.vo=function(){var e=this;if(!this.current)return[];var t=this.yo;this.yo=sh(),this.Eo.forEach((function(t){e.Vo(t.key)&&(e.yo=e.yo.add(t.key))}));var n=[];return t.forEach((function(t){e.yo.has(t)||n.push(new xy(t))})),this.yo.forEach((function(e){t.has(e)||n.push(new _y(e))})),n},e.prototype.So=function(e){this._o=e.jn,this.yo=sh();var t=this.Io(e.documents);return this.applyChanges(t,!0)},e.prototype.Do=function(){return dy.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)},e}(),Iy=function(e,t,n){this.query=e,this.targetId=t,this.view=n},Cy=function(e){this.key=e,this.Co=!1},Ny=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.xo={},this.No=new Sp((function(e){return Zl(e)}),Jl),this.$o=new Map,this.Fo=new Set,this.Oo=new Qf(Qc.comparator),this.ko=new Map,this.Mo=new rv,this.Lo={},this.Bo=new Map,this.qo=lp.ne(),this.onlineState="Unknown",this.Uo=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.Uo},enumerable:!1,configurable:!0}),e}();function Py(e,t){return gc(this,void 0,void 0,(function(){var n,r,i,o,a,s;return bc(this,(function(u){switch(u.label){case 0:return n=om(e),(o=n.No.get(t))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Do(),[3,4]):[3,1];case 1:return[4,Qp(n.localStore,Yl(t))];case 2:return a=u.sent(),s=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,Ay(n,t,r,"current"===s)];case 3:i=u.sent(),n.isPrimaryClient&&Vv(n.remoteStore,a),u.label=4;case 4:return[2,i]}}))}))}function Ay(e,t,n,r){return gc(this,void 0,void 0,(function(){var i,o,a,s,u,c;return bc(this,(function(l){switch(l.label){case 0:return e.Qo=function(t,n,r){return function(e,t,n,r){return gc(this,void 0,void 0,(function(){var i,o,a;return bc(this,(function(s){switch(s.label){case 0:return(i=t.view.Io(n)).Mn?[4,Yp(e.localStore,t.query,!1).then((function(e){var n=e.documents;return t.view.Io(n,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(Ky(e,t.targetId,a.Po),a.snapshot)]}}))}))}(e,t,n,r)},[4,Yp(e.localStore,t,!0)];case 1:return i=l.sent(),o=new Ty(t,i.jn),a=o.Io(i.documents),s=fh.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),u=o.applyChanges(a,e.isPrimaryClient,s),Ky(e,n,u.Po),c=new Iy(t,n,o),[2,(e.No.set(t,c),e.$o.has(n)?e.$o.get(n).push(t):e.$o.set(n,[t]),u.snapshot)]}}))}))}function Oy(e,t){return gc(this,void 0,void 0,(function(){var n,r,i;return bc(this,(function(o){switch(o.label){case 0:return n=Pc(e),r=n.No.get(t),(i=n.$o.get(r.targetId)).length>1?[2,(n.$o.set(r.targetId,i.filter((function(e){return!Jl(e,t)}))),void n.No.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,$p(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),zv(n.remoteStore,r.targetId),qy(n,r.targetId)})).catch(vp)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return qy(n,r.targetId),[4,$p(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Ry(e,t,n){return gc(this,void 0,void 0,(function(){var r,i,o,a;return bc(this,(function(s){switch(s.label){case 0:r=am(e),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(e,t){var n,r=Pc(e),i=el.now(),o=t.reduce((function(e,t){return e.add(t.key)}),sh());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Kn.bn(e,o).next((function(o){n=o;for(var a=[],s=0,u=t;s<u.length;s++){var c=u[s],l=Of(c,n.get(c.key));null!=l&&a.push(new Mf(c.key,l,cf(l.proto.mapValue),If.exists(!0)))}return r.Tn.addMutationBatch(e,i,a,t)}))})).then((function(e){var t=e.applyToLocalDocumentSet(n);return{batchId:e.batchId,changes:t}}))}(r.localStore,t)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.Lo[e.currentUser.toKey()];r||(r=new Qf(Rc)),r=r.insert(t,n),e.Lo[e.currentUser.toKey()]=r}(r,i.batchId,n),[4,Hy(r,i.changes)];case 3:return s.sent(),[4,Zv(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=ly(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function Dy(e,t){return gc(this,void 0,void 0,(function(){var n,r;return bc(this,(function(i){switch(i.label){case 0:n=Pc(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Wp(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach((function(e,t){var r=n.ko.get(t);r&&(Nc(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Co=!0:e.modifiedDocuments.size>0?Nc(r.Co):e.removedDocuments.size>0&&(Nc(r.Co),r.Co=!1))})),[4,Hy(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,vp(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Ly(e,t,n){var r=Pc(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.No.forEach((function(e,n){var r=n.view.eo(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Pc(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].eo(t)&&(r=!0)})),r&&wy(n)}(r.eventManager,t),i.length&&r.xo.Tr(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function My(e,t,n){return gc(this,void 0,void 0,(function(){var r,i,o,a,s,u;return bc(this,(function(c){switch(c.label){case 0:return(r=Pc(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.ko.get(t),(o=i&&i.key)?(a=(a=new Qf(Qc.comparator)).insert(o,new bl(o,of.min())),s=sh().add(o),u=new lh(of.min(),new Map,new Xf(Rc),a,s),[4,Dy(r,u)]):[3,2];case 1:return c.sent(),r.Oo=r.Oo.remove(o),r.ko.delete(t),Gy(r),[3,4];case 2:return[4,$p(r.localStore,t,!1).then((function(){return qy(r,t,n)})).catch(vp)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function Fy(e,t){return gc(this,void 0,void 0,(function(){var n,r,i;return bc(this,(function(o){switch(o.label){case 0:n=Pc(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Bp(n.localStore,t)];case 2:return i=o.sent(),zy(n,r,null),Vy(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Hy(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,vp(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Uy(e,t,n){return gc(this,void 0,void 0,(function(){var r,i;return bc(this,(function(o){switch(o.label){case 0:r=Pc(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(e,t){var n=Pc(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.Tn.lookupMutationBatch(e,t).next((function(t){return Nc(null!==t),r=t.keys(),n.Tn.removeMutationBatch(e,t)})).next((function(){return n.Tn.performConsistencyCheck(e)})).next((function(){return n.Kn.bn(e,r)}))}))}(r.localStore,t)];case 2:return i=o.sent(),zy(r,t,n),Vy(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,Hy(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,vp(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function jy(e,t){return gc(this,void 0,void 0,(function(){var n,r,i,o,a;return bc(this,(function(s){switch(s.label){case 0:Gv((n=Pc(e)).remoteStore)||_c("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(e){var t=Pc(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.Tn.getHighestUnacknowledgedBatchId(e)}))}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void t.resolve()]:((i=n.Bo.get(r)||[]).push(t),n.Bo.set(r,i),[3,4]);case 3:return o=s.sent(),a=ly(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}}))}))}function Vy(e,t){(e.Bo.get(t)||[]).forEach((function(e){e.resolve()})),e.Bo.delete(t)}function zy(e,t,n){var r=Pc(e),i=r.Lo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.Lo[r.currentUser.toKey()]=i}}function qy(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.$o.get(t);r<i.length;r++){var o=i[r];e.No.delete(o),n&&e.xo.Ko(o,n)}e.$o.delete(t),e.isPrimaryClient&&e.Mo.os(t).forEach((function(t){e.Mo.containsKey(t)||By(e,t)}))}function By(e,t){e.Fo.delete(t.path.canonicalString());var n=e.Oo.get(t);null!==n&&(zv(e.remoteStore,n),e.Oo=e.Oo.remove(t),e.ko.delete(n),Gy(e))}function Ky(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof _y?(e.Mo.addReference(o.key,t),Wy(e,o)):o instanceof xy?(_c("SyncEngine","Document no longer in limbo: "+o.key),e.Mo.removeReference(o.key,t),e.Mo.containsKey(o.key)||By(e,o.key)):Cc()}}function Wy(e,t){var n=t.key,r=n.path.canonicalString();e.Oo.get(n)||e.Fo.has(r)||(_c("SyncEngine","New document in limbo: "+n),e.Fo.add(r),Gy(e))}function Gy(e){for(;e.Fo.size>0&&e.Oo.size<e.maxConcurrentLimboResolutions;){var t=e.Fo.values().next().value;e.Fo.delete(t);var n=new Qc(Wc.fromString(t)),r=e.qo.next();e.ko.set(r,new Cy(n)),e.Oo=e.Oo.insert(n,r),Vv(e.remoteStore,new Md(Yl(Bl(n.path)),r,2,Ec.o))}}function Hy(e,t,n){return gc(this,void 0,void 0,(function(){var r,i,o,a;return bc(this,(function(s){switch(s.label){case 0:return r=Pc(e),i=[],o=[],a=[],r.No.isEmpty()?[3,3]:(r.No.forEach((function(e,s){a.push(r.Qo(s,t,n).then((function(e){if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=Up.Nn(s.targetId,e);o.push(t)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.xo.Tr(i),[4,function(e,t){return gc(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return bc(this,(function(f){switch(f.label){case 0:n=Pc(e),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Sd.forEach(t,(function(t){return Sd.forEach(t.Cn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return Sd.forEach(t.xn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return f.sent(),[3,4];case 3:if(!Id(r=f.sent()))throw r;return _c("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)a=o[i],s=a.targetId,a.fromCache||(u=n.Bn.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),n.Bn=n.Bn.insert(s,l));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function Qy(e,t){return gc(this,void 0,void 0,(function(){var n,r;return bc(this,(function(i){switch(i.label){case 0:return(n=Pc(e)).currentUser.isEqual(t)?[3,3]:(_c("SyncEngine","User change. New user:",t.toKey()),[4,qp(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(e,t){e.Bo.forEach((function(e){e.forEach((function(e){e.reject(new Bc(qc.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Bo.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,Hy(n,r.Wn)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function $y(e,t){var n=Pc(e),r=n.ko.get(t);if(r&&r.Co)return sh().add(r.key);var i=sh(),o=n.$o.get(t);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.No.get(u);i=i.unionWith(c.view.To)}return i}function Yy(e,t){return gc(this,void 0,void 0,(function(){var n,r,i;return bc(this,(function(o){switch(o.label){case 0:return[4,Yp((n=Pc(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.So(r),[2,(n.isPrimaryClient&&Ky(n,t.targetId,i.Po),i)]}}))}))}function Xy(e){return gc(this,void 0,void 0,(function(){var t;return bc(this,(function(n){return[2,Jp((t=Pc(e)).localStore).then((function(e){return Hy(t,e)}))]}))}))}function Jy(e,t,n,r){return gc(this,void 0,void 0,(function(){var i,o;return bc(this,(function(a){switch(a.label){case 0:return[4,function(e,t){var n=Pc(e),r=Pc(n.Tn);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Jt(e,t).next((function(t){return t?n.Kn.bn(e,t):Sd.resolve(null)}))}))}((i=Pc(e)).localStore,t)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,Zv(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(zy(i,t,r||null),Vy(i,t),function(e,t){Pc(Pc(e).Tn).Xt(t)}(i.localStore,t)):Cc(),a.label=4;case 4:return[4,Hy(i,o)];case 5:return a.sent(),[3,7];case 6:_c("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}}))}))}function Zy(e,t){return gc(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return bc(this,(function(l){switch(l.label){case 0:return om(n=Pc(e)),am(n),!0!==t||!0===n.Uo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,em(n,r.toArray())]);case 1:return i=l.sent(),n.Uo=!0,[4,ay(n.remoteStore,!0)];case 2:for(l.sent(),o=0,a=i;o<a.length;o++)s=a[o],Vv(n.remoteStore,s);return[3,7];case 3:return!1!==t||!1===n.Uo?[3,7]:(u=[],c=Promise.resolve(),n.$o.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?u.push(t):c=c.then((function(){return qy(n,t),$p(n.localStore,t,!0)})),zv(n.remoteStore,t)})),[4,c]);case 4:return l.sent(),[4,em(n,u)];case 5:return l.sent(),function(e){var t=Pc(e);t.ko.forEach((function(e,n){zv(t.remoteStore,n)})),t.Mo.cs(),t.ko=new Map,t.Oo=new Qf(Qc.comparator)}(n),n.Uo=!1,[4,ay(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}}))}))}function em(e,t,n){return gc(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f,h,d,p,v;return bc(this,(function(y){switch(y.label){case 0:n=Pc(e),r=[],i=[],o=0,a=t,y.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(c=n.$o.get(s))&&0!==c.length?[4,Qp(n.localStore,Yl(c[0]))]:[3,7]):[3,13];case 2:u=y.sent(),l=0,f=c,y.label=3;case 3:return l<f.length?(h=f[l],d=n.No.get(h),[4,Yy(n,d)]):[3,6];case 4:(p=y.sent()).snapshot&&i.push(p.snapshot),y.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Xp(n.localStore,s)];case 8:return v=y.sent(),[4,Qp(n.localStore,v)];case 9:return u=y.sent(),[4,Ay(n,tm(v),s,!1)];case 10:y.sent(),y.label=11;case 11:r.push(u),y.label=12;case 12:return o++,[3,1];case 13:return[2,(n.xo.Tr(i),r)]}}))}))}function tm(e){return ql(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function nm(e){var t=Pc(e);return Pc(Pc(t.localStore).persistence).gn()}function rm(e,t,n,r){return gc(this,void 0,void 0,(function(){var i,o,a;return bc(this,(function(s){switch(s.label){case 0:return(i=Pc(e)).Uo?(_c("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.$o.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Jp(i.localStore)];case 3:return o=s.sent(),a=lh.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,Hy(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,$p(i.localStore,t,!0)];case 6:return s.sent(),qy(i,t,r),[3,8];case 7:Cc(),s.label=8;case 8:return[2]}}))}))}function im(e,t,n){return gc(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,f,h;return bc(this,(function(d){switch(d.label){case 0:if(!(r=om(e)).Uo)return[3,10];i=0,o=t,d.label=1;case 1:return i<o.length?(a=o[i],r.$o.has(a)?(_c("SyncEngine","Adding an already active target "+a),[3,5]):[4,Xp(r.localStore,a)]):[3,6];case 2:return s=d.sent(),[4,Qp(r.localStore,s)];case 3:return u=d.sent(),[4,Ay(r,tm(s),u.targetId,!1)];case 4:d.sent(),Vv(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(e){return bc(this,(function(t){switch(t.label){case 0:return r.$o.has(e)?[4,$p(r.localStore,e,!1).then((function(){zv(r.remoteStore,e),qy(r,e)})).catch(vp)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},l=0,f=n,d.label=7;case 7:return l<f.length?(h=f[l],[5,c(h)]):[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function om(e){var t=Pc(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Dy.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=$y.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=My.bind(null,t),t.xo.Tr=gy.bind(null,t.eventManager),t.xo.Ko=by.bind(null,t.eventManager),t}function am(e){var t=Pc(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Fy.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Uy.bind(null,t),t}var sm=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return gc(this,void 0,void 0,(function(){return bc(this,(function(t){switch(t.label){case 0:return this.D=Pv(e.databaseInfo.databaseId),this.sharedClientState=this.jo(e),this.persistence=this.Go(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.zo(e),this.localStore=this.Ho(e),[2]}}))}))},e.prototype.zo=function(e){return null},e.prototype.Ho=function(e){return zp(this.persistence,new jp,e.initialUser,this.D)},e.prototype.Go=function(e){return new cv(fv.Cs,this.D)},e.prototype.jo=function(e){return new Sv},e.prototype.terminate=function(){return gc(this,void 0,void 0,(function(){return bc(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},e}(),um=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Jo=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return mc(t,e),t.prototype.initialize=function(t){return gc(this,void 0,void 0,(function(){return bc(this,(function(n){switch(n.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return n.sent(),[4,Zp(this.localStore)];case 2:return n.sent(),[4,this.Jo.initialize(this,t)];case 3:return n.sent(),[4,am(this.Jo.syncEngine)];case 4:return n.sent(),[4,Zv(this.Jo.remoteStore)];case 5:return n.sent(),[2]}}))}))},t.prototype.Ho=function(e){return zp(this.persistence,new jp,e.initialUser,this.D)},t.prototype.zo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new gp(t,e.asyncQueue)},t.prototype.Go=function(e){var t=Lp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?np.withCacheSize(this.cacheSizeBytes):np.DEFAULT;return new Op(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Cv(),Nv(),this.D,this.sharedClientState,!!this.forceOwnership)},t.prototype.jo=function(e){return new Sv},t}(sm),cm=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Jo=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return mc(t,e),t.prototype.initialize=function(t){return gc(this,void 0,void 0,(function(){var n,r=this;return bc(this,(function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Jo.syncEngine,this.sharedClientState instanceof Ev?(this.sharedClientState.syncEngine={wi:Jy.bind(null,n),_i:rm.bind(null,n),mi:im.bind(null,n),gn:nm.bind(null,n),di:Xy.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.en((function(e){return gc(r,void 0,void 0,(function(){return bc(this,(function(t){switch(t.label){case 0:return[4,Zy(this.Jo.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},t.prototype.jo=function(e){var t=Cv();if(!Ev.At(t))throw new Bc(qc.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Lp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Ev(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(um),lm=function(){function e(){}return e.prototype.initialize=function(e,t){return gc(this,void 0,void 0,(function(){var n=this;return bc(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Ly(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Qy.bind(null,this.syncEngine),[4,ay(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.createEventManager=function(e){return new vy},e.prototype.createDatastore=function(e){var t,n=Pv(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Iv(t));return function(e,t,n){return new Lv(e,t,n)}(e.credentials,r,n)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Ly(a.syncEngine,e,0)},o=_v.At()?new _v:new kv,new Fv(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,a){var s=new Ny(e,t,n,r,i,o);return a&&(s.Uo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return gc(this,void 0,void 0,(function(){var t;return bc(this,(function(n){switch(n.label){case 0:return t=Pc(e),_c("RemoteStore","RemoteStore shutting down."),t.Qr.add(5),[4,jv(t)];case 1:return n.sent(),t.Wr.shutdown(),t.jr.set("Unknown"),[2]}}))}))}(this.remoteStore)},e}(),fm=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.Yo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.Yo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Xo=function(){this.muted=!0},e.prototype.Yo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),hm=(function(){function e(e,t){var n=this;this.Zo=e,this.D=t,this.metadata=new Ed,this.buffer=new Uint8Array,this.tc=new TextDecoder("utf-8"),this.ec().then((function(e){e&&e.ho()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}e.prototype.close=function(){return this.Zo.cancel()},e.prototype.getMetadata=function(){return gc(this,void 0,void 0,(function(){return bc(this,(function(e){return[2,this.metadata.promise]}))}))},e.prototype.Wo=function(){return gc(this,void 0,void 0,(function(){return bc(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.ec())]}}))}))},e.prototype.ec=function(){return gc(this,void 0,void 0,(function(){var e,t,n,r;return bc(this,(function(i){switch(i.label){case 0:return[4,this.nc()];case 1:return null===(e=i.sent())?[2,null]:(t=this.tc.decode(e),n=Number(t),isNaN(n)&&this.sc("length string ("+t+") is not valid number"),[4,this.ic(n)]);case 2:return r=i.sent(),[2,new Sy(JSON.parse(r),e.length+n)]}}))}))},e.prototype.rc=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},e.prototype.nc=function(){return gc(this,void 0,void 0,(function(){var e,t;return bc(this,(function(n){switch(n.label){case 0:return this.rc()<0?[4,this.oc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.rc())<0&&this.sc("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},e.prototype.ic=function(e){return gc(this,void 0,void 0,(function(){var t;return bc(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.oc()]:[3,3];case 1:n.sent()&&this.sc("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.tc.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},e.prototype.sc=function(e){throw this.Zo.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.oc=function(){return gc(this,void 0,void 0,(function(){var e,t;return bc(this,(function(n){switch(n.label){case 0:return[4,this.Zo.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))}}(),function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return gc(this,void 0,void 0,(function(){var t,n=this;return bc(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Bc(qc.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return gc(this,void 0,void 0,(function(){var n,r,i,o,a,s;return bc(this,(function(u){switch(u.label){case 0:return n=Pc(e),r=Oh(n.D)+"/documents",i={documents:t.map((function(e){return Ch(n.D,e)}))},[4,n.Ui("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){Nc(!!t.found),t.found.name,t.found.updateTime;var n=Nh(e,t.found.name),r=xh(t.found.updateTime),i=new sf({mapValue:{fields:t.found.fields}});return new gl(n,r,i,{})}(e,t):"missing"in t?function(e,t){Nc(!!t.missing),Nc(!!t.readTime);var n=Nh(e,t.missing),r=xh(t.readTime);return new bl(n,r)}(e,t):Cc()}(n.D,e);a.set(t.key.toString(),t)})),s=[],[2,(t.forEach((function(e){var t=a.get(e.toString());Nc(!!t),s.push(t)})),s)]}}))}))}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach((function(e){e instanceof bl||e instanceof gl?n.recordVersion(e):Cc()})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new Bf(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return gc(this,void 0,void 0,(function(){var e,t=this;return bc(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=Qc.fromPath(n);t.mutations.push(new Kf(r,t.precondition(r)))})),[4,function(e,t){return gc(this,void 0,void 0,(function(){var n,r,i;return bc(this,(function(o){switch(o.label){case 0:return n=Pc(e),r=Oh(n.D)+"/documents",i={writes:t.map((function(e){return Mh(n.D,e)}))},[4,n.Mi("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e instanceof gl)t=e.version;else{if(!(e instanceof bl))throw Cc();t=of.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Bc(qc.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?If.updateTime(t):If.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(of.min()))throw new Bc(qc.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return If.updateTime(t)}return If.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}()),dm=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.cc=5,this.rr=new Av(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ac()},e.prototype.ac=function(){var e=this;this.rr.Yi((function(){return gc(e,void 0,void 0,(function(){var e,t,n=this;return bc(this,(function(r){return e=new hm(this.datastore),(t=this.uc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.hc(e)}))}))})).catch((function(e){n.hc(e)})),[2]}))}))}))},e.prototype.uc=function(e){try{var t=this.updateFunction(e);return!jc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.hc=function(e){var t=this;this.cc>0&&this.lc(e)?(this.cc-=1,this.asyncQueue.enqueueAndForget((function(){return t.ac(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.lc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Gf(t)}return!1},e}(),pm=function(){function e(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=hv.UNAUTHENTICATED,this.clientId=Oc.u(),this.credentialListener=function(){},this.receivedInitialUser=new Ed,this.credentials.setChangeListener((function(e){_c("FirestoreClient","Received user=",e.uid),r.user=e,r.credentialListener(e),r.receivedInitialUser.resolve()}))}return e.prototype.getConfiguration=function(){return gc(this,void 0,void 0,(function(){return bc(this,(function(e){switch(e.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(e.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}}))}))},e.prototype.setCredentialChangeListener=function(e){var t=this;this.credentialListener=e,this.receivedInitialUser.promise.then((function(){return t.credentialListener(t.user)}))},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Bc(qc.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Ed;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return gc(e,void 0,void 0,(function(){var e,n;return bc(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=ly(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}}))}))})),t.promise},e}();function vm(e,t){return gc(this,void 0,void 0,(function(){var n,r,i=this;return bc(this,(function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),_c("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener((function(n){r.isEqual(n)||(r=n,e.asyncQueue.enqueueRetryable((function(){return gc(i,void 0,void 0,(function(){return bc(this,(function(e){switch(e.label){case 0:return[4,qp(t.localStore,n)];case 1:return e.sent(),[2]}}))}))})))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function ym(e,t){return gc(this,void 0,void 0,(function(){var n,r;return bc(this,(function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,mm(e)];case 1:return n=i.sent(),_c("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener((function(n){return e.asyncQueue.enqueueRetryable((function(){return function(e,t){return gc(this,void 0,void 0,(function(){var n,r;return bc(this,(function(i){switch(i.label){case 0:return(n=Pc(e)).asyncQueue.verifyOperationInProgress(),_c("RemoteStore","RemoteStore received new credentials"),r=Gv(n),n.Qr.add(3),[4,jv(n)];case 1:return i.sent(),r&&n.jr.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.Qr.delete(3),[4,Uv(n)];case 3:return i.sent(),[2]}}))}))}(t.remoteStore,n)}))})),e.onlineComponents=t,[2]}}))}))}function mm(e){return gc(this,void 0,void 0,(function(){return bc(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(_c("FirestoreClient","Using default OfflineComponentProvider"),[4,vm(e,new sm)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function gm(e){return gc(this,void 0,void 0,(function(){return bc(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(_c("FirestoreClient","Using default OnlineComponentProvider"),[4,ym(e,new lm)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function bm(e){return mm(e).then((function(e){return e.persistence}))}function wm(e){return mm(e).then((function(e){return e.localStore}))}function Em(e){return gm(e).then((function(e){return e.remoteStore}))}function Sm(e){return gm(e).then((function(e){return e.syncEngine}))}function km(e){return gc(this,void 0,void 0,(function(){var t,n;return bc(this,(function(r){switch(r.label){case 0:return[4,gm(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=Py.bind(null,t.syncEngine),n.onUnlisten=Oy.bind(null,t.syncEngine),n)]}}))}))}function _m(e,t,n){var r=this;void 0===n&&(n={});var i=new Ed;return e.asyncQueue.enqueueAndForget((function(){return gc(r,void 0,void 0,(function(){var r;return bc(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new fm({next:function(o){t.enqueueAndForget((function(){return my(e,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new Bc(qc.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new Bc(qc.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new Ey(Bl(n.path),o,{includeMetadataChanges:!0,uo:!0});return yy(e,a)},[4,km(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function xm(e,t,n){var r=this;void 0===n&&(n={});var i=new Ed;return e.asyncQueue.enqueueAndForget((function(){return gc(r,void 0,void 0,(function(){var r;return bc(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new fm({next:function(n){t.enqueueAndForget((function(){return my(e,a)})),n.fromCache&&"server"===r.source?i.reject(new Bc(qc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new Ey(n,o,{includeMetadataChanges:!0,uo:!0});return yy(e,a)},[4,km(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}var Tm=function(e,t,n,r,i,o){this.databaseId=e,this.persistenceKey=t,this.host=n,this.ssl=r,this.forceLongPolling=i,this.autoDetectLongPolling=o},Im=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),Cm=new Map,Nm=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},Pm=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e){this.changeListener=e,e(hv.UNAUTHENTICATED)},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),Am=function(){function e(e){var t=this;this.fc=null,this.currentUser=hv.UNAUTHENTICATED,this.receivedInitialUser=!1,this.dc=0,this.changeListener=null,this.forceRefresh=!1,this.fc=function(){t.dc++,t.currentUser=t.wc(),t.receivedInitialUser=!0,t.changeListener&&t.changeListener(t.currentUser)},this.dc=0,this.auth=e.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.fc):(this.fc(null),e.get().then((function(e){t.auth=e,t.fc&&t.auth.addAuthTokenListener(t.fc)}),(function(){})))}return e.prototype.getToken=function(){var e=this,t=this.dc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.dc!==t?(_c("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Nc("string"==typeof n.accessToken),new Nm(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e){this.changeListener=e,this.receivedInitialUser&&e(this.currentUser)},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.fc),this.fc=null,this.changeListener=null},e.prototype.wc=function(){var e=this.auth&&this.auth.getUid();return Nc(null===e||"string"==typeof e),new hv(e)},e}(),Om=function(){function e(e,t){this._c=e,this.mc=t,this.type="FirstParty",this.user=hv.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.mc},t=this._c.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),e},enumerable:!1,configurable:!0}),e}(),Rm=function(){function e(e,t){this._c=e,this.mc=t}return e.prototype.getToken=function(){return Promise.resolve(new Om(this._c,this.mc))},e.prototype.setChangeListener=function(e){e(hv.FIRST_PARTY)},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function Dm(e,t,n){if(!n)throw new Bc(qc.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function Lm(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Bc(qc.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function Mm(e,t,n,r){if(!0===t&&!0===r)throw new Bc(qc.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function Fm(e){if(!Qc.isDocumentKey(e))throw new Bc(qc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function Um(e){if(Qc.isDocumentKey(e))throw new Bc(qc.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function jm(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":Cc()}function Vm(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Bc(qc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=jm(e);throw new Bc(qc.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function zm(e,t){if(t<=0)throw new Bc(qc.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var qm=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Bc(qc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Bc(qc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,Mm("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties},e}(),Bm=function(){function e(e,t){this._persistenceKey="(lite)",this._settings=new qm({}),this._settingsFrozen=!1,e instanceof Im?(this._databaseId=e,this._credentials=new Pm):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Bc(qc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Im(e.options.projectId)}(e),this._credentials=new Am(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new Bc(qc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new Bc(qc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qm(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new Pm;switch(e.type){case"gapi":var t=e.client;return Nc(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Rm(t,e.sessionIndex||"0");case"provider":return e.client;default:throw new Bc(qc.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return(e=Cm.get(this))&&(_c("ComponentProvider","Removing Datastore"),Cm.delete(this),e.terminate()),Promise.resolve();var e},e}(),Km=function(e){this._delegate=e},Wm=function(){function e(e,t,n){this._converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Hm(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Gm=function(){function e(e,t,n){this._converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Hm=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,Bl(r))||this).firestore=t,i._path=r,i.type="collection",i}return mc(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Wm(this.firestore,null,new Qc(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(Gm);function Qm(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e instanceof Km&&(e=e._delegate),Dm("collection","path",t),e instanceof Bm)return Um(n=Wc.fromString.apply(Wc,wc([t],r))),new Hm(e,null,n);if(!(e instanceof Wm||e instanceof Hm))throw new Bc(qc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Um(n=Wc.fromString.apply(Wc,wc([e.path],r)).child(Wc.fromString(t))),new Hm(e.firestore,null,n)}function $m(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e instanceof Km&&(e=e._delegate),1===arguments.length&&(t=Oc.u()),Dm("doc","path",t),e instanceof Bm)return Fm(n=Wc.fromString.apply(Wc,wc([t],r))),new Wm(e,null,new Qc(n));if(!(e instanceof Wm||e instanceof Hm))throw new Bc(qc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Fm(n=e._path.child(Wc.fromString.apply(Wc,wc([t],r)))),new Wm(e.firestore,e instanceof Hm?e._converter:null,new Qc(n))}function Ym(e,t){return e instanceof Km&&(e=e._delegate),t instanceof Km&&(t=t._delegate),(e instanceof Wm||e instanceof Hm)&&(t instanceof Wm||t instanceof Hm)&&e.firestore===t.firestore&&e.path===t.path&&e._converter===t._converter}function Xm(e,t){return e instanceof Km&&(e=e._delegate),t instanceof Km&&(t=t._delegate),e instanceof Gm&&t instanceof Gm&&e.firestore===t.firestore&&Jl(e._query,t._query)&&e._converter===t._converter}var Jm=function(){function e(){var e=this;this.yc=Promise.resolve(),this.gc=[],this.Ec=!1,this.Tc=[],this.Ic=null,this.Ac=!1,this.Rc=[],this.rr=new Av(this,"async_queue_retry"),this.bc=function(){var t=Nv();t&&_c("AsyncQueue","Visibility state changed to "+t.visibilityState),e.rr.Zi()};var t=Nv();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.bc)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this.Ec},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.vc(),this.Pc(e)},e.prototype.enterRestrictedMode=function(){if(!this.Ec){this.Ec=!0;var e=Nv();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.bc)}},e.prototype.enqueue=function(e){return this.vc(),this.Ec?new Promise((function(e){})):this.Pc(e)},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.gc.push(e),t.Vc()}))},e.prototype.Vc=function(){return gc(this,void 0,void 0,(function(){var e,t=this;return bc(this,(function(n){switch(n.label){case 0:if(0===this.gc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.gc[0]()];case 2:return n.sent(),this.gc.shift(),this.rr.reset(),[3,4];case 3:if(!Id(e=n.sent()))throw e;return _c("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.gc.length>0&&this.rr.Yi((function(){return t.Vc()})),n.label=5;case 5:return[2]}}))}))},e.prototype.Pc=function(e){var t=this,n=this.yc.then((function(){return t.Ac=!0,e().catch((function(e){throw t.Ic=e,t.Ac=!1,xc("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.Ac=!1,e}))}));return this.yc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.vc(),this.Rc.indexOf(e)>-1&&(t=0);var i=cy.createAndSchedule(this,e,t,n,(function(e){return r.Sc(e)}));return this.Tc.push(i),i},e.prototype.vc=function(){this.Ic&&Cc()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Dc=function(){return gc(this,void 0,void 0,(function(){var e;return bc(this,(function(t){switch(t.label){case 0:return[4,e=this.yc];case 1:t.sent(),t.label=2;case 2:if(e!==this.yc)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.Cc=function(e){for(var t=0,n=this.Tc;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.xc=function(e){var t=this;return this.Dc().then((function(){t.Tc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.Tc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.Dc()}))},e.prototype.Nc=function(e){this.Rc.push(e)},e.prototype.Sc=function(e){var t=this.Tc.indexOf(e);this.Tc.splice(t,1)},e}();function Zm(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}!function(){function e(){this._progressObserver={},this._taskCompletionResolver=new Ed,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}();var eg=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._queue=new Jm,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return mc(t,e),t.prototype._terminate=function(){return this._firestoreClient||ng(this),this._firestoreClient.terminate()},t}(Bm);function tg(e){return e._firestoreClient||ng(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function ng(e){var t=e._freezeSettings(),n=function(e,t,n){return new Tm(e,t,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(e._databaseId,e._persistenceKey,t);e._firestoreClient=new pm(e._credentials,e._queue,n)}function rg(e,t,n){var r=this,i=new Ed;return e.asyncQueue.enqueue((function(){return gc(r,void 0,void 0,(function(){var r;return bc(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,vm(e,n)];case 1:return o.sent(),[4,ym(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===qc.FAILED_PRECONDITION||e.code===qc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function ig(e){if(e._initialized||e._terminated)throw new Bc(qc.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var og=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new Bc(qc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hc(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),ag=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e($c.fromBase64String(t))}catch(t){throw new Bc(qc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e($c.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),sg=function(e){this._methodName=e},ug=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new Bc(qc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Bc(qc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return Rc(this._lat,e._lat)||Rc(this._long,e._long)},e}(),cg=/^__.*__$/,lg=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new Mf(e,this.data,this.fieldMask,t,this.fieldTransforms):new Lf(e,this.data,t,this.fieldTransforms)},e}(),fg=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new Mf(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();function hg(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Cc()}}var dg=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.D=n,this.ignoreUndefinedProperties=r,void 0===i&&this.$c(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Fc",{get:function(){return this.settings.Fc},enumerable:!1,configurable:!0}),e.prototype.Oc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.D,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:n,Mc:!1});return r.Lc(e),r},e.prototype.Bc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:n,Mc:!1});return r.$c(),r},e.prototype.qc=function(e){return this.Oc({path:void 0,Mc:!0})},e.prototype.Uc=function(e){return Rg(e,this.settings.methodName,this.settings.Qc||!1,this.path,this.settings.Kc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.$c=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Lc(this.path.get(e))},e.prototype.Lc=function(e){if(0===e.length)throw this.Uc("Document fields must not be empty");if(hg(this.Fc)&&cg.test(e))throw this.Uc('Document fields cannot begin and end with "__"')},e}(),pg=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.D=n||Pv(e)}return e.prototype.Wc=function(e,t,n,r){return void 0===r&&(r=!1),new dg({Fc:e,methodName:t,Kc:n,path:Hc.emptyPath(),Mc:!1,Qc:r},this.databaseId,this.D,this.ignoreUndefinedProperties)},e}();function vg(e){var t=e._freezeSettings(),n=Pv(e._databaseId);return new pg(e._databaseId,!!t.ignoreUndefinedProperties,n)}function yg(e,t,n,r,i,o){void 0===o&&(o={});var a=e.Wc(o.merge||o.mergeFields?2:0,t,n,i);Ng("Data must be an object, but it was:",a,r);var s,u,c=Ig(r,a);if(o.merge)s=new af(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],f=0,h=o.mergeFields;f<h.length;f++){var d=Pg(t,h[f],n);if(!a.contains(d))throw new Bc(qc.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Dg(l,d)||l.push(d)}s=new af(l),u=a.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=a.fieldTransforms;return new lg(new sf(c),s,u)}var mg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return mc(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Fc)throw 1===e.Fc?e.Uc(this._methodName+"() can only appear at the top level of your update data"):e.Uc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(sg);function gg(e,t,n){return new dg({Fc:3,Kc:t.settings.Kc,methodName:e._methodName,Mc:n},t.databaseId,t.D,t.ignoreUndefinedProperties)}var bg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return mc(t,e),t.prototype._toFieldTransform=function(e){return new xf(e.path,new mf)},t.prototype.isEqual=function(e){return e instanceof t},t}(sg),wg=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).jc=n,r}return mc(t,e),t.prototype._toFieldTransform=function(e){var t=gg(this,e,!0),n=this.jc.map((function(e){return Tg(e,t)})),r=new gf(n);return new xf(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(sg),Eg=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).jc=n,r}return mc(t,e),t.prototype._toFieldTransform=function(e){var t=gg(this,e,!0),n=this.jc.map((function(e){return Tg(e,t)})),r=new wf(n);return new xf(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(sg),Sg=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Gc=n,r}return mc(t,e),t.prototype._toFieldTransform=function(e){var t=new Sf(e.D,hf(e.D,this.Gc));return new xf(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(sg);function kg(e,t,n,r){var i=e.Wc(1,t,n);Ng("Data must be an object, but it was:",i,r);var o=[],a=new uf;Fc(r,(function(e,r){var s=Og(t,e,n);r instanceof Km&&(r=r._delegate);var u=i.Bc(s);if(r instanceof mg)o.push(s);else{var c=Tg(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new af(o);return new fg(a.v(),s,i.fieldTransforms)}function _g(e,t,n,r,i,o){var a=e.Wc(1,t,n),s=[Pg(t,r,n)],u=[i];if(o.length%2!=0)throw new Bc(qc.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(Pg(t,o[c])),u.push(o[c+1]);for(var l=[],f=new uf,h=s.length-1;h>=0;--h)if(!Dg(l,s[h])){var d=s[h],p=u[h];p instanceof Km&&(p=p._delegate);var v=a.Bc(d);if(p instanceof mg)l.push(d);else{var y=Tg(p,v);null!=y&&(l.push(d),f.set(d,y))}}var m=new af(l);return new fg(f.v(),m,a.fieldTransforms)}function xg(e,t,n,r){return void 0===r&&(r=!1),Tg(n,e.Wc(r?4:3,t))}function Tg(e,t){if(e instanceof Km&&(e=e._delegate),Cg(e))return Ng("Unsupported field value:",t,e),Ig(e,t);if(e instanceof sg)return function(e,t){if(!hg(t.Fc))throw t.Uc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Uc(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Mc&&4!==t.Fc)throw t.Uc("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=Tg(o[i],t.qc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(e instanceof Km&&(e=e._delegate),null===e)return{nullValue:"NULL_VALUE"};if("number"==typeof e)return hf(t.D,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=el.fromDate(e);return{timestampValue:Sh(t.D,n)}}if(e instanceof el)return n=new el(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:Sh(t.D,n)};if(e instanceof ug)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ag)return{bytesValue:kh(t.D,e._byteString)};if(e instanceof Wm){n=t.databaseId;var r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Uc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Th(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Uc("Unsupported field value: "+jm(e))}(e,t)}function Ig(e,t){var n={};return Uc(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Fc(e,(function(e,r){var i=Tg(r,t.kc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Cg(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof el||e instanceof ug||e instanceof ag||e instanceof Wm||e instanceof sg)}function Ng(e,t,n){if(!Cg(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=jm(n);throw"an object"===r?t.Uc(e+" a custom object"):t.Uc(e+" "+r)}}function Pg(e,t,n){if(t instanceof Km&&(t=t._delegate),t instanceof og)return t._internalPath;if("string"==typeof t)return Og(e,t);throw Rg("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var Ag=new RegExp("[~\\*/\\[\\]]");function Og(e,t,n){if(t.search(Ag)>=0)throw Rg("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(og.bind.apply(og,wc([void 0],t.split(".")))))._internalPath}catch(r){throw Rg("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Rg(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+t+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new Bc(qc.INVALID_ARGUMENT,(s+=". ")+e+u)}function Dg(e,t){return e.some((function(e){return e.isEqual(t)}))}var Lg=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Wm(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new Mg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.toProto())}},e.prototype.get=function(e){if(this._document){var t=this._document.data().field(Fg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),Mg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return mc(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(Lg);function Fg(e,t){return"string"==typeof t?Og(e,t):t instanceof Km?t._delegate._internalPath:t._internalPath}var Ug=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),jg=function(e){function t(t,n,r,i,o,a){var s=this;return(s=e.call(this,t,n,r,i,a)||this)._firestore=t,s._firestoreImpl=t,s.metadata=o,s}return mc(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new Vg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.toProto(),e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data().field(Fg("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(Lg),Vg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return mc(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(jg),zg=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Ug(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Vg(n._firestore,n._userDataWriter,r.key,r,new Ug(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query._converter))}))},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Bc(qc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new Vg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Ug(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query._converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Vg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Ug(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query._converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:qg(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function qg(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Cc()}}function Bg(e,t){return e instanceof jg&&t instanceof jg?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof zg&&t instanceof zg&&e._firestore===t._firestore&&Xm(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Kg(e){if(Wl(e)&&0===e.explicitOrderBy.length)throw new Bc(qc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Wg=function(){};function Gg(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];e=o._apply(e)}return e}var Hg=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).zc=t,i.Hc=n,i.Jc=r,i.type="where",i}return mc(t,e),t.prototype._apply=function(e){var t=vg(e.firestore),n=function(e,t,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Bc(qc.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){eb(a,o);for(var u=[],c=0,l=a;c<l.length;c++){var f=l[c];u.push(Zg(r,e,f))}s={arrayValue:{values:u}}}else s=Zg(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||eb(a,o),s=xg(n,"where",a,"in"===o||"not-in"===o);var h=Tl.create(i,o,s);return function(e,t){if(t.g()){var n=Hl(e);if(null!==n&&!n.isEqual(t.field))throw new Bc(qc.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=Gl(e);null!==r&&tb(0,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Bc(qc.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new Bc(qc.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.zc,this.Hc,this.Jc);return new Gm(e.firestore,e._converter,function(e,t){var n=e.filters.concat([t]);return new zl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))},t}(Wg),Qg=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).zc=t,r.Yc=n,r.type="orderBy",r}return mc(t,e),t.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Bc(qc.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Bc(qc.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Fl(t,n);return function(e,t){if(null===Gl(e)){var n=Hl(e);null!==n&&tb(0,n,t.field)}}(e,r),r}(e._query,this.zc,this.Yc);return new Gm(e.firestore,e._converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new zl(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}(Wg),$g=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Xc=n,i.Zc=r,i}return mc(t,e),t.prototype._apply=function(e){return new Gm(e.firestore,e._converter,Xl(e._query,this.Xc,this.Zc))},t}(Wg),Yg=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.ta=n,i.ea=r,i}return mc(t,e),t.prototype._apply=function(e){var t=Jg(e,this.type,this.ta,this.ea);return new Gm(e.firestore,e._converter,function(e,t){return new zl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}(Wg),Xg=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.ta=n,i.ea=r,i}return mc(t,e),t.prototype._apply=function(e){var t=Jg(e,this.type,this.ta,this.ea);return new Gm(e.firestore,e._converter,function(e,t){return new zl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}(Wg);function Jg(e,t,n,r){if(n[0]instanceof Km&&(n[0]=n[0]._delegate),n[0]instanceof Lg)return function(e,t,n,r,i){if(!r)throw new Bc(qc.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=$l(e);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(fl(t,r.key));else{var c=r.field(u.field);if(tl(c))throw new Bc(qc.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Bc(qc.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Ll(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=vg(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new Bc(qc.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new Bc(qc.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Ql(e)&&-1!==c.indexOf("/"))throw new Bc(qc.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=e.path.child(Wc.fromString(c));if(!Qc.isDocumentKey(l))throw new Bc(qc.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var f=new Qc(l);s.push(fl(t,f))}else{var h=xg(n,r,c);s.push(h)}}return new Ll(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function Zg(e,t,n){if(n instanceof Km&&(n=n._delegate),"string"==typeof n){if(""===n)throw new Bc(qc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ql(t)&&-1!==n.indexOf("/"))throw new Bc(qc.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(Wc.fromString(n));if(!Qc.isDocumentKey(r))throw new Bc(qc.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return fl(e,new Qc(r))}if(n instanceof Wm)return fl(e,n._key);throw new Bc(qc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+jm(n)+".")}function eb(e,t){if(!Array.isArray(e)||0===e.length)throw new Bc(qc.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new Bc(qc.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function tb(e,t,n){if(!n.isEqual(t))throw new Bc(qc.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var nb=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),il(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Jc(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Zc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Cc()}},e.prototype.convertObject=function(e,t){var n=this,r={};return Fc(e.fields||{},(function(e,i){r[e]=n.convertValue(i,t)})),r},e.prototype.convertGeoPoint=function(e){return new ug(Jc(e.latitude),Jc(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=nl(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(rl(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=Xc(e);return new el(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=Wc.fromString(e);Nc(Xh(n));var r=new Im(n.get(1),n.get(3)),i=new Qc(n.popFirst(5));return r.isEqual(t)||xc("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();function rb(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var ib=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return mc(t,e),t.prototype.convertBytes=function(e){return new ag(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wm(this.firestore,null,t)},t}(nb),ob=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=vg(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=ab(e,this._firestore),i=rb(r._converter,t,n),o=yg(this._dataReader,"WriteBatch.set",r._key,i,null!==r._converter,n);return this._mutations.push(o.toMutation(r._key,If.none())),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=ab(e,this._firestore);return t instanceof Km&&(t=t._delegate),o="string"==typeof t||t instanceof og?_g(this._dataReader,"WriteBatch.update",a._key,t,n,r):kg(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(o.toMutation(a._key,If.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=ab(e,this._firestore);return this._mutations=this._mutations.concat(new Bf(t._key,If.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new Bc(qc.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function ab(e,t){if(e instanceof Km&&(e=e._delegate),e.firestore!==t)throw new Bc(qc.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var sb=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return mc(t,e),t.prototype.convertBytes=function(e){return new ag(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wm(this.firestore,null,t)},t}(nb);function ub(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=Vm(e,Wm);var o=Vm(e.firestore,eg),a=vg(o);return t instanceof Km&&(t=t._delegate),lb(o,[("string"==typeof t||t instanceof og?_g(a,"updateDoc",e._key,t,n,r):kg(a,"updateDoc",e._key,t)).toMutation(e._key,If.exists(!0))])}function cb(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e instanceof Km&&(e=e._delegate);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||Zm(i[s])||(a=i[s],s++);var u,c,l,f={includeMetadataChanges:a.includeMetadataChanges};if(Zm(i[s])){var h=i[s];i[s]=null===(t=h.next)||void 0===t?void 0:t.bind(h),i[s+1]=null===(n=h.error)||void 0===n?void 0:n.bind(h),i[s+2]=null===(r=h.complete)||void 0===r?void 0:r.bind(h)}if(e instanceof Wm)c=Vm(e.firestore,eg),l=Bl(e._key.path),u={next:function(t){i[s]&&i[s](fb(c,e,t))},error:i[s+1],complete:i[s+2]};else{var d=Vm(e,Gm);c=Vm(d.firestore,eg),l=d._query;var p=new sb(c);u={next:function(e){i[s]&&i[s](new zg(c,p,d,e))},error:i[s+1],complete:i[s+2]},Kg(e._query)}return function(e,t,n,r){var i=this,o=new fm(r),a=new Ey(t,o,n);return e.asyncQueue.enqueueAndForget((function(){return gc(i,void 0,void 0,(function(){var t;return bc(this,(function(n){switch(n.label){case 0:return t=yy,[4,km(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Xo(),e.asyncQueue.enqueueAndForget((function(){return gc(i,void 0,void 0,(function(){var t;return bc(this,(function(n){switch(n.label){case 0:return t=my,[4,km(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))}))}}(tg(c),l,f,u)}function lb(e,t){return function(e,t){var n=this,r=new Ed;return e.asyncQueue.enqueueAndForget((function(){return gc(n,void 0,void 0,(function(){var n;return bc(this,(function(i){switch(i.label){case 0:return n=Ry,[4,Sm(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(tg(e),t)}function fb(e,t,n){var r=n.docs.get(t._key),i=new sb(e);return new jg(e,i,t._key,r,new Ug(n.hasPendingWrites,n.fromCache),t._converter)}var hb=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return mc(t,e),t.prototype.get=function(t){var n=this,r=ab(t,this._firestore),i=new sb(this._firestore);return e.prototype.get.call(this,t).then((function(e){return new jg(n._firestore,i,r._key,e._document,new Ug(!1,!1),r._converter)}))},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=vg(e)}return e.prototype.get=function(e){var t=this,n=ab(e,this._firestore),r=new ib(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Cc();var i=e[0];if(i instanceof bl)return new Lg(t._firestore,r,n._key,null,n._converter);if(i instanceof gl)return new Lg(t._firestore,r,i.key,i,n._converter);throw Cc()}))},e.prototype.set=function(e,t,n){var r=ab(e,this._firestore),i=rb(r._converter,t,n),o=yg(this._dataReader,"Transaction.set",r._key,i,null!==r._converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=ab(e,this._firestore);return t instanceof Km&&(t=t._delegate),o="string"==typeof t||t instanceof og?_g(this._dataReader,"Transaction.update",a._key,t,n,r):kg(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,o),this},e.prototype.delete=function(e){var t=ab(e,this._firestore);return this._transaction.delete(t._key),this},e}());function db(){if("undefined"==typeof Uint8Array)throw new Bc(qc.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function pb(){if("undefined"==typeof atob)throw new Bc(qc.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var vb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return mc(t,e),t.fromBase64String=function(e){return pb(),new t(ag.fromBase64String(e))},t.fromUint8Array=function(e){return db(),new t(ag.fromUint8Array(e))},t.prototype.toBase64=function(){return pb(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return db(),this._delegate.toUint8Array()},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(Km),yb=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){ig(e=Vm(e,eg));var n=tg(e),r=e._freezeSettings(),i=new lm;return rg(n,i,new um(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){ig(e=Vm(e,eg));var t=tg(e),n=e._freezeSettings(),r=new lm;return rg(t,r,new cm(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new Bc(qc.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Ed;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return gc(t,void 0,void 0,(function(){var t;return bc(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return gc(this,void 0,void 0,(function(){var t;return bc(this,(function(n){switch(n.label){case 0:return _d.At()?(t=e+"main",[4,_d.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(Lp(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},e}(),mb=function(e){function t(t,n,r){var i=this;return(i=e.call(this,n)||this).na=r,i.INTERNAL={delete:function(){return i.terminate()}},t instanceof Im||(i.sa=t),i}return mc(t,e),Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(e){e.merge&&delete(e=Object.assign(Object.assign({},this._delegate._getSettings()),e)).merge,this._delegate._setSettings(e)},t.prototype.useEmulator=function(e,t){!function(e,t,n){var r=(e=Vm(e,Bm))._getSettings();"firestore.googleapis.com"!==r.host&&r.host!==t&&Tc("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},r),{host:t+":"+n,ssl:!1}))}(this._delegate,e,t)},t.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return gc(t,void 0,void 0,(function(){var t,n;return bc(this,(function(r){switch(r.label){case 0:return[4,bm(e)];case 1:return t=r.sent(),[4,Em(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=Pc(e);return t.Qr.delete(0),Uv(t)}(n))]}}))}))}))}(tg(Vm(this._delegate,eg)))},t.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return gc(t,void 0,void 0,(function(){var t,n;return bc(this,(function(r){switch(r.label){case 0:return[4,bm(e)];case 1:return t=r.sent(),[4,Em(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return gc(this,void 0,void 0,(function(){var t;return bc(this,(function(n){switch(n.label){case 0:return(t=Pc(e)).Qr.add(0),[4,jv(t)];case 1:return n.sent(),t.jr.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(tg(Vm(this._delegate,eg)))},t.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&Mm("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.na.enableMultiTabIndexedDbPersistence(this):this.na.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.na.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.sa&&(this.sa._removeServiceInstance("firestore"),this.sa._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new Ed;return e.asyncQueue.enqueueAndForget((function(){return gc(t,void 0,void 0,(function(){var t;return bc(this,(function(r){switch(r.label){case 0:return t=jy,[4,Sm(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(tg(Vm(this._delegate,eg)))},t.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var n=this,r=new fm(t);return e.asyncQueue.enqueueAndForget((function(){return gc(n,void 0,void 0,(function(){var t;return bc(this,(function(n){switch(n.label){case 0:return t=function(e,t){Pc(e).Zr.add(t),t.next()},[4,km(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Xo(),e.asyncQueue.enqueueAndForget((function(){return gc(n,void 0,void 0,(function(){var t;return bc(this,(function(n){switch(n.label){case 0:return t=function(e,t){Pc(e).Zr.delete(t)},[4,km(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))}))}}(tg(e=Vm(e,eg)),Zm(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.sa)throw new Bc(qc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.sa},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new Ab(this,Qm(this._delegate,e))}catch(e){throw kb(e,"collection()","Firestore.collection()")}},t.prototype.doc=function(e){try{return new Sb(this,$m(this._delegate,e))}catch(e){throw kb(e,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(e){try{return new Cb(this,function(e,t){if(e=Vm(e,Bm),Dm("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Bc(qc.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Gm(e,null,function(e){return new zl(Wc.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw kb(e,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,r=new Ed;return e.asyncQueue.enqueueAndForget((function(){return gc(n,void 0,void 0,(function(){var n;return bc(this,(function(i){switch(i.label){case 0:return[4,function(e){return gm(e).then((function(e){return e.datastore}))}(e)];case 1:return n=i.sent(),new dm(e.asyncQueue,n,t,r).run(),[2]}}))}))})),r.promise}(tg(e),(function(n){return t(new hb(e,n))}))}(this._delegate,(function(n){return e(new bb(t,n))}))},t.prototype.batch=function(){var e=this;return tg(this._delegate),new wb(new ob(this._delegate,(function(t){return lb(e._delegate,t)})))},t.prototype.loadBundle=function(e){throw new Bc(qc.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(e){throw new Bc(qc.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(Km),gb=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return mc(t,e),t.prototype.convertBytes=function(e){return new vb(new ag(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return Sb.ia(t,this.firestore,null)},t}(nb),bb=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this)._firestore=t,r._userDataWriter=new gb(t),r}return mc(t,e),t.prototype.get=function(e){var t=this,n=Ob(e);return this._delegate.get(n).then((function(e){return new Tb(t._firestore,new jg(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n._converter))}))},t.prototype.set=function(e,t,n){var r=Ob(e);return n?(Lm("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},t.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Ob(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,wc([a,t,n],i)),this},t.prototype.delete=function(e){var t=Ob(e);return this._delegate.delete(t),this},t}(Km),wb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return mc(t,e),t.prototype.set=function(e,t,n){var r=Ob(e);return n?(Lm("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},t.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Ob(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,wc([a,t,n],i)),this},t.prototype.delete=function(e){var t=Ob(e);return this._delegate.delete(t),this},t.prototype.commit=function(){return this._delegate.commit()},t}(Km),Eb=function(e){function t(t,n,r){var i=this;return(i=e.call(this,r)||this)._firestore=t,i._userDataWriter=n,i}return mc(t,e),t.prototype.fromFirestore=function(e,t){var n=new Vg(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ib(this._firestore,n),null!=t?t:{})},t.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},t.ra=function(e,n){var r=t.oa,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new gb(e),n),i.set(n,o)),o},t}(Km);Eb.oa=new WeakMap;var Sb=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).firestore=t,r._userDataWriter=new gb(t),r}return mc(t,e),t.ca=function(e,n,r){if(e.length%2!=0)throw new Bc(qc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Wm(n._delegate,r,new Qc(e)))},t.ia=function(e,n,r){return new t(n,new Wm(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Ab(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new Ab(this.firestore,Qm(this._delegate,e))}catch(e){throw kb(e,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(e){return e instanceof Km&&(e=e._delegate),e instanceof Wm&&Ym(this._delegate,e)},t.prototype.set=function(e,t){t=Lm("DocumentReference.set",t);try{return function(e,t,n){e=Vm(e,Wm);var r=Vm(e.firestore,eg),i=rb(e._converter,t,n);return lb(r,[yg(vg(r),"setDoc",e._key,i,null!==e._converter,n).toMutation(e._key,If.none())])}(this._delegate,e,t)}catch(e){throw kb(e,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?ub(this._delegate,e):ub.apply(void 0,wc([this._delegate,e,t],n))}catch(e){throw kb(e,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return lb(Vm((e=this._delegate).firestore,eg),[new Bf(e._key,If.none())]);var e},t.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=_b(t),i=xb(t,(function(t){return new Tb(e.firestore,new jg(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))}));return cb(this._delegate,r,i)},t.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Vm(e,Wm);var t=Vm(e.firestore,eg),n=tg(t),r=new sb(t);return function(e,t){var n=this,r=new Ed;return e.asyncQueue.enqueueAndForget((function(){return gc(n,void 0,void 0,(function(){var n;return bc(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return gc(this,void 0,void 0,(function(){var r,i;return bc(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(e,t){var n=Pc(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Kn.In(e,t)}))}(e,t)];case 1:return(i=o.sent())instanceof gl?n.resolve(i):i instanceof bl?n.resolve(null):n.reject(new Bc(qc.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=ly(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,wm(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._key).then((function(n){return new jg(t,r,e._key,n,new Ug(n instanceof gl&&n.hasLocalMutations,!0),e._converter)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Vm(e,Wm);var t=Vm(e.firestore,eg);return _m(tg(t),e._key,{source:"server"}).then((function(n){return fb(t,e,n)}))}(this._delegate):function(e){e=Vm(e,Wm);var t=Vm(e.firestore,eg);return _m(tg(t),e._key).then((function(n){return fb(t,e,n)}))}(this._delegate)).then((function(e){return new Tb(t.firestore,new jg(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate._converter))}))},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(Eb.ra(this.firestore,e)):this._delegate.withConverter(null))},t}(Km);function kb(e,t,n){return e.message=e.message.replace(t,n),e}function _b(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!Zm(r))return r}return{}}function xb(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=Zm(e[0])?e[0]:Zm(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Tb=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this)._firestore=t,r}return mc(t,e),Object.defineProperty(t.prototype,"ref",{get:function(){return new Sb(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(e){return this._delegate.data(e)},t.prototype.get=function(e,t){return this._delegate.get(e,t)},t.prototype.isEqual=function(e){return Bg(this._delegate,e._delegate)},t}(Km),Ib=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return mc(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(Tb),Cb=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).firestore=t,r._userDataWriter=new gb(t),r}return mc(t,e),t.prototype.where=function(e,n,r){try{return new t(this.firestore,Gg(this._delegate,function(e,t,n){var r=t,i=Fg("where",e);return new Hg(i,r,n)}(e,n,r)))}catch(e){throw kb(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Gg(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=Fg("orderBy",e);return new Qg(r,n)}(e,n)))}catch(e){throw kb(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Gg(this._delegate,function(e){return zm("limit",e),new $g("limit",e,"F")}(e)))}catch(e){throw kb(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Gg(this._delegate,function(e){return zm("limitToLast",e),new $g("limitToLast",e,"L")}(e)))}catch(e){throw kb(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Gg(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Yg("startAt",e,!0)}.apply(void 0,e)))}catch(e){throw kb(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Gg(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Yg("startAfter",e,!1)}.apply(void 0,e)))}catch(e){throw kb(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Gg(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Xg("endBefore",e,!0)}.apply(void 0,e)))}catch(e){throw kb(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Gg(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Xg("endAt",e,!1)}.apply(void 0,e)))}catch(e){throw kb(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(e){return Xm(this._delegate,e._delegate)},t.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Vm(e,Gm);var t=Vm(e.firestore,eg),n=tg(t),r=new sb(t);return function(e,t){var n=this,r=new Ed;return e.asyncQueue.enqueueAndForget((function(){return gc(n,void 0,void 0,(function(){var n;return bc(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return gc(this,void 0,void 0,(function(){var r,i,o,a,s;return bc(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Yp(e,t,!0)];case 1:return s=u.sent(),r=new Ty(t,s.jn),i=r.Io(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=ly(a,"Failed to execute query '"+t+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,wm(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._query).then((function(n){return new zg(t,r,e,n)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Vm(e,Gm);var t=Vm(e.firestore,eg),n=tg(t),r=new sb(t);return xm(n,e._query,{source:"server"}).then((function(n){return new zg(t,r,e,n)}))}(this._delegate):function(e){e=Vm(e,Gm);var t=Vm(e.firestore,eg),n=tg(t),r=new sb(t);return Kg(e._query),xm(n,e._query).then((function(n){return new zg(t,r,e,n)}))}(this._delegate)).then((function(e){return new Pb(t.firestore,new zg(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},t.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=_b(t),i=xb(t,(function(t){return new Pb(e.firestore,new zg(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return cb(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(Eb.ra(this.firestore,e)):this._delegate.withConverter(null))},t}(Km),Nb=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this)._firestore=t,r}return mc(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Ib(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(Km),Pb=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this)._firestore=t,r}return mc(t,e),Object.defineProperty(t.prototype,"query",{get:function(){return new Cb(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new Ib(e._firestore,t)}))},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new Nb(t._firestore,e)}))},t.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new Ib(n._firestore,r))}))},t.prototype.isEqual=function(e){return Bg(this._delegate,e._delegate)},t}(Km),Ab=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return mc(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new Sb(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new Sb(this.firestore,void 0===e?$m(this._delegate):$m(this._delegate,e))}catch(e){throw kb(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=Vm(e.firestore,eg),r=$m(e),i=rb(e._converter,t);return lb(n,[yg(vg(e.firestore),"addDoc",r._key,i,null!==e._converter,{}).toMutation(r._key,If.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new Sb(t.firestore,e)}))},t.prototype.isEqual=function(e){return Ym(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(Eb.ra(this.firestore,e)):this._delegate.withConverter(null))},t}(Cb);function Ob(e){return e instanceof Km&&(e=e._delegate),Vm(e,Wm)}var Rb,Db=function(e){function t(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.call(this,new(og.bind.apply(og,wc([void 0],t))))||this}return mc(t,e),t.documentId=function(){return new t(Hc.keyField().canonicalString())},t.prototype.isEqual=function(e){return e instanceof Km&&(e=e._delegate),e instanceof og&&this._delegate._internalPath.isEqual(e._internalPath)},t}(Km),Lb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return mc(t,e),t.serverTimestamp=function(){var e=new bg("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new mg("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new wg("arrayUnion",e)}.apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Eg("arrayRemove",e)}.apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(e){return new Sg("increment",e)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t}(Km),Mb={Firestore:mb,GeoPoint:ug,Timestamp:el,Blob:vb,Transaction:bb,WriteBatch:wb,DocumentReference:Sb,DocumentSnapshot:Tb,Query:Cb,QueryDocumentSnapshot:Ib,QuerySnapshot:Pb,CollectionReference:Ab,FieldPath:Db,FieldValue:Lb,setLogLevel:function(e){var t;t=e,Sc.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new Mi("firestore",(function(e){return function(e,t){return new mb(e,new eg(e,t),new yb)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Mb)))})(Rb=co),Rb.registerVersion("@firebase/firestore","2.2.1"),co.initializeApp({apiKey:"AIzaSyA7SO_dJDI61d3L1Snp6SLKGq90HmYk49A",authDomain:"faceicon-review.firebaseapp.com",projectId:"faceicon-review",storageBucket:"faceicon-review.appspot.com",messagingSenderId:"149899542577",appId:"1:149899542577:web:8cc74bd57990ff5183d510",measurementId:"G-2K4E111GF9"});const Fb=co;function Ub(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.props||!t.props[n])return r;var i,o=t.props[n];for(i in o)void 0===r[i]&&(r[i]=o[i]);return r}function jb(e){return e&&e.ownerDocument||document}function Vb(e,t){"function"==typeof e?e(t):e&&(e.current=t)}function zb(t,n){return e.useMemo((function(){return null==t&&null==n?null:function(e){Vb(t,e),Vb(n,e)}}),[t,n])}co.firestore(),co.firestore().collection("faceicons");var qb="undefined"!=typeof window?e.useLayoutEffect:e.useEffect;const Bb=e.forwardRef((function(n,r){var i=n.children,o=n.container,a=n.disablePortal,s=void 0!==a&&a,u=n.onRendered,c=e.useState(null),l=c[0],f=c[1],h=zb(e.isValidElement(i)?i.ref:null,r);return qb((function(){s||f(function(e){return e="function"==typeof e?e():e,t.findDOMNode(e)}(o)||document.body)}),[o,s]),qb((function(){if(l&&!s)return Vb(r,l),function(){Vb(r,null)}}),[r,l,s]),qb((function(){u&&(l||s)&&u()}),[u,l,s]),s?e.isValidElement(i)?e.cloneElement(i,{ref:h}):i:l?t.createPortal(i,l):l}));function Kb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}var Wb="undefined"!=typeof window?e.useLayoutEffect:e.useEffect;function Gb(t){var n=e.useRef(t);return Wb((function(){n.current=t})),e.useCallback((function(){return n.current.apply(void 0,arguments)}),[])}function Hb(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function Qb(e){return parseInt(window.getComputedStyle(e)["padding-right"],10)||0}function $b(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,o=[t,n].concat($t(r)),a=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,(function(e){1===e.nodeType&&-1===o.indexOf(e)&&-1===a.indexOf(e.tagName)&&Hb(e,i)}))}function Yb(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function Xb(e,t){var n,r=[],i=[],o=e.container;if(!t.disableScrollLock){if(function(e){var t,n=jb(e);return n.body===e?(t=n,jb(t).defaultView||window).innerWidth>n.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(o)){var a=function(){var e=document.createElement("div");e.style.width="99px",e.style.height="99px",e.style.position="absolute",e.style.top="-9999px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}();r.push({value:o.style.paddingRight,key:"padding-right",el:o}),o.style["padding-right"]="".concat(Qb(o)+a,"px"),n=jb(o).querySelectorAll(".mui-fixed"),[].forEach.call(n,(function(e){i.push(e.style.paddingRight),e.style.paddingRight="".concat(Qb(e)+a,"px")}))}var s=o.parentElement,u="HTML"===s.nodeName&&"scroll"===window.getComputedStyle(s)["overflow-y"]?s:o;r.push({value:u.style.overflow,key:"overflow",el:u}),u.style.overflow="hidden"}return function(){n&&[].forEach.call(n,(function(e,t){i[t]?e.style.paddingRight=i[t]:e.style.removeProperty("padding-right")})),r.forEach((function(e){var t=e.value,n=e.el,r=e.key;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var Jb=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.modals=[],this.containers=[]}return ae(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&Hb(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){e.getAttribute&&"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);$b(t,e.mountNode,e.modalRef,r,!0);var i=Yb(this.containers,(function(e){return e.container===t}));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblingNodes:r}),n)}},{key:"mount",value:function(e,t){var n=Yb(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=Xb(r,t))}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(-1===t)return t;var n=Yb(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.restore&&r.restore(),e.modalRef&&Hb(e.modalRef,!0),$b(r.container,e.mountNode,e.modalRef,r.hiddenSiblingNodes,!1),this.containers.splice(n,1);else{var i=r.modals[r.modals.length-1];i.modalRef&&Hb(i.modalRef,!1)}return t}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}();const Zb=function(n){var r=n.children,i=n.disableAutoFocus,o=void 0!==i&&i,a=n.disableEnforceFocus,s=void 0!==a&&a,u=n.disableRestoreFocus,c=void 0!==u&&u,l=n.getDoc,f=n.isEnabled,h=n.open,d=e.useRef(),p=e.useRef(null),v=e.useRef(null),y=e.useRef(),m=e.useRef(null),g=e.useCallback((function(e){m.current=t.findDOMNode(e)}),[]),b=zb(r.ref,g),w=e.useRef();return e.useEffect((function(){w.current=h}),[h]),!w.current&&h&&"undefined"!=typeof window&&(y.current=l().activeElement),e.useEffect((function(){if(h){var e=jb(m.current);o||!m.current||m.current.contains(e.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex",-1),m.current.focus());var t=function(){null!==m.current&&(e.hasFocus()&&!s&&f()&&!d.current?m.current&&!m.current.contains(e.activeElement)&&m.current.focus():d.current=!1)},n=function(t){!s&&f()&&9===t.keyCode&&e.activeElement===m.current&&(d.current=!0,t.shiftKey?v.current.focus():p.current.focus())};e.addEventListener("focus",t,!0),e.addEventListener("keydown",n,!0);var r=setInterval((function(){t()}),50);return function(){clearInterval(r),e.removeEventListener("focus",t,!0),e.removeEventListener("keydown",n,!0),c||(y.current&&y.current.focus&&y.current.focus(),y.current=null)}}}),[o,s,c,f,h]),e.createElement(e.Fragment,null,e.createElement("div",{tabIndex:0,ref:p,"data-test":"sentinelStart"}),e.cloneElement(r,{ref:b}),e.createElement("div",{tabIndex:0,ref:v,"data-test":"sentinelEnd"}))};var ew={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}};const tw=e.forwardRef((function(t,n){var r=t.invisible,i=void 0!==r&&r,o=t.open,s=ne(t,["invisible","open"]);return o?e.createElement("div",a({"aria-hidden":!0,ref:n},s,{style:a({},ew.root,i?ew.invisible:{},s.style)})):null}));var nw=new Jb;const rw=e.forwardRef((function(n,r){var i=wt(),o=Ub({name:"MuiModal",props:a({},n),theme:i}),s=o.BackdropComponent,u=void 0===s?tw:s,c=o.BackdropProps,l=o.children,f=o.closeAfterTransition,h=void 0!==f&&f,d=o.container,p=o.disableAutoFocus,v=void 0!==p&&p,y=o.disableBackdropClick,m=void 0!==y&&y,g=o.disableEnforceFocus,b=void 0!==g&&g,w=o.disableEscapeKeyDown,E=void 0!==w&&w,S=o.disablePortal,k=void 0!==S&&S,_=o.disableRestoreFocus,x=void 0!==_&&_,T=o.disableScrollLock,I=void 0!==T&&T,C=o.hideBackdrop,N=void 0!==C&&C,P=o.keepMounted,A=void 0!==P&&P,O=o.manager,R=void 0===O?nw:O,D=o.onBackdropClick,L=o.onClose,M=o.onEscapeKeyDown,F=o.onRendered,U=o.open,j=ne(o,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),V=e.useState(!0),z=V[0],q=V[1],B=e.useRef({}),K=e.useRef(null),W=e.useRef(null),G=zb(W,r),H=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(o),Q=function(){return jb(K.current)},$=function(){return B.current.modalRef=W.current,B.current.mountNode=K.current,B.current},Y=function(){R.mount($(),{disableScrollLock:I}),W.current.scrollTop=0},X=Gb((function(){var e=function(e){return e="function"==typeof e?e():e,t.findDOMNode(e)}(d)||Q().body;R.add($(),e),W.current&&Y()})),J=e.useCallback((function(){return R.isTopModal($())}),[R]),Z=Gb((function(e){K.current=e,e&&(F&&F(),U&&J()?Y():Hb(W.current,!0))})),ee=e.useCallback((function(){R.remove($())}),[R]);if(e.useEffect((function(){return function(){ee()}}),[ee]),e.useEffect((function(){U?X():H&&h||ee()}),[U,ee,H,h,X]),!A&&!U&&(!H||z))return null;var te=function(e){return{root:{position:"fixed",zIndex:e.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}}(i||{zIndex:di}),re={};return void 0===l.props.tabIndex&&(re.tabIndex=l.props.tabIndex||"-1"),H&&(re.onEnter=Kb((function(){q(!1)}),l.props.onEnter),re.onExited=Kb((function(){q(!0),h&&ee()}),l.props.onExited)),e.createElement(Bb,{ref:Z,container:d,disablePortal:k},e.createElement("div",a({ref:G,onKeyDown:function(e){"Escape"===e.key&&J()&&(M&&M(e),E||(e.stopPropagation(),L&&L(e,"escapeKeyDown")))},role:"presentation"},j,{style:a({},te.root,!U&&z?te.hidden:{},j.style)}),N?null:e.createElement(u,a({open:U,onClick:function(e){e.target===e.currentTarget&&(D&&D(e),!m&&L&&L(e,"backdropClick"))}},c)),e.createElement(Zb,{disableEnforceFocus:b,disableAutoFocus:v,disableRestoreFocus:x,getDoc:Q,isEnabled:J,open:U},e.cloneElement(l,re))))}));var iw=n(2355),ow=new(n.n(iw)()),aw=vi((function(e){return{paper:{width:900,margin:"30px auto",backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},reviewTable:{margin:"0 auto",display:"flex",justifyContent:"center",flexWrap:"wrap",width:1400}}}));const sw=function(){var t=aw(),n=(0,e.useContext)(Q),r=n.state,i=(n.dispatch,(0,e.useState)([])),o=i[0],a=i[1],s=(0,e.useState)({dynamicFaceIcon:"",title:"",canvasImage:"",EmotionalFaceIcon:[],comments:[],emotions:[]}),u=s[0],c=s[1],l=(0,e.useState)(!1),f=l[0],h=l[1];(0,e.useEffect)((function(){d()}),[]);var d=function(){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var e,t;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(n){switch(n.label){case 0:return[4,Fb.firestore().collection("reviews").get()];case 1:return e=n.sent(),t=e.docs.map((function(e){return e.data()})),a(t),[2]}}))}))},p=function(e){c(e),h(!0)},v=function(){h(!1)},y=te.createElement("div",{className:t.paper},te.createElement("div",null,te.createElement("div",{className:"c-modal_content_inner__header"},te.createElement("div",{className:"c-modal_content_inner__header__faceicon"},te.createElement("img",{src:u.dynamicFaceIcon,alt:""})),te.createElement("div",{className:"c-modal_content_inner__header__title"},te.createElement("h2",null,u.title))),u.EmotionalFaceIcon.map((function(e,t){return te.createElement("div",{className:"c-modal_content_inner__content"},te.createElement("div",{className:"c-modal_content_inner__content__columns"},te.createElement("div",{className:"c-modal_content_inner__content__columns__faceicon"},te.createElement("img",{src:e,alt:""})),te.createElement("div",{className:"c-modal_content_inner__content__columns__comment"},te.createElement("p",null,u.comments[t+1]))))}))));return te.createElement("div",{className:t.reviewTable},r.filterFaceIcon,o.map((function(e,t){if(e.emotions.includes(r.filterEmotion)||""===r.filterEmotion){if(0===r.filterDTW.timeSeriesDataX.length)return te.createElement("div",{key:t},te.createElement(mi,{title:e.title,faceIconURL:e.canvasImage,onClick:function(){return p(e)}}));var n=ow.compute(r.filterDTW.timeSeriesDataX,e.dataX),i=ow.compute(r.filterDTW.timeSeriesDataY,e.dataY);if(console.log(n+i),n+i<=3e5)return te.createElement("div",{key:t},te.createElement(mi,{title:e.title,faceIconURL:e.canvasImage,onClick:function(){return p(e)}}))}})),function(){if(f)return te.createElement(rw,{open:f,onClose:v,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},y)}())};function uw(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=uw(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function cw(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=uw(e))&&(r&&(r+=" "),r+=t);return r}const lw=function(t,n){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(r){var i=n.defaultTheme,o=n.withTheme,s=void 0!==o&&o,u=n.name,c=ne(n,["defaultTheme","withTheme","name"]),l=u,f=cr(t,a({defaultTheme:i,Component:r,name:u||r.displayName,classNamePrefix:l},c)),h=e.forwardRef((function(t,n){t.classes;var o,c=t.innerRef,l=ne(t,["classes","innerRef"]),h=f(a({},r.defaultProps,t)),d=l;return("string"==typeof u||s)&&(o=wt()||i,u&&(d=Ub({theme:o,name:u,props:l})),s&&!d.theme&&(d.theme=o)),e.createElement(r,a({ref:c||n,classes:h},d))}));return P()(h,r),h}}(t,a({defaultTheme:pi},n))};var fw=!0,hw=!1,dw=null,pw={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function vw(e){e.metaKey||e.altKey||e.ctrlKey||(fw=!0)}function yw(){fw=!1}function mw(){"hidden"===this.visibilityState&&hw&&(fw=!0)}function gw(e){var t,n,r,i=e.target;try{return i.matches(":focus-visible")}catch(e){}return fw||(n=(t=i).type,!("INPUT"!==(r=t.tagName)||!pw[n]||t.readOnly)||"TEXTAREA"===r&&!t.readOnly||!!t.isContentEditable)}function bw(){hw=!0,window.clearTimeout(dw),dw=window.setTimeout((function(){hw=!1}),100)}function ww(){return{isFocusVisible:gw,onBlurVisible:bw,ref:e.useCallback((function(e){var n,r=t.findDOMNode(e);null!=r&&((n=r.ownerDocument).addEventListener("keydown",vw,!0),n.addEventListener("mousedown",yw,!0),n.addEventListener("pointerdown",yw,!0),n.addEventListener("touchstart",yw,!0),n.addEventListener("visibilitychange",mw,!0))}),[])}}const Ew=e.createContext(null);function Sw(t,n){var r=Object.create(null);return t&&e.Children.map(t,(function(e){return e})).forEach((function(t){r[t.key]=function(t){return n&&(0,e.isValidElement)(t)?n(t):t}(t)})),r}function kw(e,t,n){return null!=n[t]?n[t]:e.props[t]}function _w(t,n,r){var i=Sw(t.children),o=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var a in e)a in t?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var u in t){if(i[u])for(r=0;r<i[u].length;r++){var c=i[u][r];s[i[u][r]]=n(c)}s[u]=n(u)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}(n,i);return Object.keys(o).forEach((function(a){var s=o[a];if((0,e.isValidElement)(s)){var u=a in n,c=a in i,l=n[a],f=(0,e.isValidElement)(l)&&!l.props.in;!c||u&&!f?c||!u||f?c&&u&&(0,e.isValidElement)(l)&&(o[a]=(0,e.cloneElement)(s,{onExited:r.bind(null,s),in:l.props.in,exit:kw(s,"exit",t),enter:kw(s,"enter",t)})):o[a]=(0,e.cloneElement)(s,{in:!1}):o[a]=(0,e.cloneElement)(s,{onExited:r.bind(null,s),in:!0,exit:kw(s,"exit",t),enter:kw(s,"enter",t)})}})),o}var xw=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},Tw=function(t){function n(e,n){var r,i=(r=t.call(this,e,n)||this).handleExited.bind(se(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}r(n,t);var i=n.prototype;return i.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},i.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(t,n){var r,i,o=n.children,a=n.handleExited;return{children:n.firstRender?(r=t,i=a,Sw(r.children,(function(t){return(0,e.cloneElement)(t,{onExited:i.bind(null,t),in:!0,appear:kw(t,"appear",r),enter:kw(t,"enter",r),exit:kw(t,"exit",r)})}))):_w(t,o,a),firstRender:!1}},i.handleExited=function(e,t){var n=Sw(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=a({},t.children);return delete n[e.key],{children:n}})))},i.render=function(){var t=this.props,n=t.component,r=t.childFactory,i=C(t,["component","childFactory"]),o=this.state.contextValue,a=xw(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?e.createElement(Ew.Provider,{value:o},a):e.createElement(Ew.Provider,{value:o},e.createElement(n,i,a))},n}(e.Component);Tw.propTypes={},Tw.defaultProps={component:"div",childFactory:function(e){return e}};const Iw=Tw;var Cw="undefined"==typeof window?e.useEffect:e.useLayoutEffect;const Nw=function(t){var n=t.classes,r=t.pulsate,i=void 0!==r&&r,o=t.rippleX,a=t.rippleY,s=t.rippleSize,u=t.in,c=t.onExited,l=void 0===c?function(){}:c,f=t.timeout,h=e.useState(!1),d=h[0],p=h[1],v=cw(n.ripple,n.rippleVisible,i&&n.ripplePulsate),y={width:s,height:s,top:-s/2+a,left:-s/2+o},m=cw(n.child,d&&n.childLeaving,i&&n.childPulsate),g=Gb(l);return Cw((function(){if(!u){p(!0);var e=setTimeout(g,f);return function(){clearTimeout(e)}}}),[g,u,f]),e.createElement("span",{className:v,style:y},e.createElement("span",{className:m}))};var Pw=e.forwardRef((function(t,n){var r=t.center,i=void 0!==r&&r,o=t.classes,s=t.className,u=ne(t,["center","classes","className"]),c=e.useState([]),l=c[0],f=c[1],h=e.useRef(0),d=e.useRef(null);e.useEffect((function(){d.current&&(d.current(),d.current=null)}),[l]);var p=e.useRef(!1),v=e.useRef(null),y=e.useRef(null),m=e.useRef(null);e.useEffect((function(){return function(){clearTimeout(v.current)}}),[]);var g=e.useCallback((function(t){var n=t.pulsate,r=t.rippleX,i=t.rippleY,a=t.rippleSize,s=t.cb;f((function(t){return[].concat($t(t),[e.createElement(Nw,{key:h.current,classes:o,timeout:550,pulsate:n,rippleX:r,rippleY:i,rippleSize:a})])})),h.current+=1,d.current=s}),[o]),b=e.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,o=void 0!==r&&r,a=t.center,s=void 0===a?i||t.pulsate:a,u=t.fakeElement,c=void 0!==u&&u;if("mousedown"===e.type&&p.current)p.current=!1;else{"touchstart"===e.type&&(p.current=!0);var l,f,h,d=c?null:m.current,b=d?d.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(s||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(b.width/2),f=Math.round(b.height/2);else{var w=e.touches?e.touches[0]:e,E=w.clientX,S=w.clientY;l=Math.round(E-b.left),f=Math.round(S-b.top)}if(s)(h=Math.sqrt((2*Math.pow(b.width,2)+Math.pow(b.height,2))/3))%2==0&&(h+=1);else{var k=2*Math.max(Math.abs((d?d.clientWidth:0)-l),l)+2,_=2*Math.max(Math.abs((d?d.clientHeight:0)-f),f)+2;h=Math.sqrt(Math.pow(k,2)+Math.pow(_,2))}e.touches?null===y.current&&(y.current=function(){g({pulsate:o,rippleX:l,rippleY:f,rippleSize:h,cb:n})},v.current=setTimeout((function(){y.current&&(y.current(),y.current=null)}),80)):g({pulsate:o,rippleX:l,rippleY:f,rippleSize:h,cb:n})}}),[i,g]),w=e.useCallback((function(){b({},{pulsate:!0})}),[b]),E=e.useCallback((function(e,t){if(clearTimeout(v.current),"touchend"===e.type&&y.current)return e.persist(),y.current(),y.current=null,void(v.current=setTimeout((function(){E(e,t)})));y.current=null,f((function(e){return e.length>0?e.slice(1):e})),d.current=t}),[]);return e.useImperativeHandle(n,(function(){return{pulsate:w,start:b,stop:E}}),[w,b,E]),e.createElement("span",a({className:cw(o.root,s),ref:m},u),e.createElement(Iw,{component:null,exit:!0},l))}));const Aw=lw((function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}}),{flip:!1,name:"MuiTouchRipple"})(e.memo(Pw));var Ow=e.forwardRef((function(n,r){var i=n.action,o=n.buttonRef,s=n.centerRipple,u=void 0!==s&&s,c=n.children,l=n.classes,f=n.className,h=n.component,d=void 0===h?"button":h,p=n.disabled,v=void 0!==p&&p,y=n.disableRipple,m=void 0!==y&&y,g=n.disableTouchRipple,b=void 0!==g&&g,w=n.focusRipple,E=void 0!==w&&w,S=n.focusVisibleClassName,k=n.onBlur,_=n.onClick,x=n.onFocus,T=n.onFocusVisible,I=n.onKeyDown,C=n.onKeyUp,N=n.onMouseDown,P=n.onMouseLeave,A=n.onMouseUp,O=n.onTouchEnd,R=n.onTouchMove,D=n.onTouchStart,L=n.onDragLeave,M=n.tabIndex,F=void 0===M?0:M,U=n.TouchRippleProps,j=n.type,V=void 0===j?"button":j,z=ne(n,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),q=e.useRef(null),B=e.useRef(null),K=e.useState(!1),W=K[0],G=K[1];v&&W&&G(!1);var H=ww(),Q=H.isFocusVisible,$=H.onBlurVisible,Y=H.ref;function X(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b;return Gb((function(r){return t&&t(r),!n&&B.current&&B.current[e](r),!0}))}e.useImperativeHandle(i,(function(){return{focusVisible:function(){G(!0),q.current.focus()}}}),[]),e.useEffect((function(){W&&E&&!m&&B.current.pulsate()}),[m,E,W]);var J=X("start",N),Z=X("stop",L),ee=X("stop",A),te=X("stop",(function(e){W&&e.preventDefault(),P&&P(e)})),re=X("start",D),ie=X("stop",O),oe=X("stop",R),ae=X("stop",(function(e){W&&($(e),G(!1)),k&&k(e)}),!1),se=Gb((function(e){q.current||(q.current=e.currentTarget),Q(e)&&(G(!0),T&&T(e)),x&&x(e)})),ue=function(){var e=t.findDOMNode(q.current);return d&&"button"!==d&&!("A"===e.tagName&&e.href)},ce=e.useRef(!1),le=Gb((function(e){E&&!ce.current&&W&&B.current&&" "===e.key&&(ce.current=!0,e.persist(),B.current.stop(e,(function(){B.current.start(e)}))),e.target===e.currentTarget&&ue()&&" "===e.key&&e.preventDefault(),I&&I(e),e.target===e.currentTarget&&ue()&&"Enter"===e.key&&!v&&(e.preventDefault(),_&&_(e))})),fe=Gb((function(e){E&&" "===e.key&&B.current&&W&&!e.defaultPrevented&&(ce.current=!1,e.persist(),B.current.stop(e,(function(){B.current.pulsate(e)}))),C&&C(e),_&&e.target===e.currentTarget&&ue()&&" "===e.key&&!e.defaultPrevented&&_(e)})),he=d;"button"===he&&z.href&&(he="a");var de={};"button"===he?(de.type=V,de.disabled=v):("a"===he&&z.href||(de.role="button"),de["aria-disabled"]=v);var pe=zb(o,r),ve=zb(Y,q),ye=zb(pe,ve),me=e.useState(!1),ge=me[0],be=me[1];e.useEffect((function(){be(!0)}),[]);var we=ge&&!m&&!v;return e.createElement(he,a({className:cw(l.root,f,W&&[l.focusVisible,S],v&&l.disabled),onBlur:ae,onClick:_,onFocus:se,onKeyDown:le,onKeyUp:fe,onMouseDown:J,onMouseLeave:te,onMouseUp:ee,onDragLeave:Z,onTouchEnd:ie,onTouchMove:oe,onTouchStart:re,ref:ye,tabIndex:v?-1:F},de,z),c,we?e.createElement(Aw,a({ref:B,center:u},U)):null)}));const Rw=lw({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(Ow);function Dw(e){if("string"!=typeof e)throw new Error(pr(7));return e.charAt(0).toUpperCase()+e.slice(1)}var Lw=e.forwardRef((function(t,n){var r=t.children,i=t.classes,o=t.className,s=t.color,u=void 0===s?"default":s,c=t.component,l=void 0===c?"button":c,f=t.disabled,h=void 0!==f&&f,d=t.disableElevation,p=void 0!==d&&d,v=t.disableFocusRipple,y=void 0!==v&&v,m=t.endIcon,g=t.focusVisibleClassName,b=t.fullWidth,w=void 0!==b&&b,E=t.size,S=void 0===E?"medium":E,k=t.startIcon,_=t.type,x=void 0===_?"button":_,T=t.variant,I=void 0===T?"text":T,C=ne(t,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),N=k&&e.createElement("span",{className:cw(i.startIcon,i["iconSize".concat(Dw(S))])},k),P=m&&e.createElement("span",{className:cw(i.endIcon,i["iconSize".concat(Dw(S))])},m);return e.createElement(Rw,a({className:cw(i.root,i[I],o,"inherit"===u?i.colorInherit:"default"!==u&&i["".concat(I).concat(Dw(u))],"medium"!==S&&[i["".concat(I,"Size").concat(Dw(S))],i["size".concat(Dw(S))]],p&&i.disableElevation,h&&i.disabled,w&&i.fullWidth),component:l,disabled:h,focusRipple:!y,focusVisibleClassName:cw(i.focusVisible,g),ref:n,type:x},C),e.createElement("span",{className:i.label},N,r,P))}));const Mw=lw((function(e){return{root:a({},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:jr(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:jr(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:jr(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat(jr(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:jr(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat(jr(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:jr(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}}),{name:"MuiButton"})(Lw);var Fw;!function(e){e.BLACK="black",e.BLUE="#629BEAa",e.RED="#FF5823"}(Fw||(Fw={}));var Uw={startPosX:0,startPosY:0,bezierControlPosX:0,bezierControlPosY:0,endPosX:0,endPosY:0,maxUShapePos:0,lineWidth:0},jw={startPosX:0,startPosY:0,endPosX:0,endPosY:0,lineWidth:0,maxEndHeight:0},Vw={startPosX:0,startPosY:0,endPosX:0,endPosY:0,lineWidth:0,maxEndHeight:0},zw={pos:0,size:0},qw={pos:0,size:0},Bw={width:0,height:0},Kw=[],Ww=[],Gw=vi((function(e){return{coordinate:{display:"flex",justifyContent:"space-evenly",alignItems:"center"}}}));const Hw=function(){var t=Gw(),n=(0,e.useContext)(Q),r=(n.state,n.dispatch),i=(0,e.useState)(null),o=i[0],a=i[1],s=(0,e.useState)(null),u=s[0],c=s[1],l=(0,e.useState)(null),f=l[0],h=l[1],d=(0,e.useState)(null),p=d[0],v=d[1],y=(0,e.useState)(null),m=y[0],g=y[1],b=(0,e.useState)(null),w=b[0],E=b[1],S=(0,e.useState)(!1),k=S[0],_=S[1];(0,e.useEffect)((function(){var e=document.getElementById("coordinate");c(e);var t=e.getContext("2d");a(t);var n=document.getElementById("facial-parts");v(n);var r=n.getContext("2d");h(r);var i=document.getElementById("review-area__main__make-face-field__Top__emotion-face");g(i);var o=document.getElementById("coordinate");E(o)}),[]),(0,e.useEffect)((function(){if(null!==o){var e=new Image;e.src="../images/Cordinate.png",e.onload=function(){o&&o.drawImage(e,0,0,u.width,e.height*u.width/e.width)}}_(!0)}),[o]),(0,e.useEffect)((function(){k&&(I(),R())}),[k]);var x,T,I=function(){var e=new Image;e.src="../images/Cordinate.png",e.onload=function(){o&&o.drawImage(e,0,0,u.width,e.height*u.width/e.width)}},C=!1,N=0,P=0,A=0,O=function(e,t){f&&f.clearRect(0,0,f.canvas.clientWidth,f.canvas.clientHeight),function(e){var t=e*(2*Uw.maxUShapePos)/Bw.width;t>Uw.maxUShapePos||e<Bw.height/2?t-=Uw.maxUShapePos:t=0,f&&(f.beginPath(),f.strokeStyle=Fw.BLACK,f.lineWidth=Uw.lineWidth,f.lineCap="round",f.globalCompositeOperation="source-over",f.moveTo(Uw.startPosX,Uw.endPosY),f.quadraticCurveTo(Uw.bezierControlPosX,Uw.bezierControlPosY+t,Uw.endPosX,Uw.endPosY),f.stroke())}(e),f&&(f.strokeStyle="#333",f.fillStyle="#000",f.beginPath(),f.arc(p.clientWidth/2+zw.pos,p.clientHeight/2,10,0,2*Math.PI),f.closePath(),f.fill(),f.beginPath(),f.arc(p.clientWidth/2-qw.pos,p.clientHeight/2,10,0,2*Math.PI),f.closePath(),f.fill()),function(e){var t=e*(2*Vw.maxEndHeight)/Bw.height;t>Vw.maxEndHeight||e<Bw.height/2?t-=Vw.maxEndHeight:t=0,f&&(f.beginPath(),f.strokeStyle="black",f.lineWidth=jw.lineWidth,f.lineCap="round",f.globalCompositeOperation="source-over",f.moveTo(jw.startPosX,jw.startPosY+t),f.lineTo(jw.endPosX,jw.endPosY),f.stroke(),f.beginPath(),f.strokeStyle="black",f.lineWidth=Vw.lineWidth,f.lineCap="round",f.globalCompositeOperation="source-over",f.moveTo(Vw.startPosX,Vw.startPosY+t),f.lineTo(Vw.endPosX,Vw.endPosY),f.stroke())}(t)},R=function(){if(m)if(w){m.style.backgroundColor=function(e,t,n){return"rgb("+[e||0,t||0,n||0].join(",")+")"}(255,194,0),Bw.width=w.clientWidth,Bw.height=w.clientHeight;var e=m.clientWidth,t=m.clientWidth,n=e/2,r=t/2,i=e/5,o=t/4;Uw.startPosX=n-i,Uw.startPosY=r+o,Uw.bezierControlPosX=n,Uw.bezierControlPosY=r+o,Uw.endPosX=n+i,Uw.endPosY=r+o,Uw.maxUShapePos=e/3,Uw.lineWidth=3,jw.lineWidth=2.25,jw.startPosX=n-33.75,jw.startPosY=r-24.75,jw.endPosX=n-15,jw.endPosY=r-24.75,jw.maxEndHeight=t/13*.75,Vw.lineWidth=2.25,Vw.startPosX=n+33.75,Vw.startPosY=r-24.75,Vw.endPosX=n+15,Vw.endPosY=r-24.75,Vw.maxEndHeight=t/9.75,zw.size=18.75,zw.pos=26.25,qw.size=18.75,qw.pos=26.25,O(Bw.height/2,Bw.height/2)}else console.log("ERR! coordinate div-element does not exit");else console.log("ERR! emotion-face div-element does not exit")};return te.createElement("div",{className:t.coordinate},te.createElement("div",{id:"review-area__main__make-face-field__Top__emotion-face"},te.createElement("canvas",{id:"facial-parts",width:"150",height:"150"})),te.createElement("canvas",{width:"400",height:"400",id:"coordinate",onMouseDown:function(e){return function(e){o&&(o.clearRect(0,0,o.canvas.clientWidth,o.canvas.clientHeight),I()),C=!0,x=e.nativeEvent.offsetX,T=e.nativeEvent.offsetY,o&&(o.beginPath(),o.strokeStyle="blue",o.lineWidth=20,o.lineCap="round",o.globalCompositeOperation="source-over",o.lineTo(x,T),o.stroke(),f&&(O(e.nativeEvent.offsetX,e.nativeEvent.offsetY),e.nativeEvent.offsetX,e.nativeEvent.offsetY))}(e)},onMouseUp:function(e){return function(e){C=!1,o&&(o.beginPath(),o.strokeStyle="red",o.lineWidth=20,o.lineCap="round",o.globalCompositeOperation="source-over",o.lineTo(e.nativeEvent.offsetX,e.nativeEvent.offsetY),o.stroke()),r({type:Z,timeSeriesData:{timeSeriesDataX:Kw,timeSeriesDataY:Ww}}),Kw=[],Ww=[]}(e)},onMouseMove:function(e){return function(e){if(C){if(P=Date.now(),(A+=P-N)>33.333333333333336){var t=e.nativeEvent.offsetX,n=e.nativeEvent.offsetY;o&&(o.beginPath(),o.strokeStyle=Fw.BLACK,o.lineWidth=2,o.lineCap="round",o.globalCompositeOperation="source-over",o.moveTo(t,n),o.lineTo(x,T),o.stroke(),f&&(O(t,n),Kw.push(t),Ww.push(n))),x=t,T=n,A=0}N=Date.now()}}(e)}}))};var Qw=vi((function(e){return{freeDescriptionReview:{width:700,margin:"0 auto",marginBottom:200,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),display:"flex",flexDirection:"column"},review:{margin:"0 auto",alignItems:"center"},review__title:{width:640,marginBottom:50},review__title__input:{width:640,height:30,fontSize:15},review__content:{},review__content__textarea:{width:640,height:260,maxWidth:640,maxHeight:260,fontSize:15},okButton:{margin:"0 auto",textAlign:"center",backgroundColor:"#5b71f5",color:"white",fontWeight:"bold",fontSize:15,border:"solid 2px",width:110,height:50,cursor:"pointer",transition:"all 0.2s","&:hover":{backgroundColor:"white",color:"#5b71f5"}}}}));const $w=function(){var t=Qw(),n=(0,e.useState)(!1),r=n[0],i=n[1],o=(0,e.useState)(""),a=o[0],s=o[1],u=(0,e.useState)(""),c=u[0],l=u[1],f=(0,e.useState)(""),h=f[0],d=f[1],p=(0,e.useState)(""),v=p[0],y=p[1];return te.createElement("div",{className:t.freeDescriptionReview},r?te.createElement("div",null,te.createElement("h2",null,""),te.createElement("p",null,"")):te.createElement("div",null,te.createElement("h2",null,""),te.createElement("div",{className:t.review},te.createElement("div",{className:t.review__title},te.createElement("h3",null,""),te.createElement("input",{className:t.review__title__input,type:"text",onChange:function(e){return function(e){s(e.target.value)}(e)},placeholder:""})),te.createElement("div",{className:t.review__title},te.createElement("h3",null,""),te.createElement("input",{className:t.review__title__input,type:"text",onChange:function(e){return function(e){l(e.target.value)}(e)},placeholder:""})),te.createElement("div",{className:t.review__title},te.createElement("h3",null,""),te.createElement("input",{className:t.review__title__input,type:"text",onChange:function(e){return function(e){d(e.target.value)}(e)},placeholder:""})),te.createElement("div",{className:t.review__content},te.createElement("h3",null,""),te.createElement("textarea",{className:t.review__content__textarea,onChange:function(e){return function(e){y(e.target.value)}(e)},placeholder:"",cols:6,rows:4}))),te.createElement("div",{className:t.okButton,onClick:function(){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var e;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(t){switch(t.label){case 0:return e={reviewerName:a,movieTitle:c,reviewTitle:h,reviewContent:v},[4,Fb.firestore().collection("freeReviews").add(e)];case 1:return t.sent(),i(!0),[2]}}))}))}},te.createElement("p",null,""))))};var Yw=vi((function(e){return{paper:{width:800,margin:"30px auto",backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));t.render(e.createElement(e.StrictMode,null,e.createElement((function(){var t=(0,e.useReducer)(ee,{filterEmotion:"",filterFaceIcon:[],filterDTW:{timeSeriesDataX:[],timeSeriesDataY:[]}}),n=t[0],r=t[1],i=Yw(),o=(0,e.useState)(!1),a=o[0],s=o[1],u=function(e){r({type:J,filterEmotion:e})},c=function(){s(!1)},l=e.createElement("div",{className:i.paper},e.createElement("div",null,e.createElement(Hw,null),e.createElement(Mw,{variant:"contained",color:"secondary",onClick:function(){c()}},""))),f=e.createElement("div",{className:"App"},e.createElement("div",{className:"ReivewArea"},e.createElement("h3",null,""," "),e.createElement("div",{className:"filterButtons"},e.createElement(Mw,{variant:"contained",color:"secondary",onClick:function(){return u("Angry")}},""),e.createElement(Mw,{variant:"contained",color:"primary",onClick:function(){return u("Sad")}},""),e.createElement(Mw,{variant:"contained",color:"inherit",onClick:function(){return u("Happy")}},""),e.createElement(Mw,{variant:"contained",color:"inherit",onClick:function(){return u("Pleasure")}},""),e.createElement(Mw,{variant:"contained",color:"inherit",onClick:function(){s(!0)}},"")),function(){if(a)return e.createElement(rw,{open:a,onClose:c,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},l)}(),e.createElement(sw,null)));return e.createElement(Q.Provider,{value:{state:n,dispatch:r}},e.createElement(j,null,e.createElement(U,null,e.createElement(F,{path:"/reviews"},f),e.createElement(F,{path:"/free-review"},e.createElement($w,null)),e.createElement(F,{path:"/"},e.createElement(Hw,null)))))}),null)),document.getElementById("root"))})()})();
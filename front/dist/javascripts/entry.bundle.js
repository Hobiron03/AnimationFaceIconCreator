/*! For license information please see entry.bundle.js.LICENSE.txt */
(()=>{var t={9669:(t,e,n)=>{t.exports=n(1609)},5448:(t,e,n)=>{"use strict";var r=n(4867),A=n(6026),i=n(4372),o=n(5327),s=n(4097),a=n(4109),u=n(7985),c=n(5061);t.exports=function(t){return new Promise((function(e,n){var l=t.data,h=t.headers;r.isFormData(l)&&delete h["Content-Type"];var f=new XMLHttpRequest;if(t.auth){var d=t.auth.username||"",p=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";h.Authorization="Basic "+btoa(d+":"+p)}var g=s(t.baseURL,t.url);if(f.open(t.method.toUpperCase(),o(g,t.params,t.paramsSerializer),!0),f.timeout=t.timeout,f.onreadystatechange=function(){if(f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in f?a(f.getAllResponseHeaders()):null,i={data:t.responseType&&"text"!==t.responseType?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:r,config:t,request:f};A(e,n,i),f=null}},f.onabort=function(){f&&(n(c("Request aborted",t,"ECONNABORTED",f)),f=null)},f.onerror=function(){n(c("Network Error",t,null,f)),f=null},f.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(c(e,t,"ECONNABORTED",f)),f=null},r.isStandardBrowserEnv()){var B=(t.withCredentials||u(g))&&t.xsrfCookieName?i.read(t.xsrfCookieName):void 0;B&&(h[t.xsrfHeaderName]=B)}if("setRequestHeader"in f&&r.forEach(h,(function(t,e){void 0===l&&"content-type"===e.toLowerCase()?delete h[e]:f.setRequestHeader(e,t)})),r.isUndefined(t.withCredentials)||(f.withCredentials=!!t.withCredentials),t.responseType)try{f.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&f.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){f&&(f.abort(),n(t),f=null)})),l||(l=null),f.send(l)}))}},1609:(t,e,n)=>{"use strict";var r=n(4867),A=n(1849),i=n(321),o=n(7185);function s(t){var e=new i(t),n=A(i.prototype.request,e);return r.extend(n,i.prototype,e),r.extend(n,e),n}var a=s(n(5655));a.Axios=i,a.create=function(t){return s(o(a.defaults,t))},a.Cancel=n(5263),a.CancelToken=n(4972),a.isCancel=n(6502),a.all=function(t){return Promise.all(t)},a.spread=n(8713),a.isAxiosError=n(6268),t.exports=a,t.exports.default=a},5263:t=>{"use strict";function e(t){this.message=t}e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,t.exports=e},4972:(t,e,n)=>{"use strict";var r=n(5263);function A(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;t((function(t){n.reason||(n.reason=new r(t),e(n.reason))}))}A.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},A.source=function(){var t;return{token:new A((function(e){t=e})),cancel:t}},t.exports=A},6502:t=>{"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},321:(t,e,n)=>{"use strict";var r=n(4867),A=n(5327),i=n(782),o=n(3572),s=n(7185);function a(t){this.defaults=t,this.interceptors={request:new i,response:new i}}a.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[o,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)n=n.then(e.shift(),e.shift());return n},a.prototype.getUri=function(t){return t=s(this.defaults,t),A(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(t){a.prototype[t]=function(e,n){return this.request(s(n||{},{method:t,url:e,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(t){a.prototype[t]=function(e,n,r){return this.request(s(r||{},{method:t,url:e,data:n}))}})),t.exports=a},782:(t,e,n)=>{"use strict";var r=n(4867);function A(){this.handlers=[]}A.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},A.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},A.prototype.forEach=function(t){r.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=A},4097:(t,e,n)=>{"use strict";var r=n(1793),A=n(7303);t.exports=function(t,e){return t&&!r(e)?A(t,e):e}},5061:(t,e,n)=>{"use strict";var r=n(481);t.exports=function(t,e,n,A,i){var o=new Error(t);return r(o,e,n,A,i)}},3572:(t,e,n)=>{"use strict";var r=n(4867),A=n(8527),i=n(6502),o=n(5655);function s(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return s(t),t.headers=t.headers||{},t.data=A(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||o.adapter)(t).then((function(e){return s(t),e.data=A(e.data,e.headers,t.transformResponse),e}),(function(e){return i(e)||(s(t),e&&e.response&&(e.response.data=A(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},481:t=>{"use strict";t.exports=function(t,e,n,r,A){return t.config=e,n&&(t.code=n),t.request=r,t.response=A,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},7185:(t,e,n)=>{"use strict";var r=n(4867);t.exports=function(t,e){e=e||{};var n={},A=["url","method","data"],i=["headers","auth","proxy","params"],o=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function a(t,e){return r.isPlainObject(t)&&r.isPlainObject(e)?r.merge(t,e):r.isPlainObject(e)?r.merge({},e):r.isArray(e)?e.slice():e}function u(A){r.isUndefined(e[A])?r.isUndefined(t[A])||(n[A]=a(void 0,t[A])):n[A]=a(t[A],e[A])}r.forEach(A,(function(t){r.isUndefined(e[t])||(n[t]=a(void 0,e[t]))})),r.forEach(i,u),r.forEach(o,(function(A){r.isUndefined(e[A])?r.isUndefined(t[A])||(n[A]=a(void 0,t[A])):n[A]=a(void 0,e[A])})),r.forEach(s,(function(r){r in e?n[r]=a(t[r],e[r]):r in t&&(n[r]=a(void 0,t[r]))}));var c=A.concat(i).concat(o).concat(s),l=Object.keys(t).concat(Object.keys(e)).filter((function(t){return-1===c.indexOf(t)}));return r.forEach(l,u),n}},6026:(t,e,n)=>{"use strict";var r=n(5061);t.exports=function(t,e,n){var A=n.config.validateStatus;n.status&&A&&!A(n.status)?e(r("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},8527:(t,e,n)=>{"use strict";var r=n(4867);t.exports=function(t,e,n){return r.forEach(n,(function(n){t=n(t,e)})),t}},5655:(t,e,n)=>{"use strict";var r=n(4867),A=n(6016),i={"Content-Type":"application/x-www-form-urlencoded"};function o(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var s,a={adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(s=n(5448)),s),transformRequest:[function(t,e){return A(e,"Accept"),A(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(o(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(o(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(t){a.headers[t]={}})),r.forEach(["post","put","patch"],(function(t){a.headers[t]=r.merge(i)})),t.exports=a},1849:t=>{"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},5327:(t,e,n)=>{"use strict";var r=n(4867);function A(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var i;if(n)i=n(e);else if(r.isURLSearchParams(e))i=e.toString();else{var o=[];r.forEach(e,(function(t,e){null!=t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,(function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),o.push(A(e)+"="+A(t))})))})),i=o.join("&")}if(i){var s=t.indexOf("#");-1!==s&&(t=t.slice(0,s)),t+=(-1===t.indexOf("?")?"?":"&")+i}return t}},7303:t=>{"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},4372:(t,e,n)=>{"use strict";var r=n(4867);t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,A,i,o){var s=[];s.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(A)&&s.push("path="+A),r.isString(i)&&s.push("domain="+i),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},1793:t=>{"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},6268:t=>{"use strict";t.exports=function(t){return"object"==typeof t&&!0===t.isAxiosError}},7985:(t,e,n)=>{"use strict";var r=n(4867);t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function A(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=A(window.location.href),function(e){var n=r.isString(e)?A(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},6016:(t,e,n)=>{"use strict";var r=n(4867);t.exports=function(t,e){r.forEach(t,(function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])}))}},4109:(t,e,n)=>{"use strict";var r=n(4867),A=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,i,o={};return t?(r.forEach(t.split("\n"),(function(t){if(i=t.indexOf(":"),e=r.trim(t.substr(0,i)).toLowerCase(),n=r.trim(t.substr(i+1)),e){if(o[e]&&A.indexOf(e)>=0)return;o[e]="set-cookie"===e?(o[e]?o[e]:[]).concat([n]):o[e]?o[e]+", "+n:n}})),o):o}},8713:t=>{"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},4867:(t,e,n)=>{"use strict";var r=n(1849),A=Object.prototype.toString;function i(t){return"[object Array]"===A.call(t)}function o(t){return void 0===t}function s(t){return null!==t&&"object"==typeof t}function a(t){if("[object Object]"!==A.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function u(t){return"[object Function]"===A.call(t)}function c(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),i(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var A in t)Object.prototype.hasOwnProperty.call(t,A)&&e.call(null,t[A],A,t)}t.exports={isArray:i,isArrayBuffer:function(t){return"[object ArrayBuffer]"===A.call(t)},isBuffer:function(t){return null!==t&&!o(t)&&null!==t.constructor&&!o(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:s,isPlainObject:a,isUndefined:o,isDate:function(t){return"[object Date]"===A.call(t)},isFile:function(t){return"[object File]"===A.call(t)},isBlob:function(t){return"[object Blob]"===A.call(t)},isFunction:u,isStream:function(t){return s(t)&&u(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function t(){var e={};function n(n,r){a(e[r])&&a(n)?e[r]=t(e[r],n):a(n)?e[r]=t({},n):i(n)?e[r]=n.slice():e[r]=n}for(var r=0,A=arguments.length;r<A;r++)c(arguments[r],n);return e},extend:function(t,e,n){return c(e,(function(e,A){t[A]=n&&"function"==typeof e?r(e,n):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}}},1120:function(t){t.exports=function(){"use strict";var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};function e(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var n=function(){return(n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var A in e=arguments[n])Object.prototype.hasOwnProperty.call(e,A)&&(t[A]=e[A]);return t}).apply(this,arguments)};function r(t,e,n,r){return new(n||(n=Promise))((function(A,i){function o(t){try{a(r.next(t))}catch(t){i(t)}}function s(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){t.done?A(t.value):new n((function(e){e(t.value)})).then(o,s)}a((r=r.apply(t,e||[])).next())}))}function A(t,e){var n,r,A,i,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(A=2&i[0]?r.return:i[0]?r.throw||((A=r.return)&&A.call(r),0):r.next)&&!(A=A.call(r,i[1])).done)return A;switch(r=0,A&&(i=[2&i[0],A.value]),i[0]){case 0:case 1:A=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((A=(A=o.trys).length>0&&A[A.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!A||i[1]>A[0]&&i[1]<A[3])){o.label=i[1];break}if(6===i[0]&&o.label<A[1]){o.label=A[1],A=i;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(i);break}A[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(t){i=[6,t],r=0}finally{n=A=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}for(var i=function(){function t(t,e,n,r){this.left=t,this.top=e,this.width=n,this.height=r}return t.prototype.add=function(e,n,r,A){return new t(this.left+e,this.top+n,this.width+r,this.height+A)},t.fromClientRect=function(e){return new t(e.left,e.top,e.width,e.height)},t}(),o=function(t){return i.fromClientRect(t.getBoundingClientRect())},s=function(t){for(var e=[],n=0,r=t.length;n<r;){var A=t.charCodeAt(n++);if(A>=55296&&A<=56319&&n<r){var i=t.charCodeAt(n++);56320==(64512&i)?e.push(((1023&A)<<10)+(1023&i)+65536):(e.push(A),n--)}else e.push(A)}return e},a=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],A=-1,i="";++A<n;){var o=t[A];o<=65535?r.push(o):(o-=65536,r.push(55296+(o>>10),o%1024+56320)),(A+1===n||r.length>16384)&&(i+=String.fromCharCode.apply(String,r),r.length=0)}return i},u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c="undefined"==typeof Uint8Array?[]:new Uint8Array(256),l=0;l<u.length;l++)c[u.charCodeAt(l)]=l;var h,f,d,p,g,B,w,y,v,m=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},E=function(){function t(t,e,n,r,A,i){this.initialValue=t,this.errorValue=e,this.highStart=n,this.highValueIndex=r,this.index=A,this.data=i}return t.prototype.get=function(t){var e;if(t>=0){if(t<55296||t>56319&&t<=65535)return e=((e=this.index[t>>5])<<2)+(31&t),this.data[e];if(t<=65535)return e=((e=this.index[2048+(t-55296>>5)])<<2)+(31&t),this.data[e];if(t<this.highStart)return e=2080+(t>>11),e=this.index[e],e+=t>>5&63,e=((e=this.index[e])<<2)+(31&t),this.data[e];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),Q=10,C=13,U=15,b=17,F=18,I=19,N=20,T=21,H=22,_=24,S=25,D=26,R=27,K=28,O=30,L=32,M=33,x=34,P=35,k=37,V=38,z=39,G=40,X=42,q="×",J="÷",j=(g=function(t){var e,n,r,A,i,o=.75*t.length,s=t.length,a=0;"="===t[t.length-1]&&(o--,"="===t[t.length-2]&&o--);var u="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(o):new Array(o),l=Array.isArray(u)?u:new Uint8Array(u);for(e=0;e<s;e+=4)n=c[t.charCodeAt(e)],r=c[t.charCodeAt(e+1)],A=c[t.charCodeAt(e+2)],i=c[t.charCodeAt(e+3)],l[a++]=n<<2|r>>4,l[a++]=(15&r)<<4|A>>2,l[a++]=(3&A)<<6|63&i;return u}("KwAAAAAAAAAACA4AIDoAAPAfAAACAAAAAAAIABAAGABAAEgAUABYAF4AZgBeAGYAYABoAHAAeABeAGYAfACEAIAAiACQAJgAoACoAK0AtQC9AMUAXgBmAF4AZgBeAGYAzQDVAF4AZgDRANkA3gDmAOwA9AD8AAQBDAEUARoBIgGAAIgAJwEvATcBPwFFAU0BTAFUAVwBZAFsAXMBewGDATAAiwGTAZsBogGkAawBtAG8AcIBygHSAdoB4AHoAfAB+AH+AQYCDgIWAv4BHgImAi4CNgI+AkUCTQJTAlsCYwJrAnECeQKBAk0CiQKRApkCoQKoArACuALAAsQCzAIwANQC3ALkAjAA7AL0AvwCAQMJAxADGAMwACADJgMuAzYDPgOAAEYDSgNSA1IDUgNaA1oDYANiA2IDgACAAGoDgAByA3YDfgOAAIQDgACKA5IDmgOAAIAAogOqA4AAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAK8DtwOAAIAAvwPHA88D1wPfAyAD5wPsA/QD/AOAAIAABAQMBBIEgAAWBB4EJgQuBDMEIAM7BEEEXgBJBCADUQRZBGEEaQQwADAAcQQ+AXkEgQSJBJEEgACYBIAAoASoBK8EtwQwAL8ExQSAAIAAgACAAIAAgACgAM0EXgBeAF4AXgBeAF4AXgBeANUEXgDZBOEEXgDpBPEE+QQBBQkFEQUZBSEFKQUxBTUFPQVFBUwFVAVcBV4AYwVeAGsFcwV7BYMFiwWSBV4AmgWgBacFXgBeAF4AXgBeAKsFXgCyBbEFugW7BcIFwgXIBcIFwgXQBdQF3AXkBesF8wX7BQMGCwYTBhsGIwYrBjMGOwZeAD8GRwZNBl4AVAZbBl4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAGMGXgBqBnEGXgBeAF4AXgBeAF4AXgBeAF4AXgB5BoAG4wSGBo4GkwaAAIADHgR5AF4AXgBeAJsGgABGA4AAowarBrMGswagALsGwwbLBjAA0wbaBtoG3QbaBtoG2gbaBtoG2gblBusG8wb7BgMHCwcTBxsHCwcjBysHMAc1BzUHOgdCB9oGSgdSB1oHYAfaBloHaAfaBlIH2gbaBtoG2gbaBtoG2gbaBjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHbQdeAF4ANQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQd1B30HNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B4MH2gaKB68EgACAAIAAgACAAIAAgACAAI8HlwdeAJ8HpweAAIAArwe3B14AXgC/B8UHygcwANAH2AfgB4AA6AfwBz4B+AcACFwBCAgPCBcIogEYAR8IJwiAAC8INwg/CCADRwhPCFcIXwhnCEoDGgSAAIAAgABvCHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIhAiLCI4IMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAANQc1BzUHNQc1BzUHNQc1BzUHNQc1B54INQc1B6II2gaqCLIIugiAAIAAvgjGCIAAgACAAIAAgACAAIAAgACAAIAAywiHAYAA0wiAANkI3QjlCO0I9Aj8CIAAgACAAAIJCgkSCRoJIgknCTYHLwk3CZYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiAAIAAAAFAAXgBeAGAAcABeAHwAQACQAKAArQC9AJ4AXgBeAE0A3gBRAN4A7AD8AMwBGgEAAKcBNwEFAUwBXAF4QkhCmEKnArcCgAHHAsABz4LAAcABwAHAAd+C6ABoAG+C/4LAAcABwAHAAc+DF4MAAcAB54M3gweDV4Nng3eDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEeDqABVg6WDqABoQ6gAaABoAHXDvcONw/3DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DncPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB7cPPwlGCU4JMACAAIAAgABWCV4JYQmAAGkJcAl4CXwJgAkwADAAMAAwAIgJgACLCZMJgACZCZ8JowmrCYAAswkwAF4AXgB8AIAAuwkABMMJyQmAAM4JgADVCTAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAqwYWBNkIMAAwADAAMADdCeAJ6AnuCR4E9gkwAP4JBQoNCjAAMACAABUK0wiAAB0KJAosCjQKgAAwADwKQwqAAEsKvQmdCVMKWwowADAAgACAALcEMACAAGMKgABrCjAAMAAwADAAMAAwADAAMAAwADAAMAAeBDAAMAAwADAAMAAwADAAMAAwADAAMAAwAIkEPQFzCnoKiQSCCooKkAqJBJgKoAqkCokEGAGsCrQKvArBCjAAMADJCtEKFQHZCuEK/gHpCvEKMAAwADAAMACAAIwE+QowAIAAPwEBCzAAMAAwADAAMACAAAkLEQswAIAAPwEZCyELgAAOCCkLMAAxCzkLMAAwADAAMAAwADAAXgBeAEELMAAwADAAMAAwADAAMAAwAEkLTQtVC4AAXAtkC4AAiQkwADAAMAAwADAAMAAwADAAbAtxC3kLgAuFC4sLMAAwAJMLlwufCzAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAApwswADAAMACAAIAAgACvC4AAgACAAIAAgACAALcLMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAvwuAAMcLgACAAIAAgACAAIAAyguAAIAAgACAAIAA0QswADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAANkLgACAAIAA4AswADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACJCR4E6AswADAAhwHwC4AA+AsADAgMEAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMACAAIAAGAwdDCUMMAAwAC0MNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQw1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHPQwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADUHNQc1BzUHNQc1BzUHNQc2BzAAMAA5DDUHNQc1BzUHNQc1BzUHNQc1BzUHNQdFDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAATQxSDFoMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAF4AXgBeAF4AXgBeAF4AYgxeAGoMXgBxDHkMfwxeAIUMXgBeAI0MMAAwADAAMAAwAF4AXgCVDJ0MMAAwADAAMABeAF4ApQxeAKsMswy7DF4Awgy9DMoMXgBeAF4AXgBeAF4AXgBeAF4AXgDRDNkMeQBqCeAM3Ax8AOYM7Az0DPgMXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgCgAAANoAAHDQ4NFg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAeDSYNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAC4NMABeAF4ANg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAD4NRg1ODVYNXg1mDTAAbQ0wADAAMAAwADAAMAAwADAA2gbaBtoG2gbaBtoG2gbaBnUNeg3CBYANwgWFDdoGjA3aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gaUDZwNpA2oDdoG2gawDbcNvw3HDdoG2gbPDdYN3A3fDeYN2gbsDfMN2gbaBvoN/g3aBgYODg7aBl4AXgBeABYOXgBeACUG2gYeDl4AJA5eACwO2w3aBtoGMQ45DtoG2gbaBtoGQQ7aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B1EO2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQdZDjUHNQc1BzUHNQc1B2EONQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHaA41BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B3AO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B2EO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBkkOeA6gAKAAoAAwADAAMAAwAKAAoACgAKAAoACgAKAAgA4wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAD//wQABAAEAAQABAAEAAQABAAEAA0AAwABAAEAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAKABMAFwAeABsAGgAeABcAFgASAB4AGwAYAA8AGAAcAEsASwBLAEsASwBLAEsASwBLAEsAGAAYAB4AHgAeABMAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAFgAbABIAHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYADQARAB4ABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkAFgAaABsAGwAbAB4AHQAdAB4ATwAXAB4ADQAeAB4AGgAbAE8ATwAOAFAAHQAdAB0ATwBPABcATwBPAE8AFgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwArAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAAQABAANAA0ASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAUAArACsAKwArACsAKwArACsABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAGgAaAFAAUABQAFAAUABMAB4AGwBQAB4AKwArACsABAAEAAQAKwBQAFAAUABQAFAAUAArACsAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUAArAFAAUAArACsABAArAAQABAAEAAQABAArACsAKwArAAQABAArACsABAAEAAQAKwArACsABAArACsAKwArACsAKwArAFAAUABQAFAAKwBQACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwAEAAQAUABQAFAABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQAKwArAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeABsAKwArACsAKwArACsAKwBQAAQABAAEAAQABAAEACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAKwArACsAKwArACsAKwArAAQABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwAEAFAAKwBQAFAAUABQAFAAUAArACsAKwBQAFAAUAArAFAAUABQAFAAKwArACsAUABQACsAUAArAFAAUAArACsAKwBQAFAAKwArACsAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQAKwArACsABAAEAAQAKwAEAAQABAAEACsAKwBQACsAKwArACsAKwArAAQAKwArACsAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAB4AHgAeAB4AHgAeABsAHgArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArAFAAUABQACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAB4AUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArACsAKwArACsAKwArAFAAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwArAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAKwBcAFwAKwBcACsAKwBcACsAKwArACsAKwArAFwAXABcAFwAKwBcAFwAXABcAFwAXABcACsAXABcAFwAKwBcACsAXAArACsAXABcACsAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgArACoAKgBcACsAKwBcAFwAXABcAFwAKwBcACsAKgAqACoAKgAqACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAFwAXABcAFwAUAAOAA4ADgAOAB4ADgAOAAkADgAOAA0ACQATABMAEwATABMACQAeABMAHgAeAB4ABAAEAB4AHgAeAB4AHgAeAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUAANAAQAHgAEAB4ABAAWABEAFgARAAQABABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAAQABAAEAAQABAANAAQABABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsADQANAB4AHgAeAB4AHgAeAAQAHgAeAB4AHgAeAB4AKwAeAB4ADgAOAA0ADgAeAB4AHgAeAB4ACQAJACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgAeAB4AHgBcAFwAXABcAFwAXAAqACoAKgAqAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAKgAqACoAKgAqACoAKgBcAFwAXAAqACoAKgAqAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAXAAqAEsASwBLAEsASwBLAEsASwBLAEsAKgAqACoAKgAqACoAUABQAFAAUABQAFAAKwBQACsAKwArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQACsAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwAEAAQABAAeAA0AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAEQArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAADQANAA0AUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAA0ADQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoADQANABUAXAANAB4ADQAbAFwAKgArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAB4AHgATABMADQANAA4AHgATABMAHgAEAAQABAAJACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAUABQAFAAUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwAeACsAKwArABMAEwBLAEsASwBLAEsASwBLAEsASwBLAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwBcAFwAXABcAFwAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcACsAKwArACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwAeAB4AXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsABABLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKgAqACoAKgAqACoAKgBcACoAKgAqACoAKgAqACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAUABQAFAAUABQAFAAUAArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4ADQANAA0ADQAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAHgAeAB4AHgBQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwANAA0ADQANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwBQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsABAAEAAQAHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAABABQAFAAUABQAAQABAAEAFAAUAAEAAQABAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAKwBQACsAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAKwArAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAKwAeAB4AHgAeAB4AHgAeAA4AHgArAA0ADQANAA0ADQANAA0ACQANAA0ADQAIAAQACwAEAAQADQAJAA0ADQAMAB0AHQAeABcAFwAWABcAFwAXABYAFwAdAB0AHgAeABQAFAAUAA0AAQABAAQABAAEAAQABAAJABoAGgAaABoAGgAaABoAGgAeABcAFwAdABUAFQAeAB4AHgAeAB4AHgAYABYAEQAVABUAFQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgANAB4ADQANAA0ADQAeAA0ADQANAAcAHgAeAB4AHgArAAQABAAEAAQABAAEAAQABAAEAAQAUABQACsAKwBPAFAAUABQAFAAUAAeAB4AHgAWABEATwBQAE8ATwBPAE8AUABQAFAAUABQAB4AHgAeABYAEQArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGgAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgBQABoAHgAdAB4AUAAeABoAHgAeAB4AHgAeAB4AHgAeAB4ATwAeAFAAGwAeAB4AUABQAFAAUABQAB4AHgAeAB0AHQAeAFAAHgBQAB4AUAAeAFAATwBQAFAAHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AUABQAFAAUABPAE8AUABQAFAAUABQAE8AUABQAE8AUABPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAE8ATwBPAE8ATwBPAE8ATwBPAE8AUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAATwAeAB4AKwArACsAKwAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB0AHQAeAB4AHgAdAB0AHgAeAB0AHgAeAB4AHQAeAB0AGwAbAB4AHQAeAB4AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB0AHgAdAB4AHQAdAB0AHQAdAB0AHgAdAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAdAB0AHQAdAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAlACUAHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB0AHQAeAB4AHgAeAB0AHQAdAB4AHgAdAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB0AHQAeAB4AHQAeAB4AHgAeAB0AHQAeAB4AHgAeACUAJQAdAB0AJQAeACUAJQAlACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHQAdAB0AHgAdACUAHQAdAB4AHQAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHQAdAB0AHQAlAB4AJQAlACUAHQAlACUAHQAdAB0AJQAlAB0AHQAlAB0AHQAlACUAJQAeAB0AHgAeAB4AHgAdAB0AJQAdAB0AHQAdAB0AHQAlACUAJQAlACUAHQAlACUAIAAlAB0AHQAlACUAJQAlACUAJQAlACUAHgAeAB4AJQAlACAAIAAgACAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeABcAFwAXABcAFwAXAB4AEwATACUAHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACUAJQBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwArACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAE8ATwBPAE8ATwBPAE8ATwAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeACsAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUAArACsAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQBQAFAAUABQACsAKwArACsAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAABAAEAAQAKwAEAAQAKwArACsAKwArAAQABAAEAAQAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsABAAEAAQAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsADQANAA0ADQANAA0ADQANAB4AKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAUABQAFAAUABQAA0ADQANAA0ADQANABQAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwANAA0ADQANAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAeAAQABAAEAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLACsADQArAB4AKwArAAQABAAEAAQAUABQAB4AUAArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwAEAAQABAAEAAQABAAEAAQABAAOAA0ADQATABMAHgAeAB4ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0AUABQAFAAUAAEAAQAKwArAAQADQANAB4AUAArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXABcAA0ADQANACoASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUAArACsAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANACsADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEcARwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwAeAAQABAANAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAEAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUAArACsAUAArACsAUABQACsAKwBQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAeAB4ADQANAA0ADQAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAArAAQABAArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAEAAQABAAEAAQABAAEACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAFgAWAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAKwBQACsAKwArACsAKwArAFAAKwArACsAKwBQACsAUAArAFAAKwBQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQACsAUAArAFAAKwBQACsAUABQACsAUAArACsAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAUABQAFAAUAArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUAArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAlACUAJQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeACUAJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeACUAJQAlACUAJQAeACUAJQAlACUAJQAgACAAIAAlACUAIAAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIQAhACEAIQAhACUAJQAgACAAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAIAAlACUAJQAlACAAJQAgACAAIAAgACAAIAAgACAAIAAlACUAJQAgACUAJQAlACUAIAAgACAAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeACUAHgAlAB4AJQAlACUAJQAlACAAJQAlACUAJQAeACUAHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAIAAgACAAIAAgAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFwAXABcAFQAVABUAHgAeAB4AHgAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAlACAAIAAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsA"),B=Array.isArray(g)?function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n}(g):new Uint32Array(g),w=Array.isArray(g)?function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n}(g):new Uint16Array(g),y=m(w,12,B[4]/2),v=2===B[5]?m(w,(24+B[4])/2):(f=B,d=Math.ceil((24+B[4])/4),f.slice?f.slice(d,p):new Uint32Array(Array.prototype.slice.call(f,d,p))),new E(B[0],B[1],B[2],B[3],y,v)),W=[O,36],Y=[1,2,3,5],Z=[Q,8],$=[R,D],tt=Y.concat(Z),et=[V,z,G,x,P],nt=[U,C],rt=function(t,e,n,r){var A=r[n];if(Array.isArray(t)?-1!==t.indexOf(A):t===A)for(var i=n;i<=r.length;){if((a=r[++i])===e)return!0;if(a!==Q)break}if(A===Q)for(i=n;i>0;){var o=r[--i];if(Array.isArray(t)?-1!==t.indexOf(o):t===o)for(var s=n;s<=r.length;){var a;if((a=r[++s])===e)return!0;if(a!==Q)break}if(o!==Q)break}return!1},At=function(t,e){for(var n=t;n>=0;){var r=e[n];if(r!==Q)return r;n--}return 0},it=function(t,e,n,r,A){if(0===n[r])return q;var i=r-1;if(Array.isArray(A)&&!0===A[i])return q;var o=i-1,s=i+1,a=e[i],u=o>=0?e[o]:0,c=e[s];if(2===a&&3===c)return q;if(-1!==Y.indexOf(a))return"!";if(-1!==Y.indexOf(c))return q;if(-1!==Z.indexOf(c))return q;if(8===At(i,e))return J;if(11===j.get(t[i])&&(c===k||c===L||c===M))return q;if(7===a||7===c)return q;if(9===a)return q;if(-1===[Q,C,U].indexOf(a)&&9===c)return q;if(-1!==[b,F,I,_,K].indexOf(c))return q;if(At(i,e)===H)return q;if(rt(23,H,i,e))return q;if(rt([b,F],T,i,e))return q;if(rt(12,12,i,e))return q;if(a===Q)return J;if(23===a||23===c)return q;if(16===c||16===a)return J;if(-1!==[C,U,T].indexOf(c)||14===a)return q;if(36===u&&-1!==nt.indexOf(a))return q;if(a===K&&36===c)return q;if(c===N&&-1!==W.concat(N,I,S,k,L,M).indexOf(a))return q;if(-1!==W.indexOf(c)&&a===S||-1!==W.indexOf(a)&&c===S)return q;if(a===R&&-1!==[k,L,M].indexOf(c)||-1!==[k,L,M].indexOf(a)&&c===D)return q;if(-1!==W.indexOf(a)&&-1!==$.indexOf(c)||-1!==$.indexOf(a)&&-1!==W.indexOf(c))return q;if(-1!==[R,D].indexOf(a)&&(c===S||-1!==[H,U].indexOf(c)&&e[s+1]===S)||-1!==[H,U].indexOf(a)&&c===S||a===S&&-1!==[S,K,_].indexOf(c))return q;if(-1!==[S,K,_,b,F].indexOf(c))for(var l=i;l>=0;){if((h=e[l])===S)return q;if(-1===[K,_].indexOf(h))break;l--}if(-1!==[R,D].indexOf(c))for(l=-1!==[b,F].indexOf(a)?o:i;l>=0;){var h;if((h=e[l])===S)return q;if(-1===[K,_].indexOf(h))break;l--}if(V===a&&-1!==[V,z,x,P].indexOf(c)||-1!==[z,x].indexOf(a)&&-1!==[z,G].indexOf(c)||-1!==[G,P].indexOf(a)&&c===G)return q;if(-1!==et.indexOf(a)&&-1!==[N,D].indexOf(c)||-1!==et.indexOf(c)&&a===R)return q;if(-1!==W.indexOf(a)&&-1!==W.indexOf(c))return q;if(a===_&&-1!==W.indexOf(c))return q;if(-1!==W.concat(S).indexOf(a)&&c===H||-1!==W.concat(S).indexOf(c)&&a===F)return q;if(41===a&&41===c){for(var f=n[i],d=1;f>0&&41===e[--f];)d++;if(d%2!=0)return q}return a===L&&c===M?q:J},ot=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var n=function(t,e){void 0===e&&(e="strict");var n=[],r=[],A=[];return t.forEach((function(t,i){var o=j.get(t);if(o>50?(A.push(!0),o-=50):A.push(!1),-1!==["normal","auto","loose"].indexOf(e)&&-1!==[8208,8211,12316,12448].indexOf(t))return r.push(i),n.push(16);if(4===o||11===o){if(0===i)return r.push(i),n.push(O);var s=n[i-1];return-1===tt.indexOf(s)?(r.push(r[i-1]),n.push(s)):(r.push(i),n.push(O))}return r.push(i),31===o?n.push("strict"===e?T:k):o===X||29===o?n.push(O):43===o?t>=131072&&t<=196605||t>=196608&&t<=262141?n.push(k):n.push(O):void n.push(o)})),[r,n,A]}(t,e.lineBreak),r=n[0],A=n[1],i=n[2];return"break-all"!==e.wordBreak&&"break-word"!==e.wordBreak||(A=A.map((function(t){return-1!==[S,O,X].indexOf(t)?k:t}))),[r,A,"keep-all"===e.wordBreak?i.map((function(e,n){return e&&t[n]>=19968&&t[n]<=40959})):void 0]},st=function(){function t(t,e,n,r){this.codePoints=t,this.required="!"===e,this.start=n,this.end=r}return t.prototype.slice=function(){return a.apply(void 0,this.codePoints.slice(this.start,this.end))},t}();!function(t){t[t.STRING_TOKEN=0]="STRING_TOKEN",t[t.BAD_STRING_TOKEN=1]="BAD_STRING_TOKEN",t[t.LEFT_PARENTHESIS_TOKEN=2]="LEFT_PARENTHESIS_TOKEN",t[t.RIGHT_PARENTHESIS_TOKEN=3]="RIGHT_PARENTHESIS_TOKEN",t[t.COMMA_TOKEN=4]="COMMA_TOKEN",t[t.HASH_TOKEN=5]="HASH_TOKEN",t[t.DELIM_TOKEN=6]="DELIM_TOKEN",t[t.AT_KEYWORD_TOKEN=7]="AT_KEYWORD_TOKEN",t[t.PREFIX_MATCH_TOKEN=8]="PREFIX_MATCH_TOKEN",t[t.DASH_MATCH_TOKEN=9]="DASH_MATCH_TOKEN",t[t.INCLUDE_MATCH_TOKEN=10]="INCLUDE_MATCH_TOKEN",t[t.LEFT_CURLY_BRACKET_TOKEN=11]="LEFT_CURLY_BRACKET_TOKEN",t[t.RIGHT_CURLY_BRACKET_TOKEN=12]="RIGHT_CURLY_BRACKET_TOKEN",t[t.SUFFIX_MATCH_TOKEN=13]="SUFFIX_MATCH_TOKEN",t[t.SUBSTRING_MATCH_TOKEN=14]="SUBSTRING_MATCH_TOKEN",t[t.DIMENSION_TOKEN=15]="DIMENSION_TOKEN",t[t.PERCENTAGE_TOKEN=16]="PERCENTAGE_TOKEN",t[t.NUMBER_TOKEN=17]="NUMBER_TOKEN",t[t.FUNCTION=18]="FUNCTION",t[t.FUNCTION_TOKEN=19]="FUNCTION_TOKEN",t[t.IDENT_TOKEN=20]="IDENT_TOKEN",t[t.COLUMN_TOKEN=21]="COLUMN_TOKEN",t[t.URL_TOKEN=22]="URL_TOKEN",t[t.BAD_URL_TOKEN=23]="BAD_URL_TOKEN",t[t.CDC_TOKEN=24]="CDC_TOKEN",t[t.CDO_TOKEN=25]="CDO_TOKEN",t[t.COLON_TOKEN=26]="COLON_TOKEN",t[t.SEMICOLON_TOKEN=27]="SEMICOLON_TOKEN",t[t.LEFT_SQUARE_BRACKET_TOKEN=28]="LEFT_SQUARE_BRACKET_TOKEN",t[t.RIGHT_SQUARE_BRACKET_TOKEN=29]="RIGHT_SQUARE_BRACKET_TOKEN",t[t.UNICODE_RANGE_TOKEN=30]="UNICODE_RANGE_TOKEN",t[t.WHITESPACE_TOKEN=31]="WHITESPACE_TOKEN",t[t.EOF_TOKEN=32]="EOF_TOKEN"}(h||(h={}));var at=45,ut=43,ct=-1,lt=function(t){return t>=48&&t<=57},ht=function(t){return lt(t)||t>=65&&t<=70||t>=97&&t<=102},ft=function(t){return 10===t||9===t||32===t},dt=function(t){return function(t){return function(t){return t>=97&&t<=122}(t)||function(t){return t>=65&&t<=90}(t)}(t)||function(t){return t>=128}(t)||95===t},pt=function(t){return dt(t)||lt(t)||t===at},gt=function(t){return t>=0&&t<=8||11===t||t>=14&&t<=31||127===t},Bt=function(t,e){return 92===t&&10!==e},wt=function(t,e,n){return t===at?dt(e)||Bt(e,n):!!dt(t)||!(92!==t||!Bt(t,e))},yt=function(t,e,n){return t===ut||t===at?!!lt(e)||46===e&&lt(n):lt(46===t?e:t)},vt=function(t){var e=0,n=1;t[e]!==ut&&t[e]!==at||(t[e]===at&&(n=-1),e++);for(var r=[];lt(t[e]);)r.push(t[e++]);var A=r.length?parseInt(a.apply(void 0,r),10):0;46===t[e]&&e++;for(var i=[];lt(t[e]);)i.push(t[e++]);var o=i.length,s=o?parseInt(a.apply(void 0,i),10):0;69!==t[e]&&101!==t[e]||e++;var u=1;t[e]!==ut&&t[e]!==at||(t[e]===at&&(u=-1),e++);for(var c=[];lt(t[e]);)c.push(t[e++]);var l=c.length?parseInt(a.apply(void 0,c),10):0;return n*(A+s*Math.pow(10,-o))*Math.pow(10,u*l)},mt={type:h.LEFT_PARENTHESIS_TOKEN},Et={type:h.RIGHT_PARENTHESIS_TOKEN},Qt={type:h.COMMA_TOKEN},Ct={type:h.SUFFIX_MATCH_TOKEN},Ut={type:h.PREFIX_MATCH_TOKEN},bt={type:h.COLUMN_TOKEN},Ft={type:h.DASH_MATCH_TOKEN},It={type:h.INCLUDE_MATCH_TOKEN},Nt={type:h.LEFT_CURLY_BRACKET_TOKEN},Tt={type:h.RIGHT_CURLY_BRACKET_TOKEN},Ht={type:h.SUBSTRING_MATCH_TOKEN},_t={type:h.BAD_URL_TOKEN},St={type:h.BAD_STRING_TOKEN},Dt={type:h.CDO_TOKEN},Rt={type:h.CDC_TOKEN},Kt={type:h.COLON_TOKEN},Ot={type:h.SEMICOLON_TOKEN},Lt={type:h.LEFT_SQUARE_BRACKET_TOKEN},Mt={type:h.RIGHT_SQUARE_BRACKET_TOKEN},xt={type:h.WHITESPACE_TOKEN},Pt={type:h.EOF_TOKEN},kt=function(){function t(){this._value=[]}return t.prototype.write=function(t){this._value=this._value.concat(s(t))},t.prototype.read=function(){for(var t=[],e=this.consumeToken();e!==Pt;)t.push(e),e=this.consumeToken();return t},t.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case 34:return this.consumeStringToken(34);case 35:var e=this.peekCodePoint(0),n=this.peekCodePoint(1),r=this.peekCodePoint(2);if(pt(e)||Bt(n,r)){var A=wt(e,n,r)?2:1,i=this.consumeName();return{type:h.HASH_TOKEN,value:i,flags:A}}break;case 36:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Ct;break;case 39:return this.consumeStringToken(39);case 40:return mt;case 41:return Et;case 42:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Ht;break;case ut:if(yt(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case 44:return Qt;case at:var o=t,s=this.peekCodePoint(0),u=this.peekCodePoint(1);if(yt(o,s,u))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(wt(o,s,u))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(s===at&&62===u)return this.consumeCodePoint(),this.consumeCodePoint(),Rt;break;case 46:if(yt(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case 47:if(42===this.peekCodePoint(0))for(this.consumeCodePoint();;){var c=this.consumeCodePoint();if(42===c&&47===(c=this.consumeCodePoint()))return this.consumeToken();if(c===ct)return this.consumeToken()}break;case 58:return Kt;case 59:return Ot;case 60:if(33===this.peekCodePoint(0)&&this.peekCodePoint(1)===at&&this.peekCodePoint(2)===at)return this.consumeCodePoint(),this.consumeCodePoint(),Dt;break;case 64:var l=this.peekCodePoint(0),f=this.peekCodePoint(1),d=this.peekCodePoint(2);if(wt(l,f,d))return i=this.consumeName(),{type:h.AT_KEYWORD_TOKEN,value:i};break;case 91:return Lt;case 92:if(Bt(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case 93:return Mt;case 61:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Ut;break;case 123:return Nt;case 125:return Tt;case 117:case 85:var p=this.peekCodePoint(0),g=this.peekCodePoint(1);return p!==ut||!ht(g)&&63!==g||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case 124:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Ft;if(124===this.peekCodePoint(0))return this.consumeCodePoint(),bt;break;case 126:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),It;break;case ct:return Pt}return ft(t)?(this.consumeWhiteSpace(),xt):lt(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):dt(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:h.DELIM_TOKEN,value:a(t)}},t.prototype.consumeCodePoint=function(){var t=this._value.shift();return void 0===t?-1:t},t.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},t.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},t.prototype.consumeUnicodeRangeToken=function(){for(var t=[],e=this.consumeCodePoint();ht(e)&&t.length<6;)t.push(e),e=this.consumeCodePoint();for(var n=!1;63===e&&t.length<6;)t.push(e),e=this.consumeCodePoint(),n=!0;if(n){var r=parseInt(a.apply(void 0,t.map((function(t){return 63===t?48:t}))),16),A=parseInt(a.apply(void 0,t.map((function(t){return 63===t?70:t}))),16);return{type:h.UNICODE_RANGE_TOKEN,start:r,end:A}}var i=parseInt(a.apply(void 0,t),16);if(this.peekCodePoint(0)===at&&ht(this.peekCodePoint(1))){this.consumeCodePoint(),e=this.consumeCodePoint();for(var o=[];ht(e)&&o.length<6;)o.push(e),e=this.consumeCodePoint();return A=parseInt(a.apply(void 0,o),16),{type:h.UNICODE_RANGE_TOKEN,start:i,end:A}}return{type:h.UNICODE_RANGE_TOKEN,start:i,end:i}},t.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return"url"===t.toLowerCase()&&40===this.peekCodePoint(0)?(this.consumeCodePoint(),this.consumeUrlToken()):40===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:h.FUNCTION_TOKEN,value:t}):{type:h.IDENT_TOKEN,value:t}},t.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===ct)return{type:h.URL_TOKEN,value:""};var e=this.peekCodePoint(0);if(39===e||34===e){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===h.STRING_TOKEN&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===ct||41===this.peekCodePoint(0))?(this.consumeCodePoint(),{type:h.URL_TOKEN,value:n.value}):(this.consumeBadUrlRemnants(),_t)}for(;;){var r=this.consumeCodePoint();if(r===ct||41===r)return{type:h.URL_TOKEN,value:a.apply(void 0,t)};if(ft(r))return this.consumeWhiteSpace(),this.peekCodePoint(0)===ct||41===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:h.URL_TOKEN,value:a.apply(void 0,t)}):(this.consumeBadUrlRemnants(),_t);if(34===r||39===r||40===r||gt(r))return this.consumeBadUrlRemnants(),_t;if(92===r){if(!Bt(r,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),_t;t.push(this.consumeEscapedCodePoint())}else t.push(r)}},t.prototype.consumeWhiteSpace=function(){for(;ft(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(41===t||t===ct)return;Bt(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(t){for(var e="";t>0;){var n=Math.min(6e4,t);e+=a.apply(void 0,this._value.splice(0,n)),t-=n}return this._value.shift(),e},t.prototype.consumeStringToken=function(t){for(var e="",n=0;;){var r=this._value[n];if(r===ct||void 0===r||r===t)return e+=this.consumeStringSlice(n),{type:h.STRING_TOKEN,value:e};if(10===r)return this._value.splice(0,n),St;if(92===r){var A=this._value[n+1];A!==ct&&void 0!==A&&(10===A?(e+=this.consumeStringSlice(n),n=-1,this._value.shift()):Bt(r,A)&&(e+=this.consumeStringSlice(n),e+=a(this.consumeEscapedCodePoint()),n=-1))}n++}},t.prototype.consumeNumber=function(){var t=[],e=4,n=this.peekCodePoint(0);for(n!==ut&&n!==at||t.push(this.consumeCodePoint());lt(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0);var r=this.peekCodePoint(1);if(46===n&&lt(r))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),e=8;lt(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0),r=this.peekCodePoint(1);var A=this.peekCodePoint(2);if((69===n||101===n)&&((r===ut||r===at)&&lt(A)||lt(r)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),e=8;lt(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[vt(t),e]},t.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),e=t[0],n=t[1],r=this.peekCodePoint(0),A=this.peekCodePoint(1),i=this.peekCodePoint(2);if(wt(r,A,i)){var o=this.consumeName();return{type:h.DIMENSION_TOKEN,number:e,flags:n,unit:o}}return 37===r?(this.consumeCodePoint(),{type:h.PERCENTAGE_TOKEN,number:e,flags:n}):{type:h.NUMBER_TOKEN,number:e,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(ht(t)){for(var e=a(t);ht(this.peekCodePoint(0))&&e.length<6;)e+=a(this.consumeCodePoint());ft(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(e,16);return 0===n||function(t){return t>=55296&&t<=57343}(n)||n>1114111?65533:n}return t===ct?65533:t},t.prototype.consumeName=function(){for(var t="";;){var e=this.consumeCodePoint();if(pt(e))t+=a(e);else{if(!Bt(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),t;t+=a(this.consumeEscapedCodePoint())}}},t}(),Vt=function(){function t(t){this._tokens=t}return t.create=function(e){var n=new kt;return n.write(e),new t(n.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===h.WHITESPACE_TOKEN;)t=this.consumeToken();if(t.type===h.EOF_TOKEN)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var e=this.consumeComponentValue();do{t=this.consumeToken()}while(t.type===h.WHITESPACE_TOKEN);if(t.type===h.EOF_TOKEN)return e;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var t=[];;){var e=this.consumeComponentValue();if(e.type===h.EOF_TOKEN)return t;t.push(e),t.push()}},t.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case h.LEFT_CURLY_BRACKET_TOKEN:case h.LEFT_SQUARE_BRACKET_TOKEN:case h.LEFT_PARENTHESIS_TOKEN:return this.consumeSimpleBlock(t.type);case h.FUNCTION_TOKEN:return this.consumeFunction(t)}return t},t.prototype.consumeSimpleBlock=function(t){for(var e={type:t,values:[]},n=this.consumeToken();;){if(n.type===h.EOF_TOKEN||Zt(n,t))return e;this.reconsumeToken(n),e.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(t){for(var e={name:t.value,values:[],type:h.FUNCTION};;){var n=this.consumeToken();if(n.type===h.EOF_TOKEN||n.type===h.RIGHT_PARENTHESIS_TOKEN)return e;this.reconsumeToken(n),e.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var t=this._tokens.shift();return void 0===t?Pt:t},t.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},t}(),zt=function(t){return t.type===h.DIMENSION_TOKEN},Gt=function(t){return t.type===h.NUMBER_TOKEN},Xt=function(t){return t.type===h.IDENT_TOKEN},qt=function(t){return t.type===h.STRING_TOKEN},Jt=function(t,e){return Xt(t)&&t.value===e},jt=function(t){return t.type!==h.WHITESPACE_TOKEN},Wt=function(t){return t.type!==h.WHITESPACE_TOKEN&&t.type!==h.COMMA_TOKEN},Yt=function(t){var e=[],n=[];return t.forEach((function(t){if(t.type===h.COMMA_TOKEN){if(0===n.length)throw new Error("Error parsing function args, zero tokens for arg");return e.push(n),void(n=[])}t.type!==h.WHITESPACE_TOKEN&&n.push(t)})),n.length&&e.push(n),e},Zt=function(t,e){return e===h.LEFT_CURLY_BRACKET_TOKEN&&t.type===h.RIGHT_CURLY_BRACKET_TOKEN||e===h.LEFT_SQUARE_BRACKET_TOKEN&&t.type===h.RIGHT_SQUARE_BRACKET_TOKEN||e===h.LEFT_PARENTHESIS_TOKEN&&t.type===h.RIGHT_PARENTHESIS_TOKEN},$t=function(t){return t.type===h.NUMBER_TOKEN||t.type===h.DIMENSION_TOKEN},te=function(t){return t.type===h.PERCENTAGE_TOKEN||$t(t)},ee=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},ne={type:h.NUMBER_TOKEN,number:0,flags:4},re={type:h.PERCENTAGE_TOKEN,number:50,flags:4},Ae={type:h.PERCENTAGE_TOKEN,number:100,flags:4},ie=function(t,e,n){var r=t[0],A=t[1];return[oe(r,e),oe(void 0!==A?A:r,n)]},oe=function(t,e){if(t.type===h.PERCENTAGE_TOKEN)return t.number/100*e;if(zt(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},se="grad",ae="turn",ue=function(t){if(t.type===h.DIMENSION_TOKEN)switch(t.unit){case"deg":return Math.PI*t.number/180;case se:return Math.PI/200*t.number;case"rad":return t.number;case ae:return 2*Math.PI*t.number}throw new Error("Unsupported angle type")},ce=function(t){return t.type===h.DIMENSION_TOKEN&&("deg"===t.unit||t.unit===se||"rad"===t.unit||t.unit===ae)},le=function(t){switch(t.filter(Xt).map((function(t){return t.value})).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[ne,ne];case"to top":case"bottom":return he(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[ne,Ae];case"to right":case"left":return he(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Ae,Ae];case"to bottom":case"top":return he(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Ae,ne];case"to left":case"right":return he(270)}return 0},he=function(t){return Math.PI*t/180},fe=function(t){if(t.type===h.FUNCTION){var e=Qe[t.name];if(void 0===e)throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return e(t.values)}if(t.type===h.HASH_TOKEN){if(3===t.value.length){var n=t.value.substring(0,1),r=t.value.substring(1,2),A=t.value.substring(2,3);return ge(parseInt(n+n,16),parseInt(r+r,16),parseInt(A+A,16),1)}if(4===t.value.length){n=t.value.substring(0,1),r=t.value.substring(1,2),A=t.value.substring(2,3);var i=t.value.substring(3,4);return ge(parseInt(n+n,16),parseInt(r+r,16),parseInt(A+A,16),parseInt(i+i,16)/255)}if(6===t.value.length)return n=t.value.substring(0,2),r=t.value.substring(2,4),A=t.value.substring(4,6),ge(parseInt(n,16),parseInt(r,16),parseInt(A,16),1);if(8===t.value.length)return n=t.value.substring(0,2),r=t.value.substring(2,4),A=t.value.substring(4,6),i=t.value.substring(6,8),ge(parseInt(n,16),parseInt(r,16),parseInt(A,16),parseInt(i,16)/255)}if(t.type===h.IDENT_TOKEN){var o=Ce[t.value.toUpperCase()];if(void 0!==o)return o}return Ce.TRANSPARENT},de=function(t){return 0==(255&t)},pe=function(t){var e=255&t,n=255&t>>8,r=255&t>>16,A=255&t>>24;return e<255?"rgba("+A+","+r+","+n+","+e/255+")":"rgb("+A+","+r+","+n+")"},ge=function(t,e,n,r){return(t<<24|e<<16|n<<8|Math.round(255*r)<<0)>>>0},Be=function(t,e){if(t.type===h.NUMBER_TOKEN)return t.number;if(t.type===h.PERCENTAGE_TOKEN){var n=3===e?1:255;return 3===e?t.number/100*n:Math.round(t.number/100*n)}return 0},we=function(t){var e=t.filter(Wt);if(3===e.length){var n=e.map(Be),r=n[0],A=n[1],i=n[2];return ge(r,A,i,1)}if(4===e.length){var o=e.map(Be),s=(r=o[0],A=o[1],i=o[2],o[3]);return ge(r,A,i,s)}return 0};function ye(t,e,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(e-t)*n*6+t:n<.5?e:n<2/3?6*(e-t)*(2/3-n)+t:t}var ve,me,Ee=function(t){var e=t.filter(Wt),n=e[0],r=e[1],A=e[2],i=e[3],o=(n.type===h.NUMBER_TOKEN?he(n.number):ue(n))/(2*Math.PI),s=te(r)?r.number/100:0,a=te(A)?A.number/100:0,u=void 0!==i&&te(i)?oe(i,1):1;if(0===s)return ge(255*a,255*a,255*a,1);var c=a<=.5?a*(s+1):a+s-a*s,l=2*a-c,f=ye(l,c,o+1/3),d=ye(l,c,o),p=ye(l,c,o-1/3);return ge(255*f,255*d,255*p,u)},Qe={hsl:Ee,hsla:Ee,rgb:we,rgba:we},Ce={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199};(function(t){t[t.VALUE=0]="VALUE",t[t.LIST=1]="LIST",t[t.IDENT_VALUE=2]="IDENT_VALUE",t[t.TYPE_VALUE=3]="TYPE_VALUE",t[t.TOKEN_VALUE=4]="TOKEN_VALUE"})(ve||(ve={})),function(t){t[t.BORDER_BOX=0]="BORDER_BOX",t[t.PADDING_BOX=1]="PADDING_BOX",t[t.CONTENT_BOX=2]="CONTENT_BOX"}(me||(me={}));var Ue,be={name:"background-clip",initialValue:"border-box",prefix:!1,type:ve.LIST,parse:function(t){return t.map((function(t){if(Xt(t))switch(t.value){case"padding-box":return me.PADDING_BOX;case"content-box":return me.CONTENT_BOX}return me.BORDER_BOX}))}},Fe={name:"background-color",initialValue:"transparent",prefix:!1,type:ve.TYPE_VALUE,format:"color"},Ie=function(t){var e=fe(t[0]),n=t[1];return n&&te(n)?{color:e,stop:n}:{color:e,stop:null}},Ne=function(t,e){var n=t[0],r=t[t.length-1];null===n.stop&&(n.stop=ne),null===r.stop&&(r.stop=Ae);for(var A=[],i=0,o=0;o<t.length;o++){var s=t[o].stop;if(null!==s){var a=oe(s,e);a>i?A.push(a):A.push(i),i=a}else A.push(null)}var u=null;for(o=0;o<A.length;o++){var c=A[o];if(null===c)null===u&&(u=o);else if(null!==u){for(var l=o-u,h=(c-A[u-1])/(l+1),f=1;f<=l;f++)A[u+f-1]=h*f;u=null}}return t.map((function(t,n){return{color:t.color,stop:Math.max(Math.min(1,A[n]/e),0)}}))},Te=function(t,e,n){var r="number"==typeof t?t:function(t,e,n){var r=e/2,A=n/2,i=oe(t[0],e)-r,o=A-oe(t[1],n);return(Math.atan2(o,i)+2*Math.PI)%(2*Math.PI)}(t,e,n),A=Math.abs(e*Math.sin(r))+Math.abs(n*Math.cos(r)),i=e/2,o=n/2,s=A/2,a=Math.sin(r-Math.PI/2)*s,u=Math.cos(r-Math.PI/2)*s;return[A,i-u,i+u,o-a,o+a]},He=function(t,e){return Math.sqrt(t*t+e*e)},_e=function(t,e,n,r,A){return[[0,0],[0,e],[t,0],[t,e]].reduce((function(t,e){var i=e[0],o=e[1],s=He(n-i,r-o);return(A?s<t.optimumDistance:s>t.optimumDistance)?{optimumCorner:e,optimumDistance:s}:t}),{optimumDistance:A?1/0:-1/0,optimumCorner:null}).optimumCorner},Se=function(t){var e=he(180),n=[];return Yt(t).forEach((function(t,r){if(0===r){var A=t[0];if(A.type===h.IDENT_TOKEN&&-1!==["top","left","right","bottom"].indexOf(A.value))return void(e=le(t));if(ce(A))return void(e=(ue(A)+he(270))%he(360))}var i=Ie(t);n.push(i)})),{angle:e,stops:n,type:Ue.LINEAR_GRADIENT}},De=function(t){return 0===t[0]&&255===t[1]&&0===t[2]&&255===t[3]},Re=function(t,e,n,r,A){var i="http://www.w3.org/2000/svg",o=document.createElementNS(i,"svg"),s=document.createElementNS(i,"foreignObject");return o.setAttributeNS(null,"width",t.toString()),o.setAttributeNS(null,"height",e.toString()),s.setAttributeNS(null,"width","100%"),s.setAttributeNS(null,"height","100%"),s.setAttributeNS(null,"x",n.toString()),s.setAttributeNS(null,"y",r.toString()),s.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(s),s.appendChild(A),o},Ke=function(t){return new Promise((function(e,n){var r=new Image;r.onload=function(){return e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(t))}))},Oe={get SUPPORT_RANGE_BOUNDS(){var t=function(t){if(t.createRange){var e=t.createRange();if(e.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height="123px",n.style.display="block",t.body.appendChild(n),e.selectNode(n);var r=e.getBoundingClientRect(),A=Math.round(r.height);if(t.body.removeChild(n),123===A)return!0}}return!1}(document);return Object.defineProperty(Oe,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=function(t){var e=new Image,n=t.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(e,0,0),n.toDataURL()}catch(t){return!1}return!0}(document);return Object.defineProperty(Oe,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t="function"==typeof Array.from&&"function"==typeof window.fetch?function(t){var e=t.createElement("canvas"),n=100;e.width=n,e.height=n;var r=e.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var A=new Image,i=e.toDataURL();A.src=i;var o=Re(n,n,0,0,A);return r.fillStyle="red",r.fillRect(0,0,n,n),Ke(o).then((function(e){r.drawImage(e,0,0);var A=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var o=t.createElement("div");return o.style.backgroundImage="url("+i+")",o.style.height="100px",De(A)?Ke(Re(n,n,0,0,o)):Promise.reject(!1)})).then((function(t){return r.drawImage(t,0,0),De(r.getImageData(0,0,n,n).data)})).catch((function(){return!1}))}(document):Promise.resolve(!1);return Object.defineProperty(Oe,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=void 0!==(new Image).crossOrigin;return Object.defineProperty(Oe,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t="string"==typeof(new XMLHttpRequest).responseType;return Object.defineProperty(Oe,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Oe,"SUPPORT_CORS_XHR",{value:t}),t}},Le=function(){function t(t){var e=t.id,n=t.enabled;this.id=e,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.debug?console.debug.apply(console,[this.id,this.getTime()+"ms"].concat(t)):this.info.apply(this,t))},t.prototype.getTime=function(){return Date.now()-this.start},t.create=function(e){t.instances[e.id]=new t(e)},t.destroy=function(e){delete t.instances[e]},t.getInstance=function(e){var n=t.instances[e];if(void 0===n)throw new Error("No logger instance found with id "+e);return n},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&"undefined"!=typeof window&&window.console&&"function"==typeof console.info&&console.info.apply(console,[this.id,this.getTime()+"ms"].concat(t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.error?console.error.apply(console,[this.id,this.getTime()+"ms"].concat(t)):this.info.apply(this,t))},t.instances={},t}(),Me=function(){function t(){}return t.create=function(e,n){return t._caches[e]=new xe(e,n)},t.destroy=function(e){delete t._caches[e]},t.open=function(e){var n=t._caches[e];if(void 0!==n)return n;throw new Error('Cache with key "'+e+'" not found')},t.getOrigin=function(e){var n=t._link;return n?(n.href=e,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t.getInstance=function(){var e=t._current;if(null===e)throw new Error("No cache instance attached");return e},t.attachInstance=function(e){t._current=e},t.detachInstance=function(){t._current=null},t._caches={},t._origin="about:blank",t._current=null,t}(),xe=function(){function t(t,e){this.id=t,this._options=e,this._cache={}}return t.prototype.addImage=function(t){var e=Promise.resolve();return this.has(t)?e:qe(t)||ze(t)?(this._cache[t]=this.loadImage(t),e):e},t.prototype.match=function(t){return this._cache[t]},t.prototype.loadImage=function(t){return r(this,void 0,void 0,(function(){var e,n,r,i,o=this;return A(this,(function(A){switch(A.label){case 0:return e=Me.isSameOrigin(t),n=!Ge(t)&&!0===this._options.useCORS&&Oe.SUPPORT_CORS_IMAGES&&!e,r=!Ge(t)&&!e&&"string"==typeof this._options.proxy&&Oe.SUPPORT_CORS_XHR&&!n,e||!1!==this._options.allowTaint||Ge(t)||r||n?(i=t,r?[4,this.proxy(i)]:[3,2]):[2];case 1:i=A.sent(),A.label=2;case 2:return Le.getInstance(this.id).debug("Added image "+t.substring(0,256)),[4,new Promise((function(t,e){var r=new Image;r.onload=function(){return t(r)},r.onerror=e,(Xe(i)||n)&&(r.crossOrigin="anonymous"),r.src=i,!0===r.complete&&setTimeout((function(){return t(r)}),500),o._options.imageTimeout>0&&setTimeout((function(){return e("Timed out ("+o._options.imageTimeout+"ms) loading image")}),o._options.imageTimeout)}))];case 3:return[2,A.sent()]}}))}))},t.prototype.has=function(t){return void 0!==this._cache[t]},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(t){var e=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var r=t.substring(0,256);return new Promise((function(A,i){var o=Oe.SUPPORT_RESPONSE_TYPE?"blob":"text",s=new XMLHttpRequest;if(s.onload=function(){if(200===s.status)if("text"===o)A(s.response);else{var t=new FileReader;t.addEventListener("load",(function(){return A(t.result)}),!1),t.addEventListener("error",(function(t){return i(t)}),!1),t.readAsDataURL(s.response)}else i("Failed to proxy resource "+r+" with status code "+s.status)},s.onerror=i,s.open("GET",n+"?url="+encodeURIComponent(t)+"&responseType="+o),"text"!==o&&s instanceof XMLHttpRequest&&(s.responseType=o),e._options.imageTimeout){var a=e._options.imageTimeout;s.timeout=a,s.ontimeout=function(){return i("Timed out ("+a+"ms) proxying "+r)}}s.send()}))},t}(),Pe=/^data:image\/svg\+xml/i,ke=/^data:image\/.*;base64,/i,Ve=/^data:image\/.*/i,ze=function(t){return Oe.SUPPORT_SVG_DRAWING||!Je(t)},Ge=function(t){return Ve.test(t)},Xe=function(t){return ke.test(t)},qe=function(t){return"blob"===t.substr(0,4)},Je=function(t){return"svg"===t.substr(-3).toLowerCase()||Pe.test(t)},je="closest-side",We="farthest-side",Ye="closest-corner",Ze="farthest-corner",$e="circle",tn="ellipse",en="cover",nn="contain",rn=function(t){var e=An.CIRCLE,n=on.FARTHEST_CORNER,r=[],A=[];return Yt(t).forEach((function(t,i){var o=!0;if(0===i?o=t.reduce((function(t,e){if(Xt(e))switch(e.value){case"center":return A.push(re),!1;case"top":case"left":return A.push(ne),!1;case"right":case"bottom":return A.push(Ae),!1}else if(te(e)||$t(e))return A.push(e),!1;return t}),o):1===i&&(o=t.reduce((function(t,r){if(Xt(r))switch(r.value){case $e:return e=An.CIRCLE,!1;case tn:return e=An.ELLIPSE,!1;case nn:case je:return n=on.CLOSEST_SIDE,!1;case We:return n=on.FARTHEST_SIDE,!1;case Ye:return n=on.CLOSEST_CORNER,!1;case en:case Ze:return n=on.FARTHEST_CORNER,!1}else if($t(r)||te(r))return Array.isArray(n)||(n=[]),n.push(r),!1;return t}),o)),o){var s=Ie(t);r.push(s)}})),{size:n,shape:e,stops:r,position:A,type:Ue.RADIAL_GRADIENT}};!function(t){t[t.URL=0]="URL",t[t.LINEAR_GRADIENT=1]="LINEAR_GRADIENT",t[t.RADIAL_GRADIENT=2]="RADIAL_GRADIENT"}(Ue||(Ue={}));var An,on;(function(t){t[t.CIRCLE=0]="CIRCLE",t[t.ELLIPSE=1]="ELLIPSE"})(An||(An={})),function(t){t[t.CLOSEST_SIDE=0]="CLOSEST_SIDE",t[t.FARTHEST_SIDE=1]="FARTHEST_SIDE",t[t.CLOSEST_CORNER=2]="CLOSEST_CORNER",t[t.FARTHEST_CORNER=3]="FARTHEST_CORNER"}(on||(on={}));var sn=function(t){if(t.type===h.URL_TOKEN){var e={url:t.value,type:Ue.URL};return Me.getInstance().addImage(t.value),e}if(t.type===h.FUNCTION){var n=un[t.name];if(void 0===n)throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return n(t.values)}throw new Error("Unsupported image type")};var an,un={"linear-gradient":function(t){var e=he(180),n=[];return Yt(t).forEach((function(t,r){if(0===r){var A=t[0];if(A.type===h.IDENT_TOKEN&&"to"===A.value)return void(e=le(t));if(ce(A))return void(e=ue(A))}var i=Ie(t);n.push(i)})),{angle:e,stops:n,type:Ue.LINEAR_GRADIENT}},"-moz-linear-gradient":Se,"-ms-linear-gradient":Se,"-o-linear-gradient":Se,"-webkit-linear-gradient":Se,"radial-gradient":function(t){var e=An.CIRCLE,n=on.FARTHEST_CORNER,r=[],A=[];return Yt(t).forEach((function(t,i){var o=!0;if(0===i){var s=!1;o=t.reduce((function(t,r){if(s)if(Xt(r))switch(r.value){case"center":return A.push(re),t;case"top":case"left":return A.push(ne),t;case"right":case"bottom":return A.push(Ae),t}else(te(r)||$t(r))&&A.push(r);else if(Xt(r))switch(r.value){case $e:return e=An.CIRCLE,!1;case tn:return e=An.ELLIPSE,!1;case"at":return s=!0,!1;case je:return n=on.CLOSEST_SIDE,!1;case en:case We:return n=on.FARTHEST_SIDE,!1;case nn:case Ye:return n=on.CLOSEST_CORNER,!1;case Ze:return n=on.FARTHEST_CORNER,!1}else if($t(r)||te(r))return Array.isArray(n)||(n=[]),n.push(r),!1;return t}),o)}if(o){var a=Ie(t);r.push(a)}})),{size:n,shape:e,stops:r,position:A,type:Ue.RADIAL_GRADIENT}},"-moz-radial-gradient":rn,"-ms-radial-gradient":rn,"-o-radial-gradient":rn,"-webkit-radial-gradient":rn,"-webkit-gradient":function(t){var e=he(180),n=[],r=Ue.LINEAR_GRADIENT,A=An.CIRCLE,i=on.FARTHEST_CORNER;return Yt(t).forEach((function(t,e){var A=t[0];if(0===e){if(Xt(A)&&"linear"===A.value)return void(r=Ue.LINEAR_GRADIENT);if(Xt(A)&&"radial"===A.value)return void(r=Ue.RADIAL_GRADIENT)}if(A.type===h.FUNCTION)if("from"===A.name){var i=fe(A.values[0]);n.push({stop:ne,color:i})}else if("to"===A.name)i=fe(A.values[0]),n.push({stop:Ae,color:i});else if("color-stop"===A.name){var o=A.values.filter(Wt);if(2===o.length){i=fe(o[1]);var s=o[0];Gt(s)&&n.push({stop:{type:h.PERCENTAGE_TOKEN,number:100*s.number,flags:s.flags},color:i})}}})),r===Ue.LINEAR_GRADIENT?{angle:(e+he(180))%he(360),stops:n,type:r}:{size:i,shape:A,stops:n,position:[],type:r}}},cn={name:"background-image",initialValue:"none",type:ve.LIST,prefix:!1,parse:function(t){if(0===t.length)return[];var e=t[0];return e.type===h.IDENT_TOKEN&&"none"===e.value?[]:t.filter((function(t){return Wt(t)&&function(t){return t.type!==h.FUNCTION||un[t.name]}(t)})).map(sn)}},ln={name:"background-origin",initialValue:"border-box",prefix:!1,type:ve.LIST,parse:function(t){return t.map((function(t){if(Xt(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},hn={name:"background-position",initialValue:"0% 0%",type:ve.LIST,prefix:!1,parse:function(t){return Yt(t).map((function(t){return t.filter(te)})).map(ee)}};!function(t){t[t.REPEAT=0]="REPEAT",t[t.NO_REPEAT=1]="NO_REPEAT",t[t.REPEAT_X=2]="REPEAT_X",t[t.REPEAT_Y=3]="REPEAT_Y"}(an||(an={}));var fn,dn={name:"background-repeat",initialValue:"repeat",prefix:!1,type:ve.LIST,parse:function(t){return Yt(t).map((function(t){return t.filter(Xt).map((function(t){return t.value})).join(" ")})).map(pn)}},pn=function(t){switch(t){case"no-repeat":return an.NO_REPEAT;case"repeat-x":case"repeat no-repeat":return an.REPEAT_X;case"repeat-y":case"no-repeat repeat":return an.REPEAT_Y;case"repeat":default:return an.REPEAT}};!function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"}(fn||(fn={}));var gn,Bn={name:"background-size",initialValue:"0",prefix:!1,type:ve.LIST,parse:function(t){return Yt(t).map((function(t){return t.filter(wn)}))}},wn=function(t){return Xt(t)||te(t)},yn=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:ve.TYPE_VALUE,format:"color"}},vn=yn("top"),mn=yn("right"),En=yn("bottom"),Qn=yn("left"),Cn=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:ve.LIST,parse:function(t){return ee(t.filter(te))}}},Un=Cn("top-left"),bn=Cn("top-right"),Fn=Cn("bottom-right"),In=Cn("bottom-left");!function(t){t[t.NONE=0]="NONE",t[t.SOLID=1]="SOLID"}(gn||(gn={}));var Nn,Tn=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:ve.IDENT_VALUE,parse:function(t){switch(t){case"none":return gn.NONE}return gn.SOLID}}},Hn=Tn("top"),_n=Tn("right"),Sn=Tn("bottom"),Dn=Tn("left"),Rn=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:ve.VALUE,prefix:!1,parse:function(t){return zt(t)?t.number:0}}},Kn=Rn("top"),On=Rn("right"),Ln=Rn("bottom"),Mn=Rn("left"),xn={name:"color",initialValue:"transparent",prefix:!1,type:ve.TYPE_VALUE,format:"color"},Pn={name:"display",initialValue:"inline-block",prefix:!1,type:ve.LIST,parse:function(t){return t.filter(Xt).reduce((function(t,e){return t|kn(e.value)}),0)}},kn=function(t){switch(t){case"block":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0};!function(t){t[t.NONE=0]="NONE",t[t.LEFT=1]="LEFT",t[t.RIGHT=2]="RIGHT",t[t.INLINE_START=3]="INLINE_START",t[t.INLINE_END=4]="INLINE_END"}(Nn||(Nn={}));var Vn,zn={name:"float",initialValue:"none",prefix:!1,type:ve.IDENT_VALUE,parse:function(t){switch(t){case"left":return Nn.LEFT;case"right":return Nn.RIGHT;case"inline-start":return Nn.INLINE_START;case"inline-end":return Nn.INLINE_END}return Nn.NONE}},Gn={name:"letter-spacing",initialValue:"0",prefix:!1,type:ve.VALUE,parse:function(t){return t.type===h.IDENT_TOKEN&&"normal"===t.value?0:t.type===h.NUMBER_TOKEN||t.type===h.DIMENSION_TOKEN?t.number:0}};!function(t){t.NORMAL="normal",t.STRICT="strict"}(Vn||(Vn={}));var Xn,qn={name:"line-break",initialValue:"normal",prefix:!1,type:ve.IDENT_VALUE,parse:function(t){switch(t){case"strict":return Vn.STRICT;case"normal":default:return Vn.NORMAL}}},Jn={name:"line-height",initialValue:"normal",prefix:!1,type:ve.TOKEN_VALUE},jn={name:"list-style-image",initialValue:"none",type:ve.VALUE,prefix:!1,parse:function(t){return t.type===h.IDENT_TOKEN&&"none"===t.value?null:sn(t)}};!function(t){t[t.INSIDE=0]="INSIDE",t[t.OUTSIDE=1]="OUTSIDE"}(Xn||(Xn={}));var Wn,Yn={name:"list-style-position",initialValue:"outside",prefix:!1,type:ve.IDENT_VALUE,parse:function(t){switch(t){case"inside":return Xn.INSIDE;case"outside":default:return Xn.OUTSIDE}}};!function(t){t[t.NONE=-1]="NONE",t[t.DISC=0]="DISC",t[t.CIRCLE=1]="CIRCLE",t[t.SQUARE=2]="SQUARE",t[t.DECIMAL=3]="DECIMAL",t[t.CJK_DECIMAL=4]="CJK_DECIMAL",t[t.DECIMAL_LEADING_ZERO=5]="DECIMAL_LEADING_ZERO",t[t.LOWER_ROMAN=6]="LOWER_ROMAN",t[t.UPPER_ROMAN=7]="UPPER_ROMAN",t[t.LOWER_GREEK=8]="LOWER_GREEK",t[t.LOWER_ALPHA=9]="LOWER_ALPHA",t[t.UPPER_ALPHA=10]="UPPER_ALPHA",t[t.ARABIC_INDIC=11]="ARABIC_INDIC",t[t.ARMENIAN=12]="ARMENIAN",t[t.BENGALI=13]="BENGALI",t[t.CAMBODIAN=14]="CAMBODIAN",t[t.CJK_EARTHLY_BRANCH=15]="CJK_EARTHLY_BRANCH",t[t.CJK_HEAVENLY_STEM=16]="CJK_HEAVENLY_STEM",t[t.CJK_IDEOGRAPHIC=17]="CJK_IDEOGRAPHIC",t[t.DEVANAGARI=18]="DEVANAGARI",t[t.ETHIOPIC_NUMERIC=19]="ETHIOPIC_NUMERIC",t[t.GEORGIAN=20]="GEORGIAN",t[t.GUJARATI=21]="GUJARATI",t[t.GURMUKHI=22]="GURMUKHI",t[t.HEBREW=22]="HEBREW",t[t.HIRAGANA=23]="HIRAGANA",t[t.HIRAGANA_IROHA=24]="HIRAGANA_IROHA",t[t.JAPANESE_FORMAL=25]="JAPANESE_FORMAL",t[t.JAPANESE_INFORMAL=26]="JAPANESE_INFORMAL",t[t.KANNADA=27]="KANNADA",t[t.KATAKANA=28]="KATAKANA",t[t.KATAKANA_IROHA=29]="KATAKANA_IROHA",t[t.KHMER=30]="KHMER",t[t.KOREAN_HANGUL_FORMAL=31]="KOREAN_HANGUL_FORMAL",t[t.KOREAN_HANJA_FORMAL=32]="KOREAN_HANJA_FORMAL",t[t.KOREAN_HANJA_INFORMAL=33]="KOREAN_HANJA_INFORMAL",t[t.LAO=34]="LAO",t[t.LOWER_ARMENIAN=35]="LOWER_ARMENIAN",t[t.MALAYALAM=36]="MALAYALAM",t[t.MONGOLIAN=37]="MONGOLIAN",t[t.MYANMAR=38]="MYANMAR",t[t.ORIYA=39]="ORIYA",t[t.PERSIAN=40]="PERSIAN",t[t.SIMP_CHINESE_FORMAL=41]="SIMP_CHINESE_FORMAL",t[t.SIMP_CHINESE_INFORMAL=42]="SIMP_CHINESE_INFORMAL",t[t.TAMIL=43]="TAMIL",t[t.TELUGU=44]="TELUGU",t[t.THAI=45]="THAI",t[t.TIBETAN=46]="TIBETAN",t[t.TRAD_CHINESE_FORMAL=47]="TRAD_CHINESE_FORMAL",t[t.TRAD_CHINESE_INFORMAL=48]="TRAD_CHINESE_INFORMAL",t[t.UPPER_ARMENIAN=49]="UPPER_ARMENIAN",t[t.DISCLOSURE_OPEN=50]="DISCLOSURE_OPEN",t[t.DISCLOSURE_CLOSED=51]="DISCLOSURE_CLOSED"}(Wn||(Wn={}));var Zn,$n={name:"list-style-type",initialValue:"none",prefix:!1,type:ve.IDENT_VALUE,parse:function(t){switch(t){case"disc":return Wn.DISC;case"circle":return Wn.CIRCLE;case"square":return Wn.SQUARE;case"decimal":return Wn.DECIMAL;case"cjk-decimal":return Wn.CJK_DECIMAL;case"decimal-leading-zero":return Wn.DECIMAL_LEADING_ZERO;case"lower-roman":return Wn.LOWER_ROMAN;case"upper-roman":return Wn.UPPER_ROMAN;case"lower-greek":return Wn.LOWER_GREEK;case"lower-alpha":return Wn.LOWER_ALPHA;case"upper-alpha":return Wn.UPPER_ALPHA;case"arabic-indic":return Wn.ARABIC_INDIC;case"armenian":return Wn.ARMENIAN;case"bengali":return Wn.BENGALI;case"cambodian":return Wn.CAMBODIAN;case"cjk-earthly-branch":return Wn.CJK_EARTHLY_BRANCH;case"cjk-heavenly-stem":return Wn.CJK_HEAVENLY_STEM;case"cjk-ideographic":return Wn.CJK_IDEOGRAPHIC;case"devanagari":return Wn.DEVANAGARI;case"ethiopic-numeric":return Wn.ETHIOPIC_NUMERIC;case"georgian":return Wn.GEORGIAN;case"gujarati":return Wn.GUJARATI;case"gurmukhi":return Wn.GURMUKHI;case"hebrew":return Wn.HEBREW;case"hiragana":return Wn.HIRAGANA;case"hiragana-iroha":return Wn.HIRAGANA_IROHA;case"japanese-formal":return Wn.JAPANESE_FORMAL;case"japanese-informal":return Wn.JAPANESE_INFORMAL;case"kannada":return Wn.KANNADA;case"katakana":return Wn.KATAKANA;case"katakana-iroha":return Wn.KATAKANA_IROHA;case"khmer":return Wn.KHMER;case"korean-hangul-formal":return Wn.KOREAN_HANGUL_FORMAL;case"korean-hanja-formal":return Wn.KOREAN_HANJA_FORMAL;case"korean-hanja-informal":return Wn.KOREAN_HANJA_INFORMAL;case"lao":return Wn.LAO;case"lower-armenian":return Wn.LOWER_ARMENIAN;case"malayalam":return Wn.MALAYALAM;case"mongolian":return Wn.MONGOLIAN;case"myanmar":return Wn.MYANMAR;case"oriya":return Wn.ORIYA;case"persian":return Wn.PERSIAN;case"simp-chinese-formal":return Wn.SIMP_CHINESE_FORMAL;case"simp-chinese-informal":return Wn.SIMP_CHINESE_INFORMAL;case"tamil":return Wn.TAMIL;case"telugu":return Wn.TELUGU;case"thai":return Wn.THAI;case"tibetan":return Wn.TIBETAN;case"trad-chinese-formal":return Wn.TRAD_CHINESE_FORMAL;case"trad-chinese-informal":return Wn.TRAD_CHINESE_INFORMAL;case"upper-armenian":return Wn.UPPER_ARMENIAN;case"disclosure-open":return Wn.DISCLOSURE_OPEN;case"disclosure-closed":return Wn.DISCLOSURE_CLOSED;case"none":default:return Wn.NONE}}},tr=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:ve.TOKEN_VALUE}},er=tr("top"),nr=tr("right"),rr=tr("bottom"),Ar=tr("left");!function(t){t[t.VISIBLE=0]="VISIBLE",t[t.HIDDEN=1]="HIDDEN",t[t.SCROLL=2]="SCROLL",t[t.AUTO=3]="AUTO"}(Zn||(Zn={}));var ir,or={name:"overflow",initialValue:"visible",prefix:!1,type:ve.LIST,parse:function(t){return t.filter(Xt).map((function(t){switch(t.value){case"hidden":return Zn.HIDDEN;case"scroll":return Zn.SCROLL;case"auto":return Zn.AUTO;case"visible":default:return Zn.VISIBLE}}))}};!function(t){t.NORMAL="normal",t.BREAK_WORD="break-word"}(ir||(ir={}));var sr,ar={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:ve.IDENT_VALUE,parse:function(t){switch(t){case"break-word":return ir.BREAK_WORD;case"normal":default:return ir.NORMAL}}},ur=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:ve.TYPE_VALUE,format:"length-percentage"}},cr=ur("top"),lr=ur("right"),hr=ur("bottom"),fr=ur("left");!function(t){t[t.LEFT=0]="LEFT",t[t.CENTER=1]="CENTER",t[t.RIGHT=2]="RIGHT"}(sr||(sr={}));var dr,pr={name:"text-align",initialValue:"left",prefix:!1,type:ve.IDENT_VALUE,parse:function(t){switch(t){case"right":return sr.RIGHT;case"center":case"justify":return sr.CENTER;case"left":default:return sr.LEFT}}};!function(t){t[t.STATIC=0]="STATIC",t[t.RELATIVE=1]="RELATIVE",t[t.ABSOLUTE=2]="ABSOLUTE",t[t.FIXED=3]="FIXED",t[t.STICKY=4]="STICKY"}(dr||(dr={}));var gr,Br={name:"position",initialValue:"static",prefix:!1,type:ve.IDENT_VALUE,parse:function(t){switch(t){case"relative":return dr.RELATIVE;case"absolute":return dr.ABSOLUTE;case"fixed":return dr.FIXED;case"sticky":return dr.STICKY}return dr.STATIC}},wr={name:"text-shadow",initialValue:"none",type:ve.LIST,prefix:!1,parse:function(t){return 1===t.length&&Jt(t[0],"none")?[]:Yt(t).map((function(t){for(var e={color:Ce.TRANSPARENT,offsetX:ne,offsetY:ne,blur:ne},n=0,r=0;r<t.length;r++){var A=t[r];$t(A)?(0===n?e.offsetX=A:1===n?e.offsetY=A:e.blur=A,n++):e.color=fe(A)}return e}))}};!function(t){t[t.NONE=0]="NONE",t[t.LOWERCASE=1]="LOWERCASE",t[t.UPPERCASE=2]="UPPERCASE",t[t.CAPITALIZE=3]="CAPITALIZE"}(gr||(gr={}));var yr,vr={name:"text-transform",initialValue:"none",prefix:!1,type:ve.IDENT_VALUE,parse:function(t){switch(t){case"uppercase":return gr.UPPERCASE;case"lowercase":return gr.LOWERCASE;case"capitalize":return gr.CAPITALIZE}return gr.NONE}},mr={name:"transform",initialValue:"none",prefix:!0,type:ve.VALUE,parse:function(t){if(t.type===h.IDENT_TOKEN&&"none"===t.value)return null;if(t.type===h.FUNCTION){var e=Er[t.name];if(void 0===e)throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return e(t.values)}return null}},Er={matrix:function(t){var e=t.filter((function(t){return t.type===h.NUMBER_TOKEN})).map((function(t){return t.number}));return 6===e.length?e:null},matrix3d:function(t){var e=t.filter((function(t){return t.type===h.NUMBER_TOKEN})).map((function(t){return t.number})),n=e[0],r=e[1],A=(e[2],e[3],e[4]),i=e[5],o=(e[6],e[7],e[8],e[9],e[10],e[11],e[12]),s=e[13];return e[14],e[15],16===e.length?[n,r,A,i,o,s]:null}},Qr={type:h.PERCENTAGE_TOKEN,number:50,flags:4},Cr=[Qr,Qr],Ur={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:ve.LIST,parse:function(t){var e=t.filter(te);return 2!==e.length?Cr:[e[0],e[1]]}};!function(t){t[t.VISIBLE=0]="VISIBLE",t[t.HIDDEN=1]="HIDDEN",t[t.COLLAPSE=2]="COLLAPSE"}(yr||(yr={}));var br,Fr={name:"visible",initialValue:"none",prefix:!1,type:ve.IDENT_VALUE,parse:function(t){switch(t){case"hidden":return yr.HIDDEN;case"collapse":return yr.COLLAPSE;case"visible":default:return yr.VISIBLE}}};!function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"}(br||(br={}));var Ir,Nr={name:"word-break",initialValue:"normal",prefix:!1,type:ve.IDENT_VALUE,parse:function(t){switch(t){case"break-all":return br.BREAK_ALL;case"keep-all":return br.KEEP_ALL;case"normal":default:return br.NORMAL}}},Tr={name:"z-index",initialValue:"auto",prefix:!1,type:ve.VALUE,parse:function(t){if(t.type===h.IDENT_TOKEN)return{auto:!0,order:0};if(Gt(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},Hr={name:"opacity",initialValue:"1",type:ve.VALUE,prefix:!1,parse:function(t){return Gt(t)?t.number:1}},_r={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:ve.TYPE_VALUE,format:"color"},Sr={name:"text-decoration-line",initialValue:"none",prefix:!1,type:ve.LIST,parse:function(t){return t.filter(Xt).map((function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0})).filter((function(t){return 0!==t}))}},Dr={name:"font-family",initialValue:"",prefix:!1,type:ve.LIST,parse:function(t){var e=[],n=[];return t.forEach((function(t){switch(t.type){case h.IDENT_TOKEN:case h.STRING_TOKEN:e.push(t.value);break;case h.NUMBER_TOKEN:e.push(t.number.toString());break;case h.COMMA_TOKEN:n.push(e.join(" ")),e.length=0}})),e.length&&n.push(e.join(" ")),n.map((function(t){return-1===t.indexOf(" ")?t:"'"+t+"'"}))}},Rr={name:"font-size",initialValue:"0",prefix:!1,type:ve.TYPE_VALUE,format:"length"},Kr={name:"font-weight",initialValue:"normal",type:ve.VALUE,prefix:!1,parse:function(t){if(Gt(t))return t.number;if(Xt(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},Or={name:"font-variant",initialValue:"none",type:ve.LIST,prefix:!1,parse:function(t){return t.filter(Xt).map((function(t){return t.value}))}};!function(t){t.NORMAL="normal",t.ITALIC="italic",t.OBLIQUE="oblique"}(Ir||(Ir={}));var Lr,Mr={name:"font-style",initialValue:"normal",prefix:!1,type:ve.IDENT_VALUE,parse:function(t){switch(t){case"oblique":return Ir.OBLIQUE;case"italic":return Ir.ITALIC;case"normal":default:return Ir.NORMAL}}},xr=function(t,e){return 0!=(t&e)},Pr={name:"content",initialValue:"none",type:ve.LIST,prefix:!1,parse:function(t){if(0===t.length)return[];var e=t[0];return e.type===h.IDENT_TOKEN&&"none"===e.value?[]:t}},kr={name:"counter-increment",initialValue:"none",prefix:!0,type:ve.LIST,parse:function(t){if(0===t.length)return null;var e=t[0];if(e.type===h.IDENT_TOKEN&&"none"===e.value)return null;for(var n=[],r=t.filter(jt),A=0;A<r.length;A++){var i=r[A],o=r[A+1];if(i.type===h.IDENT_TOKEN){var s=o&&Gt(o)?o.number:1;n.push({counter:i.value,increment:s})}}return n}},Vr={name:"counter-reset",initialValue:"none",prefix:!0,type:ve.LIST,parse:function(t){if(0===t.length)return[];for(var e=[],n=t.filter(jt),r=0;r<n.length;r++){var A=n[r],i=n[r+1];if(Xt(A)&&"none"!==A.value){var o=i&&Gt(i)?i.number:0;e.push({counter:A.value,reset:o})}}return e}},zr={name:"quotes",initialValue:"none",prefix:!0,type:ve.LIST,parse:function(t){if(0===t.length)return null;var e=t[0];if(e.type===h.IDENT_TOKEN&&"none"===e.value)return null;var n=[],r=t.filter(qt);if(r.length%2!=0)return null;for(var A=0;A<r.length;A+=2){var i=r[A].value,o=r[A+1].value;n.push({open:i,close:o})}return n}},Gr=function(t,e,n){if(!t)return"";var r=t[Math.min(e,t.length-1)];return r?n?r.open:r.close:""},Xr={name:"box-shadow",initialValue:"none",type:ve.LIST,prefix:!1,parse:function(t){return 1===t.length&&Jt(t[0],"none")?[]:Yt(t).map((function(t){for(var e={color:255,offsetX:ne,offsetY:ne,blur:ne,spread:ne,inset:!1},n=0,r=0;r<t.length;r++){var A=t[r];Jt(A,"inset")?e.inset=!0:$t(A)?(0===n?e.offsetX=A:1===n?e.offsetY=A:2===n?e.blur=A:e.spread=A,n++):e.color=fe(A)}return e}))}},qr=function(){function t(t){this.backgroundClip=Wr(be,t.backgroundClip),this.backgroundColor=Wr(Fe,t.backgroundColor),this.backgroundImage=Wr(cn,t.backgroundImage),this.backgroundOrigin=Wr(ln,t.backgroundOrigin),this.backgroundPosition=Wr(hn,t.backgroundPosition),this.backgroundRepeat=Wr(dn,t.backgroundRepeat),this.backgroundSize=Wr(Bn,t.backgroundSize),this.borderTopColor=Wr(vn,t.borderTopColor),this.borderRightColor=Wr(mn,t.borderRightColor),this.borderBottomColor=Wr(En,t.borderBottomColor),this.borderLeftColor=Wr(Qn,t.borderLeftColor),this.borderTopLeftRadius=Wr(Un,t.borderTopLeftRadius),this.borderTopRightRadius=Wr(bn,t.borderTopRightRadius),this.borderBottomRightRadius=Wr(Fn,t.borderBottomRightRadius),this.borderBottomLeftRadius=Wr(In,t.borderBottomLeftRadius),this.borderTopStyle=Wr(Hn,t.borderTopStyle),this.borderRightStyle=Wr(_n,t.borderRightStyle),this.borderBottomStyle=Wr(Sn,t.borderBottomStyle),this.borderLeftStyle=Wr(Dn,t.borderLeftStyle),this.borderTopWidth=Wr(Kn,t.borderTopWidth),this.borderRightWidth=Wr(On,t.borderRightWidth),this.borderBottomWidth=Wr(Ln,t.borderBottomWidth),this.borderLeftWidth=Wr(Mn,t.borderLeftWidth),this.boxShadow=Wr(Xr,t.boxShadow),this.color=Wr(xn,t.color),this.display=Wr(Pn,t.display),this.float=Wr(zn,t.cssFloat),this.fontFamily=Wr(Dr,t.fontFamily),this.fontSize=Wr(Rr,t.fontSize),this.fontStyle=Wr(Mr,t.fontStyle),this.fontVariant=Wr(Or,t.fontVariant),this.fontWeight=Wr(Kr,t.fontWeight),this.letterSpacing=Wr(Gn,t.letterSpacing),this.lineBreak=Wr(qn,t.lineBreak),this.lineHeight=Wr(Jn,t.lineHeight),this.listStyleImage=Wr(jn,t.listStyleImage),this.listStylePosition=Wr(Yn,t.listStylePosition),this.listStyleType=Wr($n,t.listStyleType),this.marginTop=Wr(er,t.marginTop),this.marginRight=Wr(nr,t.marginRight),this.marginBottom=Wr(rr,t.marginBottom),this.marginLeft=Wr(Ar,t.marginLeft),this.opacity=Wr(Hr,t.opacity);var e=Wr(or,t.overflow);this.overflowX=e[0],this.overflowY=e[e.length>1?1:0],this.overflowWrap=Wr(ar,t.overflowWrap),this.paddingTop=Wr(cr,t.paddingTop),this.paddingRight=Wr(lr,t.paddingRight),this.paddingBottom=Wr(hr,t.paddingBottom),this.paddingLeft=Wr(fr,t.paddingLeft),this.position=Wr(Br,t.position),this.textAlign=Wr(pr,t.textAlign),this.textDecorationColor=Wr(_r,t.textDecorationColor||t.color),this.textDecorationLine=Wr(Sr,t.textDecorationLine),this.textShadow=Wr(wr,t.textShadow),this.textTransform=Wr(vr,t.textTransform),this.transform=Wr(mr,t.transform),this.transformOrigin=Wr(Ur,t.transformOrigin),this.visibility=Wr(Fr,t.visibility),this.wordBreak=Wr(Nr,t.wordBreak),this.zIndex=Wr(Tr,t.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===yr.VISIBLE},t.prototype.isTransparent=function(){return de(this.backgroundColor)},t.prototype.isTransformed=function(){return null!==this.transform},t.prototype.isPositioned=function(){return this.position!==dr.STATIC},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==Nn.NONE},t.prototype.isInlineLevel=function(){return xr(this.display,4)||xr(this.display,33554432)||xr(this.display,268435456)||xr(this.display,536870912)||xr(this.display,67108864)||xr(this.display,134217728)},t}(),Jr=function(t){this.content=Wr(Pr,t.content),this.quotes=Wr(zr,t.quotes)},jr=function(t){this.counterIncrement=Wr(kr,t.counterIncrement),this.counterReset=Wr(Vr,t.counterReset)},Wr=function(t,e){var n=new kt,r=null!=e?e.toString():t.initialValue;n.write(r);var A=new Vt(n.read());switch(t.type){case ve.IDENT_VALUE:var i=A.parseComponentValue();return t.parse(Xt(i)?i.value:t.initialValue);case ve.VALUE:return t.parse(A.parseComponentValue());case ve.LIST:return t.parse(A.parseComponentValues());case ve.TOKEN_VALUE:return A.parseComponentValue();case ve.TYPE_VALUE:switch(t.format){case"angle":return ue(A.parseComponentValue());case"color":return fe(A.parseComponentValue());case"image":return sn(A.parseComponentValue());case"length":var o=A.parseComponentValue();return $t(o)?o:ne;case"length-percentage":var s=A.parseComponentValue();return te(s)?s:ne}}throw new Error("Attempting to parse unsupported css format type "+t.format)},Yr=function(t){this.styles=new qr(window.getComputedStyle(t,null)),this.textNodes=[],this.elements=[],null!==this.styles.transform&&HA(t)&&(t.style.transform="none"),this.bounds=o(t),this.flags=0},Zr=function(t,e){this.text=t,this.bounds=e},$r=function(t){var e=t.ownerDocument;if(e){var n=e.createElement("html2canvaswrapper");n.appendChild(t.cloneNode(!0));var r=t.parentNode;if(r){r.replaceChild(n,t);var A=o(n);return n.firstChild&&r.replaceChild(n.firstChild,n),A}}return new i(0,0,0,0)},tA=function(t,e,n){var r=t.ownerDocument;if(!r)throw new Error("Node has no owner document");var A=r.createRange();return A.setStart(t,e),A.setEnd(t,e+n),i.fromClientRect(A.getBoundingClientRect())},eA=function(t,e){return 0!==e.letterSpacing?s(t).map((function(t){return a(t)})):nA(t,e)},nA=function(t,e){for(var n,r=function(t,e){var n=s(t),r=ot(n,e),A=r[0],i=r[1],o=r[2],a=n.length,u=0,c=0;return{next:function(){if(c>=a)return{done:!0,value:null};for(var t=q;c<a&&(t=it(n,i,A,++c,o))===q;);if(t!==q||c===a){var e=new st(n,t,u,c);return u=c,{value:e,done:!1}}return{done:!0,value:null}}}}(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap===ir.BREAK_WORD?"break-word":e.wordBreak}),A=[];!(n=r.next()).done;)n.value&&A.push(n.value.slice());return A},rA=function(t,e){this.text=AA(t.data,e.textTransform),this.textBounds=function(t,e,n){var r=eA(t,e),A=[],i=0;return r.forEach((function(t){if(e.textDecorationLine.length||t.trim().length>0)if(Oe.SUPPORT_RANGE_BOUNDS)A.push(new Zr(t,tA(n,i,t.length)));else{var r=n.splitText(t.length);A.push(new Zr(t,$r(n))),n=r}else Oe.SUPPORT_RANGE_BOUNDS||(n=n.splitText(t.length));i+=t.length})),A}(this.text,e,t)},AA=function(t,e){switch(e){case gr.LOWERCASE:return t.toLowerCase();case gr.CAPITALIZE:return t.replace(iA,oA);case gr.UPPERCASE:return t.toUpperCase();default:return t}},iA=/(^|\s|:|-|\(|\))([a-z])/g,oA=function(t,e,n){return t.length>0?e+n.toUpperCase():t},sA=function(t){function n(e){var n=t.call(this,e)||this;return n.src=e.currentSrc||e.src,n.intrinsicWidth=e.naturalWidth,n.intrinsicHeight=e.naturalHeight,Me.getInstance().addImage(n.src),n}return e(n,t),n}(Yr),aA=function(t){function n(e){var n=t.call(this,e)||this;return n.canvas=e,n.intrinsicWidth=e.width,n.intrinsicHeight=e.height,n}return e(n,t),n}(Yr),uA=function(t){function n(e){var n=t.call(this,e)||this,r=new XMLSerializer;return n.svg="data:image/svg+xml,"+encodeURIComponent(r.serializeToString(e)),n.intrinsicWidth=e.width.baseVal.value,n.intrinsicHeight=e.height.baseVal.value,Me.getInstance().addImage(n.svg),n}return e(n,t),n}(Yr),cA=function(t){function n(e){var n=t.call(this,e)||this;return n.value=e.value,n}return e(n,t),n}(Yr),lA=function(t){function n(e){var n=t.call(this,e)||this;return n.start=e.start,n.reversed="boolean"==typeof e.reversed&&!0===e.reversed,n}return e(n,t),n}(Yr),hA=[{type:h.DIMENSION_TOKEN,flags:0,unit:"px",number:3}],fA=[{type:h.PERCENTAGE_TOKEN,flags:0,number:50}],dA="checkbox",pA="radio",gA="password",BA=707406591,wA=function(t){function n(e){var n,r,A,o=t.call(this,e)||this;switch(o.type=e.type.toLowerCase(),o.checked=e.checked,o.value=0===(A=(r=e).type===gA?new Array(r.value.length+1).join("•"):r.value).length?r.placeholder||"":A,o.type!==dA&&o.type!==pA||(o.styles.backgroundColor=3739148031,o.styles.borderTopColor=o.styles.borderRightColor=o.styles.borderBottomColor=o.styles.borderLeftColor=2779096575,o.styles.borderTopWidth=o.styles.borderRightWidth=o.styles.borderBottomWidth=o.styles.borderLeftWidth=1,o.styles.borderTopStyle=o.styles.borderRightStyle=o.styles.borderBottomStyle=o.styles.borderLeftStyle=gn.SOLID,o.styles.backgroundClip=[me.BORDER_BOX],o.styles.backgroundOrigin=[0],o.bounds=(n=o.bounds).width>n.height?new i(n.left+(n.width-n.height)/2,n.top,n.height,n.height):n.width<n.height?new i(n.left,n.top+(n.height-n.width)/2,n.width,n.width):n),o.type){case dA:o.styles.borderTopRightRadius=o.styles.borderTopLeftRadius=o.styles.borderBottomRightRadius=o.styles.borderBottomLeftRadius=hA;break;case pA:o.styles.borderTopRightRadius=o.styles.borderTopLeftRadius=o.styles.borderBottomRightRadius=o.styles.borderBottomLeftRadius=fA}return o}return e(n,t),n}(Yr),yA=function(t){function n(e){var n=t.call(this,e)||this,r=e.options[e.selectedIndex||0];return n.value=r&&r.text||"",n}return e(n,t),n}(Yr),vA=function(t){function n(e){var n=t.call(this,e)||this;return n.value=e.value,n}return e(n,t),n}(Yr),mA=function(t){return fe(Vt.create(t).parseComponentValue())},EA=function(t){function n(e){var n=t.call(this,e)||this;n.src=e.src,n.width=parseInt(e.width,10)||0,n.height=parseInt(e.height,10)||0,n.backgroundColor=n.styles.backgroundColor;try{if(e.contentWindow&&e.contentWindow.document&&e.contentWindow.document.documentElement){n.tree=bA(e.contentWindow.document.documentElement);var r=e.contentWindow.document.documentElement?mA(getComputedStyle(e.contentWindow.document.documentElement).backgroundColor):Ce.TRANSPARENT,A=e.contentWindow.document.body?mA(getComputedStyle(e.contentWindow.document.body).backgroundColor):Ce.TRANSPARENT;n.backgroundColor=de(r)?de(A)?n.styles.backgroundColor:A:r}}catch(t){}return n}return e(n,t),n}(Yr),QA=["OL","UL","MENU"],CA=function(t,e,n){for(var r=t.firstChild,A=void 0;r;r=A)if(A=r.nextSibling,NA(r)&&r.data.trim().length>0)e.textNodes.push(new rA(r,e.styles));else if(TA(r)){var i=UA(r);i.styles.isVisible()&&(FA(r,i,n)?i.flags|=4:IA(i.styles)&&(i.flags|=2),-1!==QA.indexOf(r.tagName)&&(i.flags|=8),e.elements.push(i),VA(r)||KA(r)||zA(r)||CA(r,i,n))}},UA=function(t){return MA(t)?new sA(t):LA(t)?new aA(t):KA(t)?new uA(t):SA(t)?new cA(t):DA(t)?new lA(t):RA(t)?new wA(t):zA(t)?new yA(t):VA(t)?new vA(t):xA(t)?new EA(t):new Yr(t)},bA=function(t){var e=UA(t);return e.flags|=4,CA(t,e,e),e},FA=function(t,e,n){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||OA(t)&&n.styles.isTransparent()},IA=function(t){return t.isPositioned()||t.isFloating()},NA=function(t){return t.nodeType===Node.TEXT_NODE},TA=function(t){return t.nodeType===Node.ELEMENT_NODE},HA=function(t){return TA(t)&&void 0!==t.style&&!_A(t)},_A=function(t){return"object"==typeof t.className},SA=function(t){return"LI"===t.tagName},DA=function(t){return"OL"===t.tagName},RA=function(t){return"INPUT"===t.tagName},KA=function(t){return"svg"===t.tagName},OA=function(t){return"BODY"===t.tagName},LA=function(t){return"CANVAS"===t.tagName},MA=function(t){return"IMG"===t.tagName},xA=function(t){return"IFRAME"===t.tagName},PA=function(t){return"STYLE"===t.tagName},kA=function(t){return"SCRIPT"===t.tagName},VA=function(t){return"TEXTAREA"===t.tagName},zA=function(t){return"SELECT"===t.tagName},GA=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(t){var e=this.counters[t];return e&&e.length?e[e.length-1]:1},t.prototype.getCounterValues=function(t){return this.counters[t]||[]},t.prototype.pop=function(t){var e=this;t.forEach((function(t){return e.counters[t].pop()}))},t.prototype.parse=function(t){var e=this,n=t.counterIncrement,r=t.counterReset,A=!0;null!==n&&n.forEach((function(t){var n=e.counters[t.counter];n&&0!==t.increment&&(A=!1,n[Math.max(0,n.length-1)]+=t.increment)}));var i=[];return A&&r.forEach((function(t){var n=e.counters[t.counter];i.push(t.counter),n||(n=e.counters[t.counter]=[]),n.push(t.reset)})),i},t}(),XA={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},qA={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},JA={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},jA={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},WA=function(t,e,n,r,A,i){return t<e||t>n?ii(t,A,i.length>0):r.integers.reduce((function(e,n,A){for(;t>=n;)t-=n,e+=r.values[A];return e}),"")+i},YA=function(t,e,n,r){var A="";do{n||t--,A=r(t)+A,t/=e}while(t*e>=e);return A},ZA=function(t,e,n,r,A){var i=n-e+1;return(t<0?"-":"")+(YA(Math.abs(t),i,r,(function(t){return a(Math.floor(t%i)+e)}))+A)},$A=function(t,e,n){void 0===n&&(n=". ");var r=e.length;return YA(Math.abs(t),r,!1,(function(t){return e[Math.floor(t%r)]}))+n},ti=function(t,e,n,r,A,i){if(t<-9999||t>9999)return ii(t,Wn.CJK_DECIMAL,A.length>0);var o=Math.abs(t),s=A;if(0===o)return e[0]+s;for(var a=0;o>0&&a<=4;a++){var u=o%10;0===u&&xr(i,1)&&""!==s?s=e[u]+s:u>1||1===u&&0===a||1===u&&1===a&&xr(i,2)||1===u&&1===a&&xr(i,4)&&t>100||1===u&&a>1&&xr(i,8)?s=e[u]+(a>0?n[a-1]:"")+s:1===u&&a>0&&(s=n[a-1]+s),o=Math.floor(o/10)}return(t<0?r:"")+s},ei="十百千萬",ni="拾佰仟萬",ri="マイナス",Ai="마이너스",ii=function(t,e,n){var r=n?". ":"",A=n?"、":"",i=n?", ":"",o=n?" ":"";switch(e){case Wn.DISC:return"•"+o;case Wn.CIRCLE:return"◦"+o;case Wn.SQUARE:return"◾"+o;case Wn.DECIMAL_LEADING_ZERO:var s=ZA(t,48,57,!0,r);return s.length<4?"0"+s:s;case Wn.CJK_DECIMAL:return $A(t,"〇一二三四五六七八九",A);case Wn.LOWER_ROMAN:return WA(t,1,3999,XA,Wn.DECIMAL,r).toLowerCase();case Wn.UPPER_ROMAN:return WA(t,1,3999,XA,Wn.DECIMAL,r);case Wn.LOWER_GREEK:return ZA(t,945,969,!1,r);case Wn.LOWER_ALPHA:return ZA(t,97,122,!1,r);case Wn.UPPER_ALPHA:return ZA(t,65,90,!1,r);case Wn.ARABIC_INDIC:return ZA(t,1632,1641,!0,r);case Wn.ARMENIAN:case Wn.UPPER_ARMENIAN:return WA(t,1,9999,qA,Wn.DECIMAL,r);case Wn.LOWER_ARMENIAN:return WA(t,1,9999,qA,Wn.DECIMAL,r).toLowerCase();case Wn.BENGALI:return ZA(t,2534,2543,!0,r);case Wn.CAMBODIAN:case Wn.KHMER:return ZA(t,6112,6121,!0,r);case Wn.CJK_EARTHLY_BRANCH:return $A(t,"子丑寅卯辰巳午未申酉戌亥",A);case Wn.CJK_HEAVENLY_STEM:return $A(t,"甲乙丙丁戊己庚辛壬癸",A);case Wn.CJK_IDEOGRAPHIC:case Wn.TRAD_CHINESE_INFORMAL:return ti(t,"零一二三四五六七八九",ei,"負",A,14);case Wn.TRAD_CHINESE_FORMAL:return ti(t,"零壹貳參肆伍陸柒捌玖",ni,"負",A,15);case Wn.SIMP_CHINESE_INFORMAL:return ti(t,"零一二三四五六七八九",ei,"负",A,14);case Wn.SIMP_CHINESE_FORMAL:return ti(t,"零壹贰叁肆伍陆柒捌玖",ni,"负",A,15);case Wn.JAPANESE_INFORMAL:return ti(t,"〇一二三四五六七八九","十百千万",ri,A,0);case Wn.JAPANESE_FORMAL:return ti(t,"零壱弐参四伍六七八九","拾百千万",ri,A,7);case Wn.KOREAN_HANGUL_FORMAL:return ti(t,"영일이삼사오육칠팔구","십백천만",Ai,i,7);case Wn.KOREAN_HANJA_INFORMAL:return ti(t,"零一二三四五六七八九","十百千萬",Ai,i,0);case Wn.KOREAN_HANJA_FORMAL:return ti(t,"零壹貳參四五六七八九","拾百千",Ai,i,7);case Wn.DEVANAGARI:return ZA(t,2406,2415,!0,r);case Wn.GEORGIAN:return WA(t,1,19999,jA,Wn.DECIMAL,r);case Wn.GUJARATI:return ZA(t,2790,2799,!0,r);case Wn.GURMUKHI:return ZA(t,2662,2671,!0,r);case Wn.HEBREW:return WA(t,1,10999,JA,Wn.DECIMAL,r);case Wn.HIRAGANA:return $A(t,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case Wn.HIRAGANA_IROHA:return $A(t,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case Wn.KANNADA:return ZA(t,3302,3311,!0,r);case Wn.KATAKANA:return $A(t,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",A);case Wn.KATAKANA_IROHA:return $A(t,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",A);case Wn.LAO:return ZA(t,3792,3801,!0,r);case Wn.MONGOLIAN:return ZA(t,6160,6169,!0,r);case Wn.MYANMAR:return ZA(t,4160,4169,!0,r);case Wn.ORIYA:return ZA(t,2918,2927,!0,r);case Wn.PERSIAN:return ZA(t,1776,1785,!0,r);case Wn.TAMIL:return ZA(t,3046,3055,!0,r);case Wn.TELUGU:return ZA(t,3174,3183,!0,r);case Wn.THAI:return ZA(t,3664,3673,!0,r);case Wn.TIBETAN:return ZA(t,3872,3881,!0,r);case Wn.DECIMAL:default:return ZA(t,48,57,!0,r)}},oi="data-html2canvas-ignore",si=function(){function t(t,e){if(this.options=e,this.scrolledElements=[],this.referenceElement=t,this.counters=new GA,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement)}return t.prototype.toIFrame=function(t,e){var n=this,i=ui(t,e);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var o=t.defaultView.pageXOffset,s=t.defaultView.pageYOffset,a=i.contentWindow,u=a.document,c=ci(i).then((function(){return r(n,void 0,void 0,(function(){var t;return A(this,(function(n){switch(n.label){case 0:return this.scrolledElements.forEach(di),a&&(a.scrollTo(e.left,e.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||a.scrollY===e.top&&a.scrollX===e.left||(u.documentElement.style.top=-e.top+"px",u.documentElement.style.left=-e.left+"px",u.documentElement.style.position="absolute")),t=this.options.onclone,void 0===this.clonedReferenceElement?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:u.fonts&&u.fonts.ready?[4,u.fonts.ready]:[3,2];case 1:n.sent(),n.label=2;case 2:return"function"==typeof t?[2,Promise.resolve().then((function(){return t(u)})).then((function(){return i}))]:[2,i]}}))}))}));return u.open(),u.write(hi(document.doctype)+"<html></html>"),fi(this.referenceElement.ownerDocument,o,s),u.replaceChild(u.adoptNode(this.documentElement),u.documentElement),u.close(),c},t.prototype.createElementClone=function(t){if(LA(t))return this.createCanvasClone(t);if(PA(t))return this.createStyleClone(t);var e=t.cloneNode(!1);return MA(e)&&"lazy"===e.loading&&(e.loading="eager"),e},t.prototype.createStyleClone=function(t){try{var e=t.sheet;if(e&&e.cssRules){var n=[].slice.call(e.cssRules,0).reduce((function(t,e){return e&&"string"==typeof e.cssText?t+e.cssText:t}),""),r=t.cloneNode(!1);return r.textContent=n,r}}catch(t){if(Le.getInstance(this.options.id).error("Unable to access cssRules property",t),"SecurityError"!==t.name)throw t}return t.cloneNode(!1)},t.prototype.createCanvasClone=function(t){if(this.options.inlineImages&&t.ownerDocument){var e=t.ownerDocument.createElement("img");try{return e.src=t.toDataURL(),e}catch(t){Le.getInstance(this.options.id).info("Unable to clone canvas contents, canvas is tainted")}}var n=t.cloneNode(!1);try{n.width=t.width,n.height=t.height;var r=t.getContext("2d"),A=n.getContext("2d");return A&&(r?A.putImageData(r.getImageData(0,0,t.width,t.height),0,0):A.drawImage(t,0,0)),n}catch(t){}return n},t.prototype.cloneNode=function(t){if(NA(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var e=t.ownerDocument.defaultView;if(e&&TA(t)&&(HA(t)||_A(t))){var n=this.createElementClone(t),r=e.getComputedStyle(t),A=e.getComputedStyle(t,":before"),i=e.getComputedStyle(t,":after");this.referenceElement===t&&HA(n)&&(this.clonedReferenceElement=n),OA(n)&&wi(n);for(var o=this.counters.parse(new jr(r)),s=this.resolvePseudoContent(t,n,A,Lr.BEFORE),a=t.firstChild;a;a=a.nextSibling)TA(a)&&(kA(a)||a.hasAttribute(oi)||"function"==typeof this.options.ignoreElements&&this.options.ignoreElements(a))||this.options.copyStyles&&TA(a)&&PA(a)||n.appendChild(this.cloneNode(a));s&&n.insertBefore(s,n.firstChild);var u=this.resolvePseudoContent(t,n,i,Lr.AFTER);return u&&n.appendChild(u),this.counters.pop(o),r&&(this.options.copyStyles||_A(t))&&!xA(t)&&li(r,n),0===t.scrollTop&&0===t.scrollLeft||this.scrolledElements.push([n,t.scrollLeft,t.scrollTop]),(VA(t)||zA(t))&&(VA(n)||zA(n))&&(n.value=t.value),n}return t.cloneNode(!1)},t.prototype.resolvePseudoContent=function(t,e,n,r){var A=this;if(n){var i=n.content,o=e.ownerDocument;if(o&&i&&"none"!==i&&"-moz-alt-content"!==i&&"none"!==n.display){this.counters.parse(new jr(n));var s=new Jr(n),a=o.createElement("html2canvaspseudoelement");li(n,a),s.content.forEach((function(e){if(e.type===h.STRING_TOKEN)a.appendChild(o.createTextNode(e.value));else if(e.type===h.URL_TOKEN){var n=o.createElement("img");n.src=e.value,n.style.opacity="1",a.appendChild(n)}else if(e.type===h.FUNCTION){if("attr"===e.name){var r=e.values.filter(Xt);r.length&&a.appendChild(o.createTextNode(t.getAttribute(r[0].value)||""))}else if("counter"===e.name){var i=e.values.filter(Wt),u=i[0],c=i[1];if(u&&Xt(u)){var l=A.counters.getCounterValue(u.value),f=c&&Xt(c)?$n.parse(c.value):Wn.DECIMAL;a.appendChild(o.createTextNode(ii(l,f,!1)))}}else if("counters"===e.name){var d=e.values.filter(Wt),p=(u=d[0],d[1]);if(c=d[2],u&&Xt(u)){var g=A.counters.getCounterValues(u.value),B=c&&Xt(c)?$n.parse(c.value):Wn.DECIMAL,w=p&&p.type===h.STRING_TOKEN?p.value:"",y=g.map((function(t){return ii(t,B,!1)})).join(w);a.appendChild(o.createTextNode(y))}}}else if(e.type===h.IDENT_TOKEN)switch(e.value){case"open-quote":a.appendChild(o.createTextNode(Gr(s.quotes,A.quoteDepth++,!0)));break;case"close-quote":a.appendChild(o.createTextNode(Gr(s.quotes,--A.quoteDepth,!1)));break;default:a.appendChild(o.createTextNode(e.value))}})),a.className=pi+" "+gi;var u=r===Lr.BEFORE?" "+pi:" "+gi;return _A(e)?e.className.baseValue+=u:e.className+=u,a}}},t.destroy=function(t){return!!t.parentNode&&(t.parentNode.removeChild(t),!0)},t}();!function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"}(Lr||(Lr={}));var ai,ui=function(t,e){var n=t.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=e.width.toString(),n.height=e.height.toString(),n.scrolling="no",n.setAttribute(oi,"true"),t.body.appendChild(n),n},ci=function(t){return new Promise((function(e,n){var r=t.contentWindow;if(!r)return n("No window assigned for iframe");var A=r.document;r.onload=t.onload=A.onreadystatechange=function(){r.onload=t.onload=A.onreadystatechange=null;var n=setInterval((function(){A.body.childNodes.length>0&&"complete"===A.readyState&&(clearInterval(n),e(t))}),50)}}))},li=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t.item(n);"content"!==r&&e.style.setProperty(r,t.getPropertyValue(r))}return e},hi=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},fi=function(t,e,n){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||n!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,n)},di=function(t){var e=t[0],n=t[1],r=t[2];e.scrollLeft=n,e.scrollTop=r},pi="___html2canvas___pseudoelement_before",gi="___html2canvas___pseudoelement_after",Bi='{\n    content: "" !important;\n    display: none !important;\n}',wi=function(t){yi(t,"."+pi+":before"+Bi+"\n         ."+gi+":after"+Bi)},yi=function(t,e){var n=t.ownerDocument;if(n){var r=n.createElement("style");r.textContent=e,t.appendChild(r)}};!function(t){t[t.VECTOR=0]="VECTOR",t[t.BEZIER_CURVE=1]="BEZIER_CURVE"}(ai||(ai={}));var vi,mi=function(t,e){return t.length===e.length&&t.some((function(t,n){return t===e[n]}))},Ei=function(){function t(t,e){this.type=ai.VECTOR,this.x=t,this.y=e}return t.prototype.add=function(e,n){return new t(this.x+e,this.y+n)},t}(),Qi=function(t,e,n){return new Ei(t.x+(e.x-t.x)*n,t.y+(e.y-t.y)*n)},Ci=function(){function t(t,e,n,r){this.type=ai.BEZIER_CURVE,this.start=t,this.startControl=e,this.endControl=n,this.end=r}return t.prototype.subdivide=function(e,n){var r=Qi(this.start,this.startControl,e),A=Qi(this.startControl,this.endControl,e),i=Qi(this.endControl,this.end,e),o=Qi(r,A,e),s=Qi(A,i,e),a=Qi(o,s,e);return n?new t(this.start,r,o,a):new t(a,s,i,this.end)},t.prototype.add=function(e,n){return new t(this.start.add(e,n),this.startControl.add(e,n),this.endControl.add(e,n),this.end.add(e,n))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),Ui=function(t){return t.type===ai.BEZIER_CURVE},bi=function(t){var e=t.styles,n=t.bounds,r=ie(e.borderTopLeftRadius,n.width,n.height),A=r[0],i=r[1],o=ie(e.borderTopRightRadius,n.width,n.height),s=o[0],a=o[1],u=ie(e.borderBottomRightRadius,n.width,n.height),c=u[0],l=u[1],h=ie(e.borderBottomLeftRadius,n.width,n.height),f=h[0],d=h[1],p=[];p.push((A+s)/n.width),p.push((f+c)/n.width),p.push((i+d)/n.height),p.push((a+l)/n.height);var g=Math.max.apply(Math,p);g>1&&(A/=g,i/=g,s/=g,a/=g,c/=g,l/=g,f/=g,d/=g);var B=n.width-s,w=n.height-l,y=n.width-c,v=n.height-d,m=e.borderTopWidth,E=e.borderRightWidth,Q=e.borderBottomWidth,C=e.borderLeftWidth,U=oe(e.paddingTop,t.bounds.width),b=oe(e.paddingRight,t.bounds.width),F=oe(e.paddingBottom,t.bounds.width),I=oe(e.paddingLeft,t.bounds.width);this.topLeftBorderBox=A>0||i>0?Fi(n.left,n.top,A,i,vi.TOP_LEFT):new Ei(n.left,n.top),this.topRightBorderBox=s>0||a>0?Fi(n.left+B,n.top,s,a,vi.TOP_RIGHT):new Ei(n.left+n.width,n.top),this.bottomRightBorderBox=c>0||l>0?Fi(n.left+y,n.top+w,c,l,vi.BOTTOM_RIGHT):new Ei(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=f>0||d>0?Fi(n.left,n.top+v,f,d,vi.BOTTOM_LEFT):new Ei(n.left,n.top+n.height),this.topLeftPaddingBox=A>0||i>0?Fi(n.left+C,n.top+m,Math.max(0,A-C),Math.max(0,i-m),vi.TOP_LEFT):new Ei(n.left+C,n.top+m),this.topRightPaddingBox=s>0||a>0?Fi(n.left+Math.min(B,n.width+C),n.top+m,B>n.width+C?0:s-C,a-m,vi.TOP_RIGHT):new Ei(n.left+n.width-E,n.top+m),this.bottomRightPaddingBox=c>0||l>0?Fi(n.left+Math.min(y,n.width-C),n.top+Math.min(w,n.height+m),Math.max(0,c-E),l-Q,vi.BOTTOM_RIGHT):new Ei(n.left+n.width-E,n.top+n.height-Q),this.bottomLeftPaddingBox=f>0||d>0?Fi(n.left+C,n.top+v,Math.max(0,f-C),d-Q,vi.BOTTOM_LEFT):new Ei(n.left+C,n.top+n.height-Q),this.topLeftContentBox=A>0||i>0?Fi(n.left+C+I,n.top+m+U,Math.max(0,A-(C+I)),Math.max(0,i-(m+U)),vi.TOP_LEFT):new Ei(n.left+C+I,n.top+m+U),this.topRightContentBox=s>0||a>0?Fi(n.left+Math.min(B,n.width+C+I),n.top+m+U,B>n.width+C+I?0:s-C+I,a-(m+U),vi.TOP_RIGHT):new Ei(n.left+n.width-(E+b),n.top+m+U),this.bottomRightContentBox=c>0||l>0?Fi(n.left+Math.min(y,n.width-(C+I)),n.top+Math.min(w,n.height+m+U),Math.max(0,c-(E+b)),l-(Q+F),vi.BOTTOM_RIGHT):new Ei(n.left+n.width-(E+b),n.top+n.height-(Q+F)),this.bottomLeftContentBox=f>0||d>0?Fi(n.left+C+I,n.top+v,Math.max(0,f-(C+I)),d-(Q+F),vi.BOTTOM_LEFT):new Ei(n.left+C+I,n.top+n.height-(Q+F))};!function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"}(vi||(vi={}));var Fi=function(t,e,n,r,A){var i=(Math.sqrt(2)-1)/3*4,o=n*i,s=r*i,a=t+n,u=e+r;switch(A){case vi.TOP_LEFT:return new Ci(new Ei(t,u),new Ei(t,u-s),new Ei(a-o,e),new Ei(a,e));case vi.TOP_RIGHT:return new Ci(new Ei(t,e),new Ei(t+o,e),new Ei(a,u-s),new Ei(a,u));case vi.BOTTOM_RIGHT:return new Ci(new Ei(a,e),new Ei(a,e+s),new Ei(t+o,u),new Ei(t,u));case vi.BOTTOM_LEFT:default:return new Ci(new Ei(a,u),new Ei(a-o,u),new Ei(t,e+s),new Ei(t,e))}},Ii=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},Ni=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},Ti=function(t,e,n){this.type=0,this.offsetX=t,this.offsetY=e,this.matrix=n,this.target=6},Hi=function(t,e){this.type=1,this.target=e,this.path=t},_i=function(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]},Si=function(){function t(t,e){if(this.container=t,this.effects=e.slice(0),this.curves=new bi(t),null!==t.styles.transform){var n=t.bounds.left+t.styles.transformOrigin[0].number,r=t.bounds.top+t.styles.transformOrigin[1].number,A=t.styles.transform;this.effects.push(new Ti(n,r,A))}if(t.styles.overflowX!==Zn.VISIBLE){var i=Ii(this.curves),o=Ni(this.curves);mi(i,o)?this.effects.push(new Hi(i,6)):(this.effects.push(new Hi(i,2)),this.effects.push(new Hi(o,4)))}}return t.prototype.getParentEffects=function(){var t=this.effects.slice(0);if(this.container.styles.overflowX!==Zn.VISIBLE){var e=Ii(this.curves),n=Ni(this.curves);mi(e,n)||t.push(new Hi(n,6))}return t},t}(),Di=function(t,e,n,r){t.container.elements.forEach((function(A){var i=xr(A.flags,4),o=xr(A.flags,2),s=new Si(A,t.getParentEffects());xr(A.styles.display,2048)&&r.push(s);var a=xr(A.flags,8)?[]:r;if(i||o){var u=i||A.styles.isPositioned()?n:e,c=new _i(s);if(A.styles.isPositioned()||A.styles.opacity<1||A.styles.isTransformed()){var l=A.styles.zIndex.order;if(l<0){var h=0;u.negativeZIndex.some((function(t,e){return l>t.element.container.styles.zIndex.order?(h=e,!1):h>0})),u.negativeZIndex.splice(h,0,c)}else if(l>0){var f=0;u.positiveZIndex.some((function(t,e){return l>=t.element.container.styles.zIndex.order?(f=e+1,!1):f>0})),u.positiveZIndex.splice(f,0,c)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(c)}else A.styles.isFloating()?u.nonPositionedFloats.push(c):u.nonPositionedInlineLevel.push(c);Di(s,c,i?c:n,a)}else A.styles.isInlineLevel()?e.inlineLevel.push(s):e.nonInlineLevel.push(s),Di(s,e,n,a);xr(A.flags,8)&&Ri(A,a)}))},Ri=function(t,e){for(var n=t instanceof lA?t.start:1,r=t instanceof lA&&t.reversed,A=0;A<e.length;A++){var i=e[A];i.container instanceof cA&&"number"==typeof i.container.value&&0!==i.container.value&&(n=i.container.value),i.listValue=ii(n,i.container.styles.listStyleType,!0),n+=r?-1:1}},Ki=function(t,e,n,r){var A=[];return Ui(t)?A.push(t.subdivide(.5,!1)):A.push(t),Ui(n)?A.push(n.subdivide(.5,!0)):A.push(n),Ui(r)?A.push(r.subdivide(.5,!0).reverse()):A.push(r),Ui(e)?A.push(e.subdivide(.5,!1).reverse()):A.push(e),A},Oi=function(t){var e=t.bounds,n=t.styles;return e.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},Li=function(t){var e=t.styles,n=t.bounds,r=oe(e.paddingLeft,n.width),A=oe(e.paddingRight,n.width),i=oe(e.paddingTop,n.width),o=oe(e.paddingBottom,n.width);return n.add(r+e.borderLeftWidth,i+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+r+A),-(e.borderTopWidth+e.borderBottomWidth+i+o))},Mi=function(t,e,n){var r=function(t,e){return 0===t?e.bounds:2===t?Li(e):Oi(e)}(Vi(t.styles.backgroundOrigin,e),t),A=function(t,e){return t===me.BORDER_BOX?e.bounds:t===me.CONTENT_BOX?Li(e):Oi(e)}(Vi(t.styles.backgroundClip,e),t),i=ki(Vi(t.styles.backgroundSize,e),n,r),o=i[0],s=i[1],a=ie(Vi(t.styles.backgroundPosition,e),r.width-o,r.height-s);return[zi(Vi(t.styles.backgroundRepeat,e),a,i,r,A),Math.round(r.left+a[0]),Math.round(r.top+a[1]),o,s]},xi=function(t){return Xt(t)&&t.value===fn.AUTO},Pi=function(t){return"number"==typeof t},ki=function(t,e,n){var r=e[0],A=e[1],i=e[2],o=t[0],s=t[1];if(te(o)&&s&&te(s))return[oe(o,n.width),oe(s,n.height)];var a=Pi(i);if(Xt(o)&&(o.value===fn.CONTAIN||o.value===fn.COVER))return Pi(i)?n.width/n.height<i!=(o.value===fn.COVER)?[n.width,n.width/i]:[n.height*i,n.height]:[n.width,n.height];var u=Pi(r),c=Pi(A),l=u||c;if(xi(o)&&(!s||xi(s)))return u&&c?[r,A]:a||l?l&&a?[u?r:A*i,c?A:r/i]:[u?r:n.width,c?A:n.height]:[n.width,n.height];if(a){var h=0,f=0;return te(o)?h=oe(o,n.width):te(s)&&(f=oe(s,n.height)),xi(o)?h=f*i:s&&!xi(s)||(f=h/i),[h,f]}var d=null,p=null;if(te(o)?d=oe(o,n.width):s&&te(s)&&(p=oe(s,n.height)),null===d||s&&!xi(s)||(p=u&&c?d/r*A:n.height),null!==p&&xi(o)&&(d=u&&c?p/A*r:n.width),null!==d&&null!==p)return[d,p];throw new Error("Unable to calculate background-size for element")},Vi=function(t,e){var n=t[e];return void 0===n?t[0]:n},zi=function(t,e,n,r,A){var i=e[0],o=e[1],s=n[0],a=n[1];switch(t){case an.REPEAT_X:return[new Ei(Math.round(r.left),Math.round(r.top+o)),new Ei(Math.round(r.left+r.width),Math.round(r.top+o)),new Ei(Math.round(r.left+r.width),Math.round(a+r.top+o)),new Ei(Math.round(r.left),Math.round(a+r.top+o))];case an.REPEAT_Y:return[new Ei(Math.round(r.left+i),Math.round(r.top)),new Ei(Math.round(r.left+i+s),Math.round(r.top)),new Ei(Math.round(r.left+i+s),Math.round(r.height+r.top)),new Ei(Math.round(r.left+i),Math.round(r.height+r.top))];case an.NO_REPEAT:return[new Ei(Math.round(r.left+i),Math.round(r.top+o)),new Ei(Math.round(r.left+i+s),Math.round(r.top+o)),new Ei(Math.round(r.left+i+s),Math.round(r.top+o+a)),new Ei(Math.round(r.left+i),Math.round(r.top+o+a))];default:return[new Ei(Math.round(A.left),Math.round(A.top)),new Ei(Math.round(A.left+A.width),Math.round(A.top)),new Ei(Math.round(A.left+A.width),Math.round(A.height+A.top)),new Ei(Math.round(A.left),Math.round(A.height+A.top))]}},Gi="Hidden Text",Xi=function(){function t(t){this._data={},this._document=t}return t.prototype.parseMetrics=function(t,e){var n=this._document.createElement("div"),r=this._document.createElement("img"),A=this._document.createElement("span"),i=this._document.body;n.style.visibility="hidden",n.style.fontFamily=t,n.style.fontSize=e,n.style.margin="0",n.style.padding="0",i.appendChild(n),r.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",r.width=1,r.height=1,r.style.margin="0",r.style.padding="0",r.style.verticalAlign="baseline",A.style.fontFamily=t,A.style.fontSize=e,A.style.margin="0",A.style.padding="0",A.appendChild(this._document.createTextNode(Gi)),n.appendChild(A),n.appendChild(r);var o=r.offsetTop-A.offsetTop+2;n.removeChild(A),n.appendChild(this._document.createTextNode(Gi)),n.style.lineHeight="normal",r.style.verticalAlign="super";var s=r.offsetTop-n.offsetTop+2;return i.removeChild(n),{baseline:o,middle:s}},t.prototype.getMetrics=function(t,e){var n=t+" "+e;return void 0===this._data[n]&&(this._data[n]=this.parseMetrics(t,e)),this._data[n]},t}(),qi=function(){function t(t){this._activeEffects=[],this.canvas=t.canvas?t.canvas:document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.options=t,t.canvas||(this.canvas.width=Math.floor(t.width*t.scale),this.canvas.height=Math.floor(t.height*t.scale),this.canvas.style.width=t.width+"px",this.canvas.style.height=t.height+"px"),this.fontMetrics=new Xi(document),this.ctx.scale(this.options.scale,this.options.scale),this.ctx.translate(-t.x+t.scrollX,-t.y+t.scrollY),this.ctx.textBaseline="bottom",this._activeEffects=[],Le.getInstance(t.id).debug("Canvas renderer initialized ("+t.width+"x"+t.height+" at "+t.x+","+t.y+") with scale "+t.scale)}return t.prototype.applyEffects=function(t,e){for(var n=this;this._activeEffects.length;)this.popEffect();t.filter((function(t){return xr(t.target,e)})).forEach((function(t){return n.applyEffect(t)}))},t.prototype.applyEffect=function(t){this.ctx.save(),function(t){return 0===t.type}(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),function(t){return 1===t.type}(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(t){return r(this,void 0,void 0,(function(){var e;return A(this,(function(n){switch(n.label){case 0:return(e=t.element.container.styles).isVisible()?(this.ctx.globalAlpha=e.opacity,[4,this.renderStackContent(t)]):[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},t.prototype.renderNode=function(t){return r(this,void 0,void 0,(function(){return A(this,(function(e){switch(e.label){case 0:return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return e.sent(),[4,this.renderNodeContent(t)];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))},t.prototype.renderTextWithLetterSpacing=function(t,e){var n=this;0===e?this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+t.bounds.height):s(t.text).map((function(t){return a(t)})).reduce((function(e,r){return n.ctx.fillText(r,e,t.bounds.top+t.bounds.height),e+n.ctx.measureText(r).width}),t.bounds.left)},t.prototype.createFontStyle=function(t){var e=t.fontVariant.filter((function(t){return"normal"===t||"small-caps"===t})).join(""),n=t.fontFamily.join(", "),r=zt(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,e,t.fontWeight,r,n].join(" "),n,r]},t.prototype.renderTextNode=function(t,e){return r(this,void 0,void 0,(function(){var n,r,i,o,s=this;return A(this,(function(A){return n=this.createFontStyle(e),r=n[0],i=n[1],o=n[2],this.ctx.font=r,t.textBounds.forEach((function(t){s.ctx.fillStyle=pe(e.color),s.renderTextWithLetterSpacing(t,e.letterSpacing);var n=e.textShadow;n.length&&t.text.trim().length&&(n.slice(0).reverse().forEach((function(e){s.ctx.shadowColor=pe(e.color),s.ctx.shadowOffsetX=e.offsetX.number*s.options.scale,s.ctx.shadowOffsetY=e.offsetY.number*s.options.scale,s.ctx.shadowBlur=e.blur.number,s.ctx.fillText(t.text,t.bounds.left,t.bounds.top+t.bounds.height)})),s.ctx.shadowColor="",s.ctx.shadowOffsetX=0,s.ctx.shadowOffsetY=0,s.ctx.shadowBlur=0),e.textDecorationLine.length&&(s.ctx.fillStyle=pe(e.textDecorationColor||e.color),e.textDecorationLine.forEach((function(e){switch(e){case 1:var n=s.fontMetrics.getMetrics(i,o).baseline;s.ctx.fillRect(t.bounds.left,Math.round(t.bounds.top+n),t.bounds.width,1);break;case 2:s.ctx.fillRect(t.bounds.left,Math.round(t.bounds.top),t.bounds.width,1);break;case 3:var r=s.fontMetrics.getMetrics(i,o).middle;s.ctx.fillRect(t.bounds.left,Math.ceil(t.bounds.top+r),t.bounds.width,1)}})))})),[2]}))}))},t.prototype.renderReplacedElement=function(t,e,n){if(n&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var r=Li(t),A=Ni(e);this.path(A),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,t.intrinsicWidth,t.intrinsicHeight,r.left,r.top,r.width,r.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(e){return r(this,void 0,void 0,(function(){var n,r,o,s,a,u,c,l,f,d,p,g,B,w;return A(this,(function(A){switch(A.label){case 0:this.applyEffects(e.effects,4),n=e.container,r=e.curves,o=n.styles,s=0,a=n.textNodes,A.label=1;case 1:return s<a.length?(u=a[s],[4,this.renderTextNode(u,o)]):[3,4];case 2:A.sent(),A.label=3;case 3:return s++,[3,1];case 4:if(!(n instanceof sA))return[3,8];A.label=5;case 5:return A.trys.push([5,7,,8]),[4,this.options.cache.match(n.src)];case 6:return g=A.sent(),this.renderReplacedElement(n,r,g),[3,8];case 7:return A.sent(),Le.getInstance(this.options.id).error("Error loading image "+n.src),[3,8];case 8:if(n instanceof aA&&this.renderReplacedElement(n,r,n.canvas),!(n instanceof uA))return[3,12];A.label=9;case 9:return A.trys.push([9,11,,12]),[4,this.options.cache.match(n.svg)];case 10:return g=A.sent(),this.renderReplacedElement(n,r,g),[3,12];case 11:return A.sent(),Le.getInstance(this.options.id).error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof EA&&n.tree?[4,new t({id:this.options.id,scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,scrollX:0,scrollY:0,width:n.width,height:n.height,cache:this.options.cache,windowWidth:n.width,windowHeight:n.height}).render(n.tree)]:[3,14];case 13:c=A.sent(),n.width&&n.height&&this.ctx.drawImage(c,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),A.label=14;case 14:if(n instanceof wA&&(l=Math.min(n.bounds.width,n.bounds.height),n.type===dA?n.checked&&(this.ctx.save(),this.path([new Ei(n.bounds.left+.39363*l,n.bounds.top+.79*l),new Ei(n.bounds.left+.16*l,n.bounds.top+.5549*l),new Ei(n.bounds.left+.27347*l,n.bounds.top+.44071*l),new Ei(n.bounds.left+.39694*l,n.bounds.top+.5649*l),new Ei(n.bounds.left+.72983*l,n.bounds.top+.23*l),new Ei(n.bounds.left+.84*l,n.bounds.top+.34085*l),new Ei(n.bounds.left+.39363*l,n.bounds.top+.79*l)]),this.ctx.fillStyle=pe(BA),this.ctx.fill(),this.ctx.restore()):n.type===pA&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+l/2,n.bounds.top+l/2,l/4,0,2*Math.PI,!0),this.ctx.fillStyle=pe(BA),this.ctx.fill(),this.ctx.restore())),Ji(n)&&n.value.length){switch(this.ctx.font=this.createFontStyle(o)[0],this.ctx.fillStyle=pe(o.color),this.ctx.textBaseline="middle",this.ctx.textAlign=Wi(n.styles.textAlign),w=Li(n),f=0,n.styles.textAlign){case sr.CENTER:f+=w.width/2;break;case sr.RIGHT:f+=w.width}d=w.add(f,0,0,-w.height/2+1),this.ctx.save(),this.path([new Ei(w.left,w.top),new Ei(w.left+w.width,w.top),new Ei(w.left+w.width,w.top+w.height),new Ei(w.left,w.top+w.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Zr(n.value,d),o.letterSpacing),this.ctx.restore(),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"}if(!xr(n.styles.display,2048))return[3,20];if(null===n.styles.listStyleImage)return[3,19];if((p=n.styles.listStyleImage).type!==Ue.URL)return[3,18];g=void 0,B=p.url,A.label=15;case 15:return A.trys.push([15,17,,18]),[4,this.options.cache.match(B)];case 16:return g=A.sent(),this.ctx.drawImage(g,n.bounds.left-(g.width+10),n.bounds.top),[3,18];case 17:return A.sent(),Le.getInstance(this.options.id).error("Error loading list-style-image "+B),[3,18];case 18:return[3,20];case 19:e.listValue&&n.styles.listStyleType!==Wn.NONE&&(this.ctx.font=this.createFontStyle(o)[0],this.ctx.fillStyle=pe(o.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",w=new i(n.bounds.left,n.bounds.top+oe(n.styles.paddingTop,n.bounds.width),n.bounds.width,function(t,e){return Xt(t)&&"normal"===t.value?1.2*e:t.type===h.NUMBER_TOKEN?e*t.number:te(t)?oe(t,e):e}(o.lineHeight,o.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Zr(e.listValue,w),o.letterSpacing),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),A.label=20;case 20:return[2]}}))}))},t.prototype.renderStackContent=function(t){return r(this,void 0,void 0,(function(){var e,n,r,i,o,s,a,u,c,l,h,f,d,p,g;return A(this,(function(A){switch(A.label){case 0:return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:A.sent(),e=0,n=t.negativeZIndex,A.label=2;case 2:return e<n.length?(g=n[e],[4,this.renderStack(g)]):[3,5];case 3:A.sent(),A.label=4;case 4:return e++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:A.sent(),r=0,i=t.nonInlineLevel,A.label=7;case 7:return r<i.length?(g=i[r],[4,this.renderNode(g)]):[3,10];case 8:A.sent(),A.label=9;case 9:return r++,[3,7];case 10:o=0,s=t.nonPositionedFloats,A.label=11;case 11:return o<s.length?(g=s[o],[4,this.renderStack(g)]):[3,14];case 12:A.sent(),A.label=13;case 13:return o++,[3,11];case 14:a=0,u=t.nonPositionedInlineLevel,A.label=15;case 15:return a<u.length?(g=u[a],[4,this.renderStack(g)]):[3,18];case 16:A.sent(),A.label=17;case 17:return a++,[3,15];case 18:c=0,l=t.inlineLevel,A.label=19;case 19:return c<l.length?(g=l[c],[4,this.renderNode(g)]):[3,22];case 20:A.sent(),A.label=21;case 21:return c++,[3,19];case 22:h=0,f=t.zeroOrAutoZIndexOrTransformedOrOpacity,A.label=23;case 23:return h<f.length?(g=f[h],[4,this.renderStack(g)]):[3,26];case 24:A.sent(),A.label=25;case 25:return h++,[3,23];case 26:d=0,p=t.positiveZIndex,A.label=27;case 27:return d<p.length?(g=p[d],[4,this.renderStack(g)]):[3,30];case 28:A.sent(),A.label=29;case 29:return d++,[3,27];case 30:return[2]}}))}))},t.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},t.prototype.formatPath=function(t){var e=this;t.forEach((function(t,n){var r=Ui(t)?t.start:t;0===n?e.ctx.moveTo(r.x,r.y):e.ctx.lineTo(r.x,r.y),Ui(t)&&e.ctx.bezierCurveTo(t.startControl.x,t.startControl.y,t.endControl.x,t.endControl.y,t.end.x,t.end.y)}))},t.prototype.renderRepeat=function(t,e,n,r){this.path(t),this.ctx.fillStyle=e,this.ctx.translate(n,r),this.ctx.fill(),this.ctx.translate(-n,-r)},t.prototype.resizeImage=function(t,e,n){if(t.width===e&&t.height===n)return t;var r=this.canvas.ownerDocument.createElement("canvas");return r.width=e,r.height=n,r.getContext("2d").drawImage(t,0,0,t.width,t.height,0,0,e,n),r},t.prototype.renderBackgroundImage=function(t){return r(this,void 0,void 0,(function(){var e,n,r,i,o,s;return A(this,(function(a){switch(a.label){case 0:e=t.styles.backgroundImage.length-1,n=function(n){var i,o,s,a,u,c,l,h,f,d,p,g,B,w,y,v,m,E,Q,C,U,b,F,I,N,T,H,_,S,D,R;return A(this,(function(A){switch(A.label){case 0:if(n.type!==Ue.URL)return[3,5];i=void 0,o=n.url,A.label=1;case 1:return A.trys.push([1,3,,4]),[4,r.options.cache.match(o)];case 2:return i=A.sent(),[3,4];case 3:return A.sent(),Le.getInstance(r.options.id).error("Error loading background-image "+o),[3,4];case 4:return i&&(s=Mi(t,e,[i.width,i.height,i.width/i.height]),v=s[0],b=s[1],F=s[2],Q=s[3],C=s[4],w=r.ctx.createPattern(r.resizeImage(i,Q,C),"repeat"),r.renderRepeat(v,w,b,F)),[3,6];case 5:n.type===Ue.LINEAR_GRADIENT?(a=Mi(t,e,[null,null,null]),v=a[0],b=a[1],F=a[2],Q=a[3],C=a[4],u=Te(n.angle,Q,C),c=u[0],l=u[1],h=u[2],f=u[3],d=u[4],(p=document.createElement("canvas")).width=Q,p.height=C,g=p.getContext("2d"),B=g.createLinearGradient(l,f,h,d),Ne(n.stops,c).forEach((function(t){return B.addColorStop(t.stop,pe(t.color))})),g.fillStyle=B,g.fillRect(0,0,Q,C),Q>0&&C>0&&(w=r.ctx.createPattern(p,"repeat"),r.renderRepeat(v,w,b,F))):function(t){return t.type===Ue.RADIAL_GRADIENT}(n)&&(y=Mi(t,e,[null,null,null]),v=y[0],m=y[1],E=y[2],Q=y[3],C=y[4],U=0===n.position.length?[re]:n.position,b=oe(U[0],Q),F=oe(U[U.length-1],C),I=function(t,e,n,r,A){var i=0,o=0;switch(t.size){case on.CLOSEST_SIDE:t.shape===An.CIRCLE?i=o=Math.min(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-A)):t.shape===An.ELLIPSE&&(i=Math.min(Math.abs(e),Math.abs(e-r)),o=Math.min(Math.abs(n),Math.abs(n-A)));break;case on.CLOSEST_CORNER:if(t.shape===An.CIRCLE)i=o=Math.min(He(e,n),He(e,n-A),He(e-r,n),He(e-r,n-A));else if(t.shape===An.ELLIPSE){var s=Math.min(Math.abs(n),Math.abs(n-A))/Math.min(Math.abs(e),Math.abs(e-r)),a=_e(r,A,e,n,!0),u=a[0],c=a[1];o=s*(i=He(u-e,(c-n)/s))}break;case on.FARTHEST_SIDE:t.shape===An.CIRCLE?i=o=Math.max(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-A)):t.shape===An.ELLIPSE&&(i=Math.max(Math.abs(e),Math.abs(e-r)),o=Math.max(Math.abs(n),Math.abs(n-A)));break;case on.FARTHEST_CORNER:if(t.shape===An.CIRCLE)i=o=Math.max(He(e,n),He(e,n-A),He(e-r,n),He(e-r,n-A));else if(t.shape===An.ELLIPSE){s=Math.max(Math.abs(n),Math.abs(n-A))/Math.max(Math.abs(e),Math.abs(e-r));var l=_e(r,A,e,n,!1);u=l[0],c=l[1],o=s*(i=He(u-e,(c-n)/s))}}return Array.isArray(t.size)&&(i=oe(t.size[0],r),o=2===t.size.length?oe(t.size[1],A):i),[i,o]}(n,b,F,Q,C),N=I[0],T=I[1],N>0&&N>0&&(H=r.ctx.createRadialGradient(m+b,E+F,0,m+b,E+F,N),Ne(n.stops,2*N).forEach((function(t){return H.addColorStop(t.stop,pe(t.color))})),r.path(v),r.ctx.fillStyle=H,N!==T?(_=t.bounds.left+.5*t.bounds.width,S=t.bounds.top+.5*t.bounds.height,R=1/(D=T/N),r.ctx.save(),r.ctx.translate(_,S),r.ctx.transform(1,0,0,D,0,0),r.ctx.translate(-_,-S),r.ctx.fillRect(m,R*(E-S)+S,Q,C*R),r.ctx.restore()):r.ctx.fill())),A.label=6;case 6:return e--,[2]}}))},r=this,i=0,o=t.styles.backgroundImage.slice(0).reverse(),a.label=1;case 1:return i<o.length?(s=o[i],[5,n(s)]):[3,4];case 2:a.sent(),a.label=3;case 3:return i++,[3,1];case 4:return[2]}}))}))},t.prototype.renderBorder=function(t,e,n){return r(this,void 0,void 0,(function(){return A(this,(function(r){return this.path(function(t,e){switch(e){case 0:return Ki(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return Ki(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return Ki(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return Ki(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}}(n,e)),this.ctx.fillStyle=pe(t),this.ctx.fill(),[2]}))}))},t.prototype.renderNodeBackgroundAndBorders=function(t){return r(this,void 0,void 0,(function(){var e,n,r,i,o,s,a,u,c=this;return A(this,(function(A){switch(A.label){case 0:return this.applyEffects(t.effects,2),e=t.container.styles,n=!de(e.backgroundColor)||e.backgroundImage.length,r=[{style:e.borderTopStyle,color:e.borderTopColor},{style:e.borderRightStyle,color:e.borderRightColor},{style:e.borderBottomStyle,color:e.borderBottomColor},{style:e.borderLeftStyle,color:e.borderLeftColor}],i=ji(Vi(e.backgroundClip,0),t.curves),n||e.boxShadow.length?(this.ctx.save(),this.path(i),this.ctx.clip(),de(e.backgroundColor)||(this.ctx.fillStyle=pe(e.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:A.sent(),this.ctx.restore(),e.boxShadow.slice(0).reverse().forEach((function(e){c.ctx.save();var n,r,A,i,o,s=Ii(t.curves),a=e.inset?0:1e4,u=(n=s,r=-a+(e.inset?1:-1)*e.spread.number,A=(e.inset?1:-1)*e.spread.number,i=e.spread.number*(e.inset?-2:2),o=e.spread.number*(e.inset?-2:2),n.map((function(t,e){switch(e){case 0:return t.add(r,A);case 1:return t.add(r+i,A);case 2:return t.add(r+i,A+o);case 3:return t.add(r,A+o)}return t})));e.inset?(c.path(s),c.ctx.clip(),c.mask(u)):(c.mask(s),c.ctx.clip(),c.path(u)),c.ctx.shadowOffsetX=e.offsetX.number+a,c.ctx.shadowOffsetY=e.offsetY.number,c.ctx.shadowColor=pe(e.color),c.ctx.shadowBlur=e.blur.number,c.ctx.fillStyle=e.inset?pe(e.color):"rgba(0,0,0,1)",c.ctx.fill(),c.ctx.restore()})),A.label=2;case 2:o=0,s=0,a=r,A.label=3;case 3:return s<a.length?(u=a[s]).style===gn.NONE||de(u.color)?[3,5]:[4,this.renderBorder(u.color,o,t.curves)]:[3,7];case 4:A.sent(),A.label=5;case 5:o++,A.label=6;case 6:return s++,[3,3];case 7:return[2]}}))}))},t.prototype.render=function(t){return r(this,void 0,void 0,(function(){var e;return A(this,(function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=pe(this.options.backgroundColor),this.ctx.fillRect(this.options.x-this.options.scrollX,this.options.y-this.options.scrollY,this.options.width,this.options.height)),r=new Si(t,[]),A=new _i(r),Di(r,A,A,i=[]),Ri(r.container,i),e=A,[4,this.renderStack(e)];case 1:return n.sent(),this.applyEffects([],2),[2,this.canvas]}var r,A,i}))}))},t}(),Ji=function(t){return t instanceof vA||t instanceof yA||t instanceof wA&&t.type!==pA&&t.type!==dA},ji=function(t,e){switch(t){case me.BORDER_BOX:return Ii(e);case me.CONTENT_BOX:return function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]}(e);case me.PADDING_BOX:default:return Ni(e)}},Wi=function(t){switch(t){case sr.CENTER:return"center";case sr.RIGHT:return"right";case sr.LEFT:default:return"left"}},Yi=function(){function t(t){this.canvas=t.canvas?t.canvas:document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.options=t,this.canvas.width=Math.floor(t.width*t.scale),this.canvas.height=Math.floor(t.height*t.scale),this.canvas.style.width=t.width+"px",this.canvas.style.height=t.height+"px",this.ctx.scale(this.options.scale,this.options.scale),this.ctx.translate(-t.x+t.scrollX,-t.y+t.scrollY),Le.getInstance(t.id).debug("EXPERIMENTAL ForeignObject renderer initialized ("+t.width+"x"+t.height+" at "+t.x+","+t.y+") with scale "+t.scale)}return t.prototype.render=function(t){return r(this,void 0,void 0,(function(){var e,n;return A(this,(function(r){switch(r.label){case 0:return e=Re(Math.max(this.options.windowWidth,this.options.width)*this.options.scale,Math.max(this.options.windowHeight,this.options.height)*this.options.scale,this.options.scrollX*this.options.scale,this.options.scrollY*this.options.scale,t),[4,Zi(e)];case 1:return n=r.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=pe(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}}))}))},t}(),Zi=function(t){return new Promise((function(e,n){var r=new Image;r.onload=function(){e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(t))}))},$i=function(t){return fe(Vt.create(t).parseComponentValue())};"undefined"!=typeof window&&Me.setContext(window);var to=function(t,e){return r(undefined,void 0,void 0,(function(){var r,s,a,u,c,l,h,f,d,p,g,B,w,y,v,m,E,Q,C,U,b,F,I;return A(this,(function(A){switch(A.label){case 0:if(!(r=t.ownerDocument))throw new Error("Element is not attached to a Document");if(!(s=r.defaultView))throw new Error("Document is not attached to a Window");return a=(Math.round(1e3*Math.random())+Date.now()).toString(16),u=OA(t)||"HTML"===t.tagName?function(t){var e=t.body,n=t.documentElement;if(!e||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(e.scrollWidth,n.scrollWidth),Math.max(e.offsetWidth,n.offsetWidth),Math.max(e.clientWidth,n.clientWidth)),A=Math.max(Math.max(e.scrollHeight,n.scrollHeight),Math.max(e.offsetHeight,n.offsetHeight),Math.max(e.clientHeight,n.clientHeight));return new i(0,0,r,A)}(r):o(t),c=u.width,l=u.height,h=u.left,f=u.top,d=n({},{allowTaint:!1,imageTimeout:15e3,proxy:void 0,useCORS:!1},e),p={backgroundColor:"#ffffff",cache:e.cache?e.cache:Me.create(a,d),logging:!0,removeContainer:!0,foreignObjectRendering:!1,scale:s.devicePixelRatio||1,windowWidth:s.innerWidth,windowHeight:s.innerHeight,scrollX:s.pageXOffset,scrollY:s.pageYOffset,x:h,y:f,width:Math.ceil(c),height:Math.ceil(l),id:a},g=n({},p,d,e),B=new i(g.scrollX,g.scrollY,g.windowWidth,g.windowHeight),Le.create({id:a,enabled:g.logging}),Le.getInstance(a).debug("Starting document clone"),w=new si(t,{id:a,onclone:g.onclone,ignoreElements:g.ignoreElements,inlineImages:g.foreignObjectRendering,copyStyles:g.foreignObjectRendering}),(y=w.clonedReferenceElement)?[4,w.toIFrame(r,B)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return v=A.sent(),m=r.documentElement?$i(getComputedStyle(r.documentElement).backgroundColor):Ce.TRANSPARENT,E=r.body?$i(getComputedStyle(r.body).backgroundColor):Ce.TRANSPARENT,Q=e.backgroundColor,C="string"==typeof Q?$i(Q):null===Q?Ce.TRANSPARENT:4294967295,U=t===r.documentElement?de(m)?de(E)?C:E:m:C,b={id:a,cache:g.cache,canvas:g.canvas,backgroundColor:U,scale:g.scale,x:g.x,y:g.y,scrollX:g.scrollX,scrollY:g.scrollY,width:g.width,height:g.height,windowWidth:g.windowWidth,windowHeight:g.windowHeight},g.foreignObjectRendering?(Le.getInstance(a).debug("Document cloned, using foreign object rendering"),[4,new Yi(b).render(y)]):[3,3];case 2:return F=A.sent(),[3,5];case 3:return Le.getInstance(a).debug("Document cloned, using computed rendering"),Me.attachInstance(g.cache),Le.getInstance(a).debug("Starting DOM parsing"),I=bA(y),Me.detachInstance(),U===I.styles.backgroundColor&&(I.styles.backgroundColor=Ce.TRANSPARENT),Le.getInstance(a).debug("Starting renderer"),[4,new qi(b).render(I)];case 4:F=A.sent(),A.label=5;case 5:return!0===g.removeContainer&&(si.destroy(v)||Le.getInstance(a).error("Cannot detach cloned iframe as it is not in the DOM anymore")),Le.getInstance(a).debug("Finished rendering"),Le.destroy(a),Me.destroy(a),[2,F]}}))}))};return function(t,e){return void 0===e&&(e={}),to(t,e)}}()}},e={};function n(r){if(e[r])return e[r].exports;var A=e[r]={exports:{}};return t[r].call(A.exports,A,A.exports,n),A.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var r=e.getElementsByTagName("script");r.length&&(t=r[r.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t+"../"})(),(()=>{"use strict";n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p;var t=n(9669),e=n.n(t);const r=function(t,n){return function(t,e,n,r){return new(n||(n=Promise))((function(A,i){function o(t){try{a(r.next(t))}catch(t){i(t)}}function s(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?A(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,s)}a((r=r.apply(t,e||[])).next())}))}(void 0,void 0,void 0,(function(){var r,A;return function(t,e){var n,r,A,i,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(A=2&i[0]?r.return:i[0]?r.throw||((A=r.return)&&A.call(r),0):r.next)&&!(A=A.call(r,i[1])).done)return A;switch(r=0,A&&(i=[2&i[0],A.value]),i[0]){case 0:case 1:A=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((A=(A=o.trys).length>0&&A[A.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!A||i[1]>A[0]&&i[1]<A[3])){o.label=i[1];break}if(6===i[0]&&o.label<A[1]){o.label=A[1],A=i;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(i);break}A[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(t){i=[6,t],r=0}finally{n=A=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(i){switch(i.label){case 0:return(r=new FormData).append("base64Images",t),A="",[4,e().post(n,r).then((function(t){A=t.data.image_name})).catch((function(t){console.log(t.response.data),A="Error"}))];case 1:return i.sent(),[2,A]}}))}))},A=function(t,e,n){return"rgb("+[t||0,e||0,n||0].join(",")+")"};var i=255,o=194,s=2,a=255,u=0,c=0,l=255,h=255,f=2,d=25,p=86,g=191,B=0,w=255,y=0;const v=function(t,e,n){var r=255,A=255,v=255;switch(n){case 1:r=i+(a-i)*(1-t/1),A=o+(u-o)*(1-t/160),v=s+(c-s)*(1-t/160);break;case 2:r=i+(a-i)*(1-e/160),A=o+(u-o)*(1-e/160),v=s+(c-s)*(1-e/160);break;case 3:r=i+e/160*(d-i),A=o+e/160*(p-o),v=s+e/160*(g-s);break;case 4:r=i+(d-i)*(1-t/160),A=o+(p-o)*(1-t/160),v=s+(g-s)*(1-t/160);break;case 5:r=i+t/160*(B-i),A=o+t/160*(w-o),v=s+t/160*(y-s);break;case 6:r=i+e/160*(B-i),A=o+e/160*(w-o),v=s+e/160*(y-s);break;case 7:r=i+e/160*(l-i),A=o+e/160*(h-o),v=s+e/160*(f-s);break;case 8:r=i+t/160*(l-i),A=o+t/160*(h-o),v=s+t/160*(f-s)}return{r,g:A,b:v}},m=function(t){return t.map((function(t){return t.split(",")[1]+","})).reduce((function(t,e){return t+e}))};var E=function(){return(E=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var A in e=arguments[n])Object.prototype.hasOwnProperty.call(e,A)&&(t[A]=e[A]);return t}).apply(this,arguments)};Object.create,Object.create;var Q=function(t,e){return(Q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};Object.create,Object.create;function C(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=C(t[n],e[n]));return t}var U=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function b(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function F(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(t){return!1}}var I=function(t){function e(n,r,A){var i=t.call(this,r)||this;return i.code=n,i.customData=A,i.name="FirebaseError",Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,N.prototype.create),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Q(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e}(Error),N=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},A=this.service+"/"+t,i=this.errors[t],o=i?T(i,r):"Error",s=this.serviceName+": "+o+" ("+A+").",a=new I(A,s,r);return a},t}();function T(t,e){return t.replace(H,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var H=/\{\$([^}]+)}/g;function _(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function S(t,e){var n=new D(t,e);return n.subscribe.bind(n)}!function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var A=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(A<<1|A>>>31)}var i,o,s=this.chain_[0],a=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++)r<40?r<20?(i=c^a&(u^c),o=1518500249):(i=a^u^c,o=1859775393):r<60?(i=a&u|c&(a|u),o=2400959708):(i=a^u^c,o=3395469782),A=(s<<5|s>>>27)+i+l+o+n[r]&4294967295,l=c,c=u,u=4294967295&(a<<30|a>>>2),a=s,s=A;this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,A=this.buf_,i=this.inbuf_;r<e;){if(0===i)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(A[i]=t.charCodeAt(r),++r,++i===this.blockSize){this.compress_(A),i=0;break}}else for(;r<e;)if(A[i]=t[r],++r,++i===this.blockSize){this.compress_(A),i=0;break}}this.inbuf_=i,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var A=24;A>=0;A-=8)t[r]=this.chain_[n]>>A&255,++r;return t}}();var D=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,A=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var A=r[n];if(A in t&&"function"==typeof t[A])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=R),void 0===r.error&&(r.error=R),void 0===r.complete&&(r.complete=R);var i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{A.finalError?r.error(A.finalError):r.complete()}catch(t){}})),this.observers.push(r),i},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function R(){}var K=function(){return(K=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var A in e=arguments[n])Object.prototype.hasOwnProperty.call(e,A)&&(t[A]=e[A]);return t}).apply(this,arguments)};function O(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,A,i=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(t){A={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(A)throw A.error}}return o}function L(t,e){for(var n=0,r=e.length,A=t.length;n<r;n++,A++)t[A]=e[n];return t}Object.create,Object.create;var M,x=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),P="[DEFAULT]",k=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=P);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new U;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=K({identifier:P,optional:!1},t),n=e.identifier,r=e.optional,A=this.normalizeInstanceIdentifier(n);try{var i=this.getOrInitializeService({instanceIdentifier:A});if(!i){if(r)return null;throw Error("Service "+this.name+" is not available")}return i}catch(t){if(r)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:P})}catch(t){}try{for(var r=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.instancesDeferred.entries()),A=r.next();!A.done;A=r.next()){var i=O(A.value,2),o=i[0],s=i[1],a=this.normalizeInstanceIdentifier(o);try{var u=this.getOrInitializeService({instanceIdentifier:a});s.resolve(u)}catch(t){}}}catch(t){e={error:t}}finally{try{A&&!A.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=P),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return function(t,e,n,r){return new(n||(n=Promise))((function(A,i){function o(t){try{a(r.next(t))}catch(t){i(t)}}function s(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?A(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,s)}a((r=r.apply(t,e||[])).next())}))}(this,void 0,void 0,(function(){var t;return function(t,e){var n,r,A,i,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(A=2&i[0]?r.return:i[0]?r.throw||((A=r.return)&&A.call(r),0):r.next)&&!(A=A.call(r,i[1])).done)return A;switch(r=0,A&&(i=[2&i[0],A.value]),i[0]){case 0:case 1:A=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((A=(A=o.trys).length>0&&A[A.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!A||i[1]>A[0]&&i[1]<A[3])){o.label=i[1];break}if(6===i[0]&&o.label<A[1]){o.label=A[1],A=i;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(i);break}A[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(t){i=[6,t],r=0}finally{n=A=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(L(L([],O(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),O(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=P),this.instances.has(t)},t.prototype.initialize=function(t){void 0===t&&(t={});var e=t.instanceIdentifier,n=void 0===e?P:e,r=t.options,A=void 0===r?{}:r,i=this.normalizeInstanceIdentifier(n);if(this.isInitialized(i))throw Error(this.name+"("+i+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");return this.getOrInitializeService({instanceIdentifier:i,options:A})},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,A=void 0===r?{}:r,i=this.instances.get(n);return!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===P?void 0:e),options:A}),this.instances.set(n,i)),i||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:P:t},t}(),V=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new k(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();function z(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),A=0;for(e=0;e<n;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,A++)r[A]=i[o];return r}var G,X=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(G||(G={}));var q,J={debug:G.DEBUG,verbose:G.VERBOSE,info:G.INFO,warn:G.WARN,error:G.ERROR,silent:G.SILENT},j=G.INFO,W=((M={})[G.DEBUG]="log",M[G.VERBOSE]="log",M[G.INFO]="info",M[G.WARN]="warn",M[G.ERROR]="error",M),Y=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var A=(new Date).toISOString(),i=W[e];if(!i)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[i].apply(console,z(["["+A+"]  "+t.name+":"],n))}},Z=function(){function t(t){this.name=t,this._logLevel=j,this._logHandler=Y,this._userLogHandler=null,X.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in G))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?J[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,z([this,G.DEBUG],t)),this._logHandler.apply(this,z([this,G.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,z([this,G.VERBOSE],t)),this._logHandler.apply(this,z([this,G.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,z([this,G.INFO],t)),this._logHandler.apply(this,z([this,G.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,z([this,G.WARN],t)),this._logHandler.apply(this,z([this,G.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,z([this,G.ERROR],t)),this._logHandler.apply(this,z([this,G.ERROR],t))},t}();function tt(t){X.forEach((function(e){e.setLogLevel(t)}))}var et,nt=((q={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",q["bad-app-name"]="Illegal App name: '{$appName}",q["duplicate-app"]="Firebase App named '{$appName}' already exists",q["app-deleted"]="Firebase App named '{$appName}' already deleted",q["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",q["invalid-log-argument"]="First argument to `onLog` must be null or a function.",q),rt=new N("app","Firebase",nt),At="@firebase/app",it="[DEFAULT]",ot=((et={})[At]="fire-core",et["@firebase/analytics"]="fire-analytics",et["@firebase/auth"]="fire-auth",et["@firebase/database"]="fire-rtdb",et["@firebase/functions"]="fire-fn",et["@firebase/installations"]="fire-iid",et["@firebase/messaging"]="fire-fcm",et["@firebase/performance"]="fire-perf",et["@firebase/remote-config"]="fire-rc",et["@firebase/storage"]="fire-gcs",et["@firebase/firestore"]="fire-fst",et["fire-js"]="fire-js",et["firebase-wrapper"]="fire-js-all",et),st=new Z("@firebase/app"),at=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=C(void 0,t),this.container=new V(e.name),this._addComponent(new x("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e=it),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=it),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){st.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw rt.create("app-deleted",{appName:this.name_})},t}();at.prototype.name&&at.prototype.options||at.prototype.delete||console.log("dc");var ut=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,A){void 0===A&&(A={}),"object"==typeof A&&null!==A||(A={name:A});var i=A;void 0===i.name&&(i.name=it);var o=i.name;if("string"!=typeof o||!o)throw rt.create("bad-app-name",{appName:String(o)});if(_(e,o))throw rt.create("duplicate-app",{appName:o});var s=new t(n,i,r);return e[o]=s,s},app:A,registerVersion:function(t,e,n){var r,A=null!==(r=ot[t])&&void 0!==r?r:t;n&&(A+="-"+n);var o=A.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var a=['Unable to register library "'+A+'" with version "'+e+'":'];return o&&a.push('library name "'+A+'" contains illegal characters (whitespace or "/")'),o&&s&&a.push("and"),s&&a.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void st.warn(a.join(" "))}i(new x(A+"-version",(function(){return{library:A,version:e}}),"VERSION"))},setLogLevel:tt,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw rt.create("invalid-log-argument");!function(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=J[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var A=[],i=2;i<arguments.length;i++)A[i-2]=arguments[i];var o=A.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:G[n].toLowerCase(),message:o,args:A,type:e.name})}},r=0,A=X;r<A.length;r++)n(A[r])}(t,e)},apps:null,SDK_VERSION:"8.3.1",INTERNAL:{registerComponent:i,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function A(t){if(!_(e,t=t||it))throw rt.create("no-app",{appName:t});return e[t]}function i(i){var o=i.name;if(n.has(o))return st.debug("There were multiple attempts to register component "+o+"."),"PUBLIC"===i.type?r[o]:null;if(n.set(o,i),"PUBLIC"===i.type){var s=function(t){if(void 0===t&&(t=A()),"function"!=typeof t[o])throw rt.create("invalid-app-argument",{appName:o});return t[o]()};void 0!==i.serviceProps&&C(s,i.serviceProps),r[o]=s,t.prototype[o]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,o).apply(this,i.multipleInstances?t:[])}}for(var a=0,u=Object.keys(e);a<u.length;a++){var c=u[a];e[c]._addComponent(i)}return"PUBLIC"===i.type?r[o]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),A.App=t,r}(at);return e.INTERNAL=E(E({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){C(e,t)},createSubscribe:S,ErrorFactory:N,deepExtend:C}),e}(),ct=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if("object"==typeof self&&self.self===self&&void 0!==self.firebase){st.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var lt=self.firebase.SDK_VERSION;lt&&lt.indexOf("LITE")>=0&&st.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var ht=ut.initializeApp;ut.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return F()&&st.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),ht.apply(void 0,t)};var ft=ut;!function(t,e){t.INTERNAL.registerComponent(new x("platform-logger",(function(t){return new ct(t)}),"PRIVATE")),t.registerVersion(At,"0.6.17",void 0),t.registerVersion("fire-js","")}(ft);const dt=ft;dt.registerVersion("firebase","8.3.1","app");var pt=function(t,e){return(pt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function gt(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Bt,wt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},yt=yt||{},vt=wt||self;function mt(){}function Et(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Qt(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Ct="closure_uid_"+(1e9*Math.random()>>>0),Ut=0;function bt(t,e,n){return t.call.apply(t.bind,arguments)}function Ft(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function It(t,e,n){return(It=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?bt:Ft).apply(null,arguments)}function Nt(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Tt(){return Date.now()}function Ht(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var A=Array(arguments.length-2),i=2;i<arguments.length;i++)A[i-2]=arguments[i];return e.prototype[n].apply(t,A)}}function _t(){this.j=this.j,this.i=this.i}_t.prototype.j=!1,_t.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Ct)&&t[Ct]||(t[Ct]=++Ut)}(this)},_t.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var St=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Dt=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,A="string"==typeof t?t.split(""):t,i=0;i<r;i++)i in A&&e.call(n,A[i],i,t)};function Rt(t){return Array.prototype.concat.apply([],arguments)}function Kt(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Ot(t){return/^[\s\xa0]*$/.test(t)}var Lt,Mt=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function xt(t,e){return-1!=t.indexOf(e)}function Pt(t,e){return t<e?-1:t>e?1:0}t:{var kt=vt.navigator;if(kt){var Vt=kt.userAgent;if(Vt){Lt=Vt;break t}}Lt=""}function zt(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Gt(t){var e={};for(var n in t)e[n]=t[n];return e}var Xt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qt(t,e){for(var n,r,A=1;A<arguments.length;A++){for(n in r=arguments[A])t[n]=r[n];for(var i=0;i<Xt.length;i++)n=Xt[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Jt(t){return Jt[" "](t),t}Jt[" "]=mt;var jt,Wt,Yt=xt(Lt,"Opera"),Zt=xt(Lt,"Trident")||xt(Lt,"MSIE"),$t=xt(Lt,"Edge"),te=$t||Zt,ee=xt(Lt,"Gecko")&&!(xt(Lt.toLowerCase(),"webkit")&&!xt(Lt,"Edge"))&&!(xt(Lt,"Trident")||xt(Lt,"MSIE"))&&!xt(Lt,"Edge"),ne=xt(Lt.toLowerCase(),"webkit")&&!xt(Lt,"Edge");function re(){var t=vt.document;return t?t.documentMode:void 0}t:{var Ae="",ie=(Wt=Lt,ee?/rv:([^\);]+)(\)|;)/.exec(Wt):$t?/Edge\/([\d\.]+)/.exec(Wt):Zt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Wt):ne?/WebKit\/(\S+)/.exec(Wt):Yt?/(?:Version)[ \/]?(\S+)/.exec(Wt):void 0);if(ie&&(Ae=ie?ie[1]:""),Zt){var oe=re();if(null!=oe&&oe>parseFloat(Ae)){jt=String(oe);break t}}jt=Ae}var se,ae={};function ue(t){return function(t,e){var n=ae;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=Mt(String(jt)).split("."),r=Mt(String(t)).split("."),A=Math.max(n.length,r.length),i=0;0==e&&i<A;i++){var o=n[i]||"",s=r[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==o[0].length&&0==s[0].length)break;e=Pt(0==o[1].length?0:parseInt(o[1],10),0==s[1].length?0:parseInt(s[1],10))||Pt(0==o[2].length,0==s[2].length)||Pt(o[2],s[2]),o=o[3],s=s[3]}while(0==e)}return 0<=e}))}vt.document&&Zt?se=re()||parseInt(jt,10)||void 0:se=void 0;var ce=se,le=!Zt||9<=Number(ce),he=Zt&&!ue("9"),fe=function(){if(!vt.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{vt.addEventListener("test",mt,e),vt.removeEventListener("test",mt,e)}catch(t){}return t}();function de(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function pe(t,e){if(de.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(ee){t:{try{Jt(e.nodeName);var A=!0;break t}catch(t){}A=!1}A||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:ge[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}de.prototype.b=function(){this.defaultPrevented=!0},Ht(pe,de);var ge={2:"touch",3:"pen",4:"mouse"};pe.prototype.b=function(){pe.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,he)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var Be="closure_listenable_"+(1e6*Math.random()|0),we=0;function ye(t,e,n,r,A){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=A,this.key=++we,this.Y=this.Z=!1}function ve(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function me(t){this.src=t,this.a={},this.b=0}function Ee(t,e){var n=e.type;if(n in t.a){var r,A=t.a[n],i=St(A,e);(r=0<=i)&&Array.prototype.splice.call(A,i,1),r&&(ve(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Qe(t,e,n,r){for(var A=0;A<t.length;++A){var i=t[A];if(!i.Y&&i.listener==e&&i.capture==!!n&&i.ca==r)return A}return-1}me.prototype.add=function(t,e,n,r,A){var i=t.toString();(t=this.a[i])||(t=this.a[i]=[],this.b++);var o=Qe(t,e,r,A);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new ye(e,this.src,i,!!r,A)).Z=n,t.push(e)),e};var Ce="closure_lm_"+(1e6*Math.random()|0),Ue={};function be(t,e,n,r,A){if(r&&r.once)return Ie(t,e,n,r,A);if(Array.isArray(e)){for(var i=0;i<e.length;i++)be(t,e[i],n,r,A);return null}return n=Ke(n),t&&t[Be]?t.va(e,n,Qt(r)?!!r.capture:!!r,A):Fe(t,e,n,!1,r,A)}function Fe(t,e,n,r,A,i){if(!e)throw Error("Invalid event type");var o=Qt(A)?!!A.capture:!!A;if(o&&!le)return null;var s=De(t);if(s||(t[Ce]=s=new me(t)),(n=s.add(e,n,r,o,i)).proxy)return n;if(r=function(){var t=Se,e=le?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)fe||(A=o),void 0===A&&(A=!1),t.addEventListener(e.toString(),r,A);else if(t.attachEvent)t.attachEvent(He(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Ie(t,e,n,r,A){if(Array.isArray(e)){for(var i=0;i<e.length;i++)Ie(t,e[i],n,r,A);return null}return n=Ke(n),t&&t[Be]?t.wa(e,n,Qt(r)?!!r.capture:!!r,A):Fe(t,e,n,!0,r,A)}function Ne(t,e,n,r,A){if(Array.isArray(e))for(var i=0;i<e.length;i++)Ne(t,e[i],n,r,A);else r=Qt(r)?!!r.capture:!!r,n=Ke(n),t&&t[Be]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=Qe(i=t.a[e],n,r,A))&&(ve(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete t.a[e],t.b--))):t&&(t=De(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Qe(e,n,r,A)),(n=-1<t?e[t]:null)&&Te(n))}function Te(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Be])Ee(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(He(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=De(e))?(Ee(n,t),0==n.b&&(n.src=null,e[Ce]=null)):ve(t)}}}function He(t){return t in Ue?Ue[t]:Ue[t]="on"+t}function _e(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Te(t),n.call(r,e)}function Se(t,e){if(t.Y)return!0;if(!le){if(!e)t:{e=["window","event"];for(var n=vt,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return _e(t,e=new pe(e,this))}return _e(t,new pe(e,this))}function De(t){return(t=t[Ce])instanceof me?t:null}var Re="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ke(t){return"function"==typeof t?t:(t[Re]||(t[Re]=function(e){return t.handleEvent(e)}),t[Re])}function Oe(){_t.call(this),this.c=new me(this),this.J=this,this.C=null}function Le(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new de(e,t);else if(e instanceof de)e.target=e.target||t;else{var A=e;qt(e=new de(r,t),A)}if(A=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.a=n[i];A=Me(o,r,!0,e)&&A}if(A=Me(o=e.a=t,r,!0,e)&&A,A=Me(o,r,!1,e)&&A,n)for(i=0;i<n.length;i++)A=Me(o=e.a=n[i],r,!1,e)&&A}function Me(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var A=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.Y&&o.capture==n){var s=o.listener,a=o.ca||o.src;o.Z&&Ee(t.c,o),A=!1!==s.call(a,r)&&A}}return A&&!r.defaultPrevented}Ht(Oe,_t),Oe.prototype[Be]=!0,(Bt=Oe.prototype).addEventListener=function(t,e,n,r){be(this,t,e,n,r)},Bt.removeEventListener=function(t,e,n,r){Ne(this,t,e,n,r)},Bt.G=function(){if(Oe.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ve(n[r]);delete e.a[t],e.b--}}this.C=null},Bt.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Bt.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var xe=vt.JSON.stringify;function Pe(){this.b=this.a=null}var ke,Ve=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())((function(){return new Ge}),(function(t){t.reset()}));function ze(){var t=je,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Ge(){this.next=this.b=this.a=null}function Xe(t){vt.setTimeout((function(){throw t}),0)}function qe(t,e){ke||function(){var t=vt.Promise.resolve(void 0);ke=function(){t.then(We)}}(),Je||(ke(),Je=!0),je.add(t,e)}Pe.prototype.add=function(t,e){var n=Ve.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Ge.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Ge.prototype.reset=function(){this.next=this.b=this.a=null};var Je=!1,je=new Pe;function We(){for(var t;t=ze();){try{t.a.call(t.b)}catch(t){Xe(t)}var e=Ve;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Je=!1}function Ye(t,e){Oe.call(this),this.b=t||1,this.a=e||vt,this.f=It(this.Za,this),this.g=Tt()}function Ze(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function $e(t,e,n){if("function"==typeof t)n&&(t=It(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=It(t.handleEvent,t)}return 2147483647<Number(e)?-1:vt.setTimeout(t,e||0)}function tn(t){t.a=$e((function(){t.a=null,t.c&&(t.c=!1,tn(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Ht(Ye,Oe),(Bt=Ye.prototype).aa=!1,Bt.M=null,Bt.Za=function(){if(this.aa){var t=Tt()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Le(this,"tick"),this.aa&&(Ze(this),this.start()))}},Bt.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Tt())},Bt.G=function(){Ye.X.G.call(this),Ze(this),delete this.a};var en=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}pt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:tn(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(vt.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(_t);function nn(t){_t.call(this),this.b=t,this.a={}}Ht(nn,_t);var rn=[];function An(t,e,n,r){Array.isArray(n)||(n&&(rn[0]=n.toString()),n=rn);for(var A=0;A<n.length;A++){var i=be(e,n[A],r||t.handleEvent,!1,t.b||t);if(!i)break;t.a[i.key]=i}}function on(t){zt(t.a,(function(t,e){this.a.hasOwnProperty(e)&&Te(t)}),t),t.a={}}function sn(){this.a=!0}function an(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var A=r[1];if(Array.isArray(A)&&!(1>A.length)){var i=A[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var o=1;o<A.length;o++)A[o]=""}}}return xe(n)}catch(t){return e}}(t,n)+(r?" "+r:"")}))}nn.prototype.G=function(){nn.X.G.call(this),on(this)},nn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},sn.prototype.info=function(){};var un={},cn=null;function ln(){return cn=cn||new Oe}function hn(t){de.call(this,un.Fa,t)}function fn(t){var e=ln();Le(e,new hn(e,t))}function dn(t,e){de.call(this,un.STAT_EVENT,t),this.stat=e}function pn(t){var e=ln();Le(e,new dn(e,t))}function gn(t){de.call(this,un.Ga,t)}function Bn(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return vt.setTimeout((function(){t()}),e)}un.Fa="serverreachability",Ht(hn,de),un.STAT_EVENT="statevent",Ht(dn,de),un.Ga="timingevent",Ht(gn,de);var wn={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},yn={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function vn(){}function mn(t){var e;return(e=t.a)||(e=t.a={}),e}function En(){}vn.prototype.a=null;var Qn,Cn={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Un(){de.call(this,"d")}function bn(){de.call(this,"c")}function Fn(){}function In(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new nn(this),this.P=Nn,t=te?125:void 0,this.R=new Ye(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Ht(Un,de),Ht(bn,de),Ht(Fn,vn),Qn=new Fn;var Nn=45e3,Tn={},Hn={};function _n(t,e,n){t.H=1,t.i=tr(Jn(e)),t.j=n,t.I=!0,Sn(t,null)}function Sn(t,e){t.u=Tt(),Kn(t),t.l=Jn(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),fr(n.b,"t",r),t.D=0,t.a=sA(t.g,t.g.C?e:null),0<t.O&&(t.F=new en(It(t.Ca,t,t.a),t.O)),An(t.J,t.a,"readystatechange",t.Xa),e=t.B?Gt(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),fn(1),function(t,e,n,r,A,i){t.info((function(){if(t.a)if(i)for(var o="",s=i.split("&"),a=0;a<s.length;a++){var u=s[a].split("=");if(1<u.length){var c=u[0];u=u[1];var l=c.split("_");o=2<=l.length&&"type"==l[1]?o+(c+"=")+u+"&":o+(c+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+A+"]: "+e+"\n"+n+"\n"+o}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function Dn(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var A=Rn(t,n);if(A==Hn){4==e&&(t.h=4,pn(14),r=!1),an(t.c,t.f,null,"[Incomplete Response]");break}if(A==Tn){t.h=4,pn(15),an(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}an(t.c,t.f,A,null),Pn(t,A)}4==e&&0==n.length&&(t.h=1,pn(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),$r(e),e.F=!0,pn(11))):(an(t.c,t.f,n,"[Invalid Chunked Response]"),xn(t),Mn(t))}function Rn(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Hn:(n=Number(e.substring(n,r)),isNaN(n)?Tn:(r+=1)+n>e.length?Hn:(e=e.substr(r,n),t.D=r+n,e))}function Kn(t){t.T=Tt()+t.P,On(t,t.P)}function On(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Bn(It(t.Va,t),e)}function Ln(t){t.o&&(vt.clearTimeout(t.o),t.o=null)}function Mn(t){0==t.g.v||t.A||nA(t.g,t)}function xn(t){Ln(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Ze(t.R),on(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Pn(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||vr(n.b,t)))if(n.I=t.N,!t.C&&vr(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(t){r=null}if(Array.isArray(r)&&3==r.length){var A=r;if(0==A[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;eA(n),zr(n)}Zr(n),pn(18)}}else n.oa=A[1],0<n.oa-n.P&&37500>A[2]&&n.H&&0==n.o&&!n.m&&(n.m=Bn(It(n.Sa,n),6e3));if(1>=yr(n.b)&&n.ea){try{n.ea()}catch(t){}n.ea=void 0}}else AA(n,11)}else if((t.C||n.a==t)&&eA(n),!Ot(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(A=e[r],n.P=A[0],A=A[1],2==n.v)if("c"==A[0]){n.J=A[1],n.ga=A[2];var i=A[3];null!=i&&(n.ha=i,n.c.info("VER="+n.ha));var o=A[4];null!=o&&(n.pa=o,n.c.info("SVER="+n.pa));var s=A[5];if(null!=s&&"number"==typeof s&&0<s){var a=1.5*s;n.D=a,n.c.info("backChannelRequestTimeoutMs_="+a)}a=n;var u=t.a;if(u){var c=u.a?u.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var l=a.b;!l.a&&(xt(c,"spdy")||xt(c,"quic")||xt(c,"h2"))&&(l.f=l.g,l.a=new Set,l.b&&(mr(l,l.b),l.b=null))}if(a.A){var h=u.a?u.a.getResponseHeader("X-HTTP-Session-Id"):null;h&&(a.na=h,$n(a.B,a.A,h))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Tt()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var f=t;if((a=n).la=oA(a,a.C?a.ga:null,a.fa),f.C){Er(a.b,f);var d=f,p=a.D;p&&d.setTimeout(p),d.o&&(Ln(d),Kn(d)),a.a=f}else Yr(a);0<n.g.length&&qr(n)}else"stop"!=A[0]&&"close"!=A[0]||AA(n,7);else 3==n.v&&("stop"==A[0]||"close"==A[0]?"stop"==A[0]?AA(n,7):Vr(n):"noop"!=A[0]&&n.f&&n.f.sa(A),n.o=0);fn(4)}catch(t){}}function kn(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Et(t)||"string"==typeof t)Dt(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Et(t)||"string"==typeof t){n=[];for(var r=t.length,A=0;A<r;A++)n.push(A)}else for(A in n=[],r=0,t)n[r++]=A;A=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Et(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var i=0;i<A;i++)e.call(void 0,r[i],n&&n[i],t)}}function Vn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Vn)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function zn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Gn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var A={};for(n=e=0;e<t.a.length;)Gn(A,r=t.a[e])||(t.a[n++]=r,A[r]=1),e++;t.a.length=n}}function Gn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Bt=In.prototype).setTimeout=function(t){this.P=t},Bt.Xa=function(t){t=t.target;var e=this.F;e&&3==Mr(t)?e.f():this.Ca(t)},Bt.Ca=function(t){try{if(t==this.a)t:{var e=Mr(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!te&&!this.a.$())){this.A||4!=e||7==n||fn(8==n||0>=r?3:2),Ln(this);var A=this.a.W();this.N=A;var i=this.a.$();if(this.b=200==A,function(t,e,n,r,A,i,o){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+A+"]: "+e+"\n"+n+"\n"+i+" "+o}))}(this.c,this.m,this.l,this.f,this.S,e,A),this.b){if(this.U&&!this.C){e:{if(this.a){var o,s=this.a;if((o=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ot(o)){var a=o;break e}}a=null}if(!a){this.b=!1,this.h=3,pn(12),xn(this),Mn(this);break t}an(this.c,this.f,a,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Pn(this,a)}this.I?(Dn(this,e,i),te&&this.b&&3==e&&(An(this.J,this.R,"tick",this.Wa),this.R.start())):(an(this.c,this.f,i,null),Pn(this,i)),4==e&&xn(this),this.b&&!this.A&&(4==e?nA(this.g,this):(this.b=!1,Kn(this)))}else 400==A&&0<i.indexOf("Unknown SID")?(this.h=3,pn(12)):(this.h=0,pn(13)),xn(this),Mn(this)}}}catch(t){}},Bt.Wa=function(){if(this.a){var t=Mr(this.a),e=this.a.$();this.D<e.length&&(Ln(this),Dn(this,t,e),this.b&&4!=t&&Kn(this))}},Bt.cancel=function(){this.A=!0,xn(this)},Bt.Va=function(){this.o=null;var t=Tt();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(fn(3),pn(17)),xn(this),this.h=2,Mn(this)):On(this,this.T-t)},(Bt=Vn.prototype).K=function(){zn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Bt.L=function(){return zn(this),this.a.concat()},Bt.get=function(t,e){return Gn(this.b,t)?this.b[t]:e},Bt.set=function(t,e){Gn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Bt.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var A=n[r],i=this.get(A);t.call(e,i,A,this)}};var Xn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function qn(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof qn){this.a=void 0!==e?e:t.a,jn(this,t.f),this.j=t.j,Wn(this,t.c),Yn(this,t.h),this.g=t.g,e=t.b;var n=new ur;n.c=e.c,e.a&&(n.a=new Vn(e.a),n.b=e.b),Zn(this,n),this.i=t.i}else t&&(n=String(t).match(Xn))?(this.a=!!e,jn(this,n[1]||"",!0),this.j=er(n[2]||""),Wn(this,n[3]||"",!0),Yn(this,n[4]),this.g=er(n[5]||"",!0),Zn(this,n[6]||"",!0),this.i=er(n[7]||"")):(this.a=!!e,this.b=new ur(null,this.a))}function Jn(t){return new qn(t)}function jn(t,e,n){t.f=n?er(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Wn(t,e,n){t.c=n?er(e,!0):e}function Yn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Zn(t,e,n){e instanceof ur?(t.b=e,function(t,e){e&&!t.f&&(cr(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(lr(this,e),fr(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=nr(e,sr)),t.b=new ur(e,t.a))}function $n(t,e,n){t.b.set(e,n)}function tr(t){return $n(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Tt()).toString(36)),t}function er(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function nr(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,rr),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function rr(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}qn.prototype.toString=function(){var t=[],e=this.f;e&&t.push(nr(e,Ar,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(nr(e,Ar,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(nr(n,"/"==n.charAt(0)?or:ir,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",nr(n,ar)),t.join("")};var Ar=/[#\/\?@]/g,ir=/[#\?:]/g,or=/[#\?]/g,sr=/[#\?@]/g,ar=/#/g;function ur(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function cr(t){t.a||(t.a=new Vn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),A=null;if(0<=r){var i=t[n].substring(0,r);A=t[n].substring(r+1)}else i=t[n];e(i,A?decodeURIComponent(A.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function lr(t,e){cr(t),e=dr(t,e),Gn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Gn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&zn(t)))}function hr(t,e){return cr(t),e=dr(t,e),Gn(t.a.b,e)}function fr(t,e,n){lr(t,e),0<n.length&&(t.c=null,t.a.set(dr(t,e),Kt(n)),t.b+=n.length)}function dr(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Bt=ur.prototype).add=function(t,e){cr(this),this.c=null,t=dr(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Bt.forEach=function(t,e){cr(this),this.a.forEach((function(n,r){Dt(n,(function(n){t.call(e,n,r,this)}),this)}),this)},Bt.L=function(){cr(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var A=t[r],i=0;i<A.length;i++)n.push(e[r]);return n},Bt.K=function(t){cr(this);var e=[];if("string"==typeof t)hr(this,t)&&(e=Rt(e,this.a.get(dr(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Rt(e,t[n])}return e},Bt.set=function(t,e){return cr(this),this.c=null,hr(this,t=dr(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Bt.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Bt.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],A=encodeURIComponent(String(r));r=this.K(r);for(var i=0;i<r.length;i++){var o=A;""!==r[i]&&(o+="="+encodeURIComponent(String(r[i]))),t.push(o)}}return this.c=t.join("&")};var pr=function(t,e){this.b=t,this.a=e};function gr(t){this.g=t||Br,t=vt.PerformanceNavigationTiming?0<(t=vt.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(vt.ia&&vt.ia.ya&&vt.ia.ya()&&vt.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Br=10;function wr(t){return!!t.b||!!t.a&&t.a.size>=t.f}function yr(t){return t.b?1:t.a?t.a.size:0}function vr(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function mr(t,e){t.a?t.a.add(e):t.b=e}function Er(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Qr(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var A=gt(t.a.values()),i=A.next();!i.done;i=A.next()){var o=i.value;r=r.concat(o.s)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=A.return)&&n.call(A)}finally{if(e)throw e.error}}return r}return Kt(t.c)}function Cr(){}function Ur(){this.a=new Cr}function br(t,e,n){var r=n||"";try{kn(t,(function(t,n){var A=t;Qt(t)&&(A=xe(t)),e.push(r+n+"="+encodeURIComponent(A))}))}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function Fr(t,e,n,r,A){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,A(r)}catch(t){}}gr.prototype.cancel=function(){var t,e;if(this.c=Qr(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=gt(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Cr.prototype.stringify=function(t){return vt.JSON.stringify(t,void 0)},Cr.prototype.parse=function(t){return vt.JSON.parse(t,void 0)};var Ir=vt.JSON.parse;function Nr(t){Oe.call(this),this.headers=new Vn,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Tr,this.D=this.F=!1}Ht(Nr,Oe);var Tr="",Hr=/^https?$/i,_r=["POST","PUT"];function Sr(t){return"content-type"==t.toLowerCase()}function Dr(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Rr(t),Or(t)}function Rr(t){t.u||(t.u=!0,Le(t,"complete"),Le(t,"error"))}function Kr(t){if(t.b&&void 0!==yt&&(!t.s[1]||4!=Mr(t)||2!=t.W()))if(t.l&&4==Mr(t))$e(t.za,0,t);else if(Le(t,"readystatechange"),4==Mr(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var A;if(A=0===n){var i=String(t.B).match(Xn)[1]||null;if(!i&&vt.self&&vt.self.location){var o=vt.self.location.protocol;i=o.substr(0,o.length-1)}A=!Hr.test(i?i.toLowerCase():"")}e=A}if(e)Le(t,"complete"),Le(t,"success");else{t.h=6;try{var s=2<Mr(t)?t.a.statusText:""}catch(n){s=""}t.f=s+" ["+t.W()+"]",Rr(t)}}finally{Or(t)}}}function Or(t,e){if(t.a){Lr(t);var n=t.a,r=t.s[0]?mt:null;t.a=null,t.s=null,e||Le(t,"ready");try{n.onreadystatechange=r}catch(t){}}}function Lr(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(vt.clearTimeout(t.m),t.m=null)}function Mr(t){return t.a?t.a.readyState:0}function xr(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return zt(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):$n(t,e,n))}function Pr(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function kr(t){this.pa=0,this.g=[],this.c=new sn,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Pr("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Pr("baseRetryDelayMs",5e3,t),this.Ra=Pr("retryDelaySeedMs",1e4,t),this.Ma=Pr("forwardChannelMaxRetries",2,t),this.ma=Pr("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new gr(t&&t.concurrentRequestLimit),this.ka=new Ur,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Vr(t){if(Gr(t),3==t.v){var e=t.R++,n=Jn(t.B);$n(n,"SID",t.J),$n(n,"RID",e),$n(n,"TYPE","terminate"),jr(t,n),(e=new In(t,t.c,e,void 0)).H=2,e.i=tr(Jn(n)),n=!1,vt.navigator&&vt.navigator.sendBeacon&&(n=vt.navigator.sendBeacon(e.i.toString(),"")),!n&&vt.Image&&((new Image).src=e.i,n=!0),n||(e.a=sA(e.g,null),e.a.ba(e.i)),e.u=Tt(),Kn(e)}iA(t)}function zr(t){t.a&&($r(t),t.a.cancel(),t.a=null)}function Gr(t){zr(t),t.j&&(vt.clearTimeout(t.j),t.j=null),eA(t),t.b.cancel(),t.h&&("number"==typeof t.h&&vt.clearTimeout(t.h),t.h=null)}function Xr(t,e){t.g.push(new pr(t.Oa++,e)),3==t.v&&qr(t)}function qr(t){wr(t.b)||t.h||(t.h=!0,qe(t.Ba,t),t.u=0)}function Jr(t,e){var n;n=e?e.f:t.R++;var r=Jn(t.B);$n(r,"SID",t.J),$n(r,"RID",n),$n(r,"AID",t.P),jr(t,r),t.i&&t.l&&xr(r,t.i,t.l),n=new In(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Wr(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),mr(t.b,n),_n(n,r,e)}function jr(t,e){t.f&&kn({},(function(t,n){$n(e,n,t)}))}function Wr(t,e,n){n=Math.min(t.g.length,n);var r=t.f?It(t.f.Ja,t.f,t):null;t:for(var A=t.g,i=-1;;){var o=["count="+n];-1==i?0<n?(i=A[0].b,o.push("ofs="+i)):i=0:o.push("ofs="+i);for(var s=!0,a=0;a<n;a++){var u=A[a].b,c=A[a].a;if(0>(u-=i))i=Math.max(0,A[a].b-100),s=!1;else try{br(c,o,"req"+u+"_")}catch(t){r&&r(c)}}if(s){r=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Yr(t){t.a||t.j||(t.T=1,qe(t.Aa,t),t.o=0)}function Zr(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Bn(It(t.Aa,t),rA(t,t.o)),t.o++,0))}function $r(t){null!=t.s&&(vt.clearTimeout(t.s),t.s=null)}function tA(t){t.a=new In(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Jn(t.la);$n(e,"RID","rpc"),$n(e,"SID",t.J),$n(e,"CI",t.H?"0":"1"),$n(e,"AID",t.P),jr(t,e),$n(e,"TYPE","xmlhttp"),t.i&&t.l&&xr(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=tr(Jn(e)),n.j=null,n.I=!0,Sn(n,t)}function eA(t){null!=t.m&&(vt.clearTimeout(t.m),t.m=null)}function nA(t,e){var n=null;if(t.a==e){eA(t),$r(t),t.a=null;var r=2}else{if(!vr(t.b,e))return;n=e.s,Er(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Tt()-e.u;var A=t.u;Le(r=ln(),new gn(r,n,e,A)),qr(t)}else Yr(t);else if(3==(A=e.h)||0==A&&0<t.I||!(1==r&&function(t,e){return!(yr(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Bn(It(t.Ba,t,e),rA(t,t.u)),t.u++,0)))}(t,e)||2==r&&Zr(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),A){case 1:AA(t,5);break;case 4:AA(t,10);break;case 3:AA(t,6);break;default:AA(t,2)}}function rA(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function AA(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=It(t.Ya,t);n||(n=new qn("//www.google.com/images/cleardot.gif"),vt.location&&"http"==vt.location.protocol||jn(n,"https"),tr(n)),function(t,e){var n=new sn;if(vt.Image){var r=new Image;r.onload=Nt(Fr,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Nt(Fr,n,r,"TestLoadImage: error",!1,e),r.onabort=Nt(Fr,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Nt(Fr,n,r,"TestLoadImage: timeout",!1,e),vt.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else pn(2);t.v=0,t.f&&t.f.ra(e),iA(t),Gr(t)}function iA(t){t.v=0,t.I=-1,t.f&&(0==Qr(t.b).length&&0==t.g.length||(t.b.c.length=0,Kt(t.g),t.g.length=0),t.f.qa())}function oA(t,e,n){var r=function(t){return t instanceof qn?Jn(t):new qn(t,void 0)}(n);if(""!=r.c)e&&Wn(r,e+"."+r.c),Yn(r,r.h);else{var A=vt.location;r=function(t,e,n,r){var A=new qn(null,void 0);return t&&jn(A,t),e&&Wn(A,e),n&&Yn(A,n),r&&(A.g=r),A}(A.protocol,e?e+"."+A.hostname:A.hostname,+A.port,n)}return t.V&&zt(t.V,(function(t,e){$n(r,e,t)})),e=t.A,n=t.na,e&&n&&$n(r,e,n),$n(r,"VER",t.ha),jr(t,r),r}function sA(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Nr(t.Na)).F=t.C,e}function aA(){}function uA(){if(Zt&&!(10<=Number(ce)))throw Error("Environmental error: no available transport.")}function cA(t,e){Oe.call(this),this.a=new kr(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Ot(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ot(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new fA(this)}function lA(t){Un.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function hA(){bn.call(this),this.status=1}function fA(t){this.a=t}(Bt=Nr.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?mn(this.H):mn(Qn),this.a.onreadystatechange=It(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(t){return void Dr(this,t)}t=n||"";var A=new Vn(this.headers);r&&kn(r,(function(t,e){A.set(e,t)})),r=function(t){t:{for(var e=Sr,n=t.length,r="string"==typeof t?t.split(""):t,A=0;A<n;A++)if(A in r&&e.call(void 0,r[A],A,t)){e=A;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(A.L()),n=vt.FormData&&t instanceof vt.FormData,!(0<=St(_r,e))||r||n||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),A.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Lr(this),0<this.o&&((this.D=function(t){return Zt&&ue(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=It(this.xa,this)):this.m=$e(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){Dr(this,t)}},Bt.xa=function(){void 0!==yt&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Le(this,"timeout"),this.abort(8))},Bt.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Le(this,"complete"),Le(this,"abort"),Or(this))},Bt.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Or(this,!0)),Nr.X.G.call(this)},Bt.za=function(){this.j||(this.A||this.l||this.g?Kr(this):this.Ua())},Bt.Ua=function(){Kr(this)},Bt.W=function(){try{return 2<Mr(this)?this.a.status:-1}catch(t){return-1}},Bt.$=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},Bt.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Ir(e)}},Bt.ua=function(){return this.h},Bt.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Bt=kr.prototype).ha=8,Bt.v=1,Bt.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new In(this,this.c,t,void 0),r=this.l;if(this.O&&(r?qt(r=Gt(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var A=e=0;A<this.g.length;A++){var i=this.g[A];if(void 0===(i="__data__"in i.a&&"string"==typeof(i=i.a.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=A;break t}if(4096===e||A===this.g.length-1){e=A+1;break t}}e=1e3}else e=1e3;e=Wr(this,n,e),$n(A=Jn(this.B),"RID",t),$n(A,"CVER",22),this.A&&$n(A,"X-HTTP-Session-Id",this.A),jr(this,A),this.i&&r&&xr(A,this.i,r),mr(this.b,n),this.Ia&&$n(A,"TYPE","init"),this.da?($n(A,"$req",e),$n(A,"SID","null"),n.U=!0,_n(n,A,null)):_n(n,A,e),this.v=2}}else 3==this.v&&(t?Jr(this,t):0==this.g.length||wr(this.b)||Jr(this))},Bt.Aa=function(){if(this.j=null,tA(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Bn(It(this.Ta,this),t)}},Bt.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,pn(10),zr(this),tA(this))},Bt.Sa=function(){null!=this.m&&(this.m=null,zr(this),Zr(this),pn(19))},Bt.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),pn(2)):(this.c.info("Failed to ping google.com"),pn(1))},(Bt=aA.prototype).ta=function(){},Bt.sa=function(){},Bt.ra=function(){},Bt.qa=function(){},Bt.Ja=function(){},uA.prototype.a=function(t,e){return new cA(t,e)},Ht(cA,Oe),cA.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;pn(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=oA(t,null,t.fa),qr(t)},cA.prototype.close=function(){Vr(this.a)},cA.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Xr(this.a,e)}else this.l?((e={}).__data__=xe(t),Xr(this.a,e)):Xr(this.a,t)},cA.prototype.G=function(){this.a.f=null,delete this.f,Vr(this.a),delete this.a,cA.X.G.call(this)},Ht(lA,Un),Ht(hA,bn),Ht(fA,aA),fA.prototype.ta=function(){Le(this.a,"a")},fA.prototype.sa=function(t){Le(this.a,new lA(t))},fA.prototype.ra=function(t){Le(this.a,new hA(t))},fA.prototype.qa=function(){Le(this.a,"b")},uA.prototype.createWebChannel=uA.prototype.a,cA.prototype.send=cA.prototype.h,cA.prototype.open=cA.prototype.g,cA.prototype.close=cA.prototype.close,wn.NO_ERROR=0,wn.TIMEOUT=8,wn.HTTP_ERROR=6,yn.COMPLETE="complete",En.EventType=Cn,Cn.OPEN="a",Cn.CLOSE="b",Cn.ERROR="c",Cn.MESSAGE="d",Oe.prototype.listen=Oe.prototype.va,Nr.prototype.listenOnce=Nr.prototype.wa,Nr.prototype.getLastError=Nr.prototype.Qa,Nr.prototype.getLastErrorCode=Nr.prototype.ua,Nr.prototype.getStatus=Nr.prototype.W,Nr.prototype.getResponseJson=Nr.prototype.Pa,Nr.prototype.getResponseText=Nr.prototype.$,Nr.prototype.send=Nr.prototype.ba;var dA=wn,pA=yn,gA=un,BA=10,wA=11,yA=En,vA=Nr,mA=function(t,e){return(mA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function EA(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}mA(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function QA(t,e,n,r){return new(n||(n=Promise))((function(A,i){function o(t){try{a(r.next(t))}catch(t){i(t)}}function s(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?A(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,s)}a((r=r.apply(t,e||[])).next())}))}function CA(t,e){var n,r,A,i,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(A=2&i[0]?r.return:i[0]?r.throw||((A=r.return)&&A.call(r),0):r.next)&&!(A=A.call(r,i[1])).done)return A;switch(r=0,A&&(i=[2&i[0],A.value]),i[0]){case 0:case 1:A=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((A=(A=o.trys).length>0&&A[A.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!A||i[1]>A[0]&&i[1]<A[3])){o.label=i[1];break}if(6===i[0]&&o.label<A[1]){o.label=A[1],A=i;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(i);break}A[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(t){i=[6,t],r=0}finally{n=A=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function UA(t,e){for(var n=0,r=e.length,A=t.length;n<r;n++,A++)t[A]=e[n];return t}Object.create,Object.create;var bA=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();bA.o=-1;var FA=new Z("@firebase/firestore");function IA(){return FA.logLevel}function NA(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(FA.logLevel<=G.DEBUG){var r=e.map(_A);FA.debug.apply(FA,UA(["Firestore (8.3.1): "+t],r))}}function TA(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(FA.logLevel<=G.ERROR){var r=e.map(_A);FA.error.apply(FA,UA(["Firestore (8.3.1): "+t],r))}}function HA(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(FA.logLevel<=G.WARN){var r=e.map(_A);FA.warn.apply(FA,UA(["Firestore (8.3.1): "+t],r))}}function _A(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}function SA(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.3.1) INTERNAL ASSERTION FAILED: "+t;throw TA(e),new Error(e)}function DA(t,e){t||SA()}function RA(t,e){return t}function KA(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var OA=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=KA(40),A=0;A<r.length;++A)n.length<20&&r[A]<e&&(n+=t.charAt(r[A]%t.length));return n},t}();function LA(t,e){return t<e?-1:t>e?1:0}function MA(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function xA(t){return t+"\0"}function PA(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function kA(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function VA(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function zA(t){return null==t}function GA(t){return 0===t&&1/t==-1/0}function XA(t){return"number"==typeof t&&Number.isInteger(t)&&!GA(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var qA={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},JA=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return EA(e,t),e}(Error),jA=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&SA(),void 0===n?n=t.length-e:n>t.length-e&&SA(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var A=t.get(r),i=e.get(r);if(A<i)return-1;if(A>i)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),WA=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return EA(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],A=0,i=t;A<i.length;A++){var o=i[A];if(o.indexOf("//")>=0)throw new JA(qA.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.emptyPath=function(){return new e([])},e}(jA),YA=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ZA=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return EA(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return YA.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",A=0,i=function(){if(0===r.length)throw new JA(qA.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;A<t.length;){var s=t[A];if("\\"===s){if(A+1===t.length)throw new JA(qA.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var a=t[A+1];if("\\"!==a&&"."!==a&&"`"!==a)throw new JA(qA.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=a,A+=2}else"`"===s?(o=!o,A++):"."!==s||o?(r+=s,A++):(i(),A++)}if(i(),o)throw new JA(qA.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(jA),$A=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(WA.fromString(e))},t.fromName=function(e){return new t(WA.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===WA.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return WA.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new WA(e.slice()))},t}(),ti=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return LA(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();ti.EMPTY_BYTE_STRING=new ti("");var ei=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ni(t){if(DA(!!t),"string"==typeof t){var e=0,n=ei.exec(t);if(DA(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var A=new Date(t);return{seconds:Math.floor(A.getTime()/1e3),nanos:e}}return{seconds:ri(t.seconds),nanos:ri(t.nanos)}}function ri(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Ai(t){return"string"==typeof t?ti.fromBase64String(t):ti.fromUint8Array(t)}var ii=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new JA(qA.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new JA(qA.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new JA(qA.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new JA(qA.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?LA(this.nanoseconds,t.nanoseconds):LA(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}();function oi(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function si(t){var e=t.mapValue.fields.__previous_value__;return oi(e)?si(e):e}function ai(t){var e=ni(t.mapValue.fields.__local_write_time__.timestampValue);return new ii(e.seconds,e.nanos)}function ui(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?oi(t)?4:10:SA()}function ci(t,e){var n=ui(t);if(n!==ui(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ai(t).isEqual(ai(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=ni(t.timestampValue),r=ni(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Ai(t.bytesValue).isEqual(Ai(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return ri(t.geoPointValue.latitude)===ri(e.geoPointValue.latitude)&&ri(t.geoPointValue.longitude)===ri(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return ri(t.integerValue)===ri(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=ri(t.doubleValue),r=ri(e.doubleValue);return n===r?GA(n)===GA(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return MA(t.arrayValue.values||[],e.arrayValue.values||[],ci);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(PA(n)!==PA(r))return!1;for(var A in n)if(n.hasOwnProperty(A)&&(void 0===r[A]||!ci(n[A],r[A])))return!1;return!0}(t,e);default:return SA()}}function li(t,e){return void 0!==(t.values||[]).find((function(t){return ci(t,e)}))}function hi(t,e){var n=ui(t),r=ui(e);if(n!==r)return LA(n,r);switch(n){case 0:return 0;case 1:return LA(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=ri(t.integerValue||t.doubleValue),r=ri(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return fi(t.timestampValue,e.timestampValue);case 4:return fi(ai(t),ai(e));case 5:return LA(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Ai(t),r=Ai(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),A=0;A<n.length&&A<r.length;A++){var i=LA(n[A],r[A]);if(0!==i)return i}return LA(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=LA(ri(t.latitude),ri(e.latitude));return 0!==n?n:LA(ri(t.longitude),ri(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],A=0;A<n.length&&A<r.length;++A){var i=hi(n[A],r[A]);if(i)return i}return LA(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),A=e.fields||{},i=Object.keys(A);r.sort(),i.sort();for(var o=0;o<r.length&&o<i.length;++o){var s=LA(r[o],i[o]);if(0!==s)return s;var a=hi(n[r[o]],A[i[o]]);if(0!==a)return a}return LA(r.length,i.length)}(t.mapValue,e.mapValue);default:throw SA()}}function fi(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return LA(t,e);var n=ni(t),r=ni(e),A=LA(n.seconds,r.seconds);return 0!==A?A:LA(n.nanos,r.nanos)}function di(t){return pi(t)}function pi(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=ni(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ai(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,$A.fromName(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,A=t.values||[];r<A.length;r++)n?n=!1:e+=",",e+=pi(A[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,A=Object.keys(t.fields||{}).sort();r<A.length;r++){var i=A[r];n?n=!1:e+=",",e+=i+":"+pi(t.fields[i])}return e+"}"}(t.mapValue):SA();var e,n}function gi(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Bi(t){return!!t&&"integerValue"in t}function wi(t){return!!t&&"arrayValue"in t}function yi(t){return!!t&&"nullValue"in t}function vi(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function mi(t){return!!t&&"mapValue"in t}var Ei=function(t,e){this.key=t,this.version=e},Qi=function(t){function e(e,n,r,A){var i=this;return(i=t.call(this,e,n)||this).objectValue=r,i.hasLocalMutations=!!A.hasLocalMutations,i.hasCommittedMutations=!!A.hasCommittedMutations,i}return EA(e,t),e.prototype.field=function(t){return this.objectValue.field(t)},e.prototype.data=function(){return this.objectValue},e.prototype.toProto=function(){return this.objectValue.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.hasLocalMutations===t.hasLocalMutations&&this.hasCommittedMutations===t.hasCommittedMutations&&this.objectValue.isEqual(t.objectValue)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.objectValue.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Ei),Ci=function(t){function e(e,n,r){var A=this;return(A=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),A}return EA(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Ei),Ui=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return EA(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Ei),bi=function(t,e,n,r,A,i,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===A&&(A=null),void 0===i&&(i=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=A,this.startAt=i,this.endAt=o,this.h=null};function Fi(t,e,n,r,A,i,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===A&&(A=null),void 0===i&&(i=null),void 0===o&&(o=null),new bi(t,e,n,r,A,i,o)}function Ii(t){var e=RA(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.canonicalString()+t.op.toString()+di(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.canonicalString()+t.dir}(t)})).join(","),zA(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Pi(e.startAt)),e.endAt&&(n+="|ub:",n+=Pi(e.endAt)),e.h=n}return e.h}function Ni(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Vi(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(A=t.filters[r],i=e.filters[r],A.op!==i.op||!A.field.isEqual(i.field)||!ci(A.value,i.value))return!1;var A,i;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Gi(t.startAt,e.startAt)&&Gi(t.endAt,e.endAt)}function Ti(t){return $A.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Hi=function(t){function e(e,n,r){var A=this;return(A=t.call(this)||this).field=e,A.op=n,A.value=r,A}return EA(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new _i(t,n,r):"array-contains"===n?new Ki(t,r):"in"===n?new Oi(t,r):"not-in"===n?new Li(t,r):"array-contains-any"===n?new Mi(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new Si(t,n):new Di(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.m(hi(e,this.value)):null!==e&&ui(this.value)===ui(e)&&this.m(hi(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return SA()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),_i=function(t){function e(e,n,r){var A=this;return(A=t.call(this,e,n,r)||this).key=$A.fromName(r.referenceValue),A}return EA(e,t),e.prototype.matches=function(t){var e=$A.comparator(t.key,this.key);return this.m(e)},e}(Hi),Si=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Ri(0,n),r}return EA(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Hi),Di=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Ri(0,n),r}return EA(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Hi);function Ri(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return $A.fromName(t.referenceValue)}))}var Ki=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return EA(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return wi(e)&&li(e.arrayValue,this.value)},e}(Hi),Oi=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return EA(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&li(this.value.arrayValue,e)},e}(Hi),Li=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return EA(e,t),e.prototype.matches=function(t){if(li(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!li(this.value.arrayValue,e)},e}(Hi),Mi=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return EA(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!wi(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return li(e.value.arrayValue,t)}))},e}(Hi),xi=function(t,e){this.position=t,this.before=e};function Pi(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return di(t)})).join(",")}var ki=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Vi(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function zi(t,e,n){for(var r=0,A=0;A<t.position.length;A++){var i=e[A],o=t.position[A];if(r=i.field.isKeyField()?$A.comparator($A.fromName(o.referenceValue),n.key):hi(o,n.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Gi(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!ci(t.position[n],e.position[n]))return!1;return!0}var Xi=function(t,e,n,r,A,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===A&&(A=null),void 0===i&&(i="F"),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=A,this.limitType=i,this.startAt=o,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function qi(t,e,n,r,A,i,o,s){return new Xi(t,e,n,r,A,i,o,s)}function Ji(t){return new Xi(t)}function ji(t){return!zA(t.limit)&&"F"===t.limitType}function Wi(t){return!zA(t.limit)&&"L"===t.limitType}function Yi(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Zi(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function $i(t){return null!==t.collectionGroup}function to(t){var e=RA(t);if(null===e.p){e.p=[];var n=Zi(e),r=Yi(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new ki(n)),e.p.push(new ki(ZA.keyField(),"asc"));else{for(var A=!1,i=0,o=e.explicitOrderBy;i<o.length;i++){var s=o[i];e.p.push(s),s.field.isKeyField()&&(A=!0)}if(!A){var a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new ki(ZA.keyField(),a))}}}return e.p}function eo(t){var e=RA(t);if(!e.T)if("F"===e.limitType)e.T=Fi(e.path,e.collectionGroup,to(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,A=to(e);r<A.length;r++){var i=A[r],o="desc"===i.dir?"asc":"desc";n.push(new ki(i.field,o))}var s=e.endAt?new xi(e.endAt.position,!e.endAt.before):null,a=e.startAt?new xi(e.startAt.position,!e.startAt.before):null;e.T=Fi(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.T}function no(t,e,n){return new Xi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ro(t,e){return Ni(eo(t),eo(e))&&t.limitType===e.limitType}function Ao(t){return Ii(eo(t))+"|lt:"+t.limitType}function io(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.canonicalString()+" "+e.op+" "+di(e.value);var e})).join(", ")+"]"),zA(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Pi(t.startAt)),t.endAt&&(e+=", endAt: "+Pi(t.endAt)),"Target("+e+")"}(eo(t))+"; limitType="+t.limitType+")"}function oo(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):$A.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var A=r[n];if(!A.field.isKeyField()&&null===e.field(A.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!zi(t.startAt,to(t),e)||t.endAt&&zi(t.endAt,to(t),e))}(t,e)}function so(t){return function(e,n){for(var r=!1,A=0,i=to(t);A<i.length;A++){var o=i[A],s=ao(o,e,n);if(0!==s)return s;r=r||o.field.isKeyField()}return 0}}function ao(t,e,n){var r=t.field.isKeyField()?$A.comparator(e.key,n.key):function(t,e,n){var r=e.field(t),A=n.field(t);return null!==r&&null!==A?hi(r,A):SA()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return SA()}}var uo=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new ii(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}(),co=function(){function t(t){this.fields=t,t.sort(ZA.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return MA(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),lo=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!mi(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.isEqual=function(t){return ci(this.proto,t.proto)},t}(),ho=function(){function t(t){void 0===t&&(t=lo.empty()),this.I=t,this.A=new Map}return t.prototype.set=function(t,e){return this.R(t,e),this},t.prototype.delete=function(t){return this.R(t,null),this},t.prototype.R=function(t,e){for(var n=this.A,r=0;r<t.length-1;++r){var A=t.get(r),i=n.get(A);i instanceof Map?n=i:i&&10===ui(i)?(i=new Map(Object.entries(i.mapValue.fields||{})),n.set(A,i),n=i):(i=new Map,n.set(A,i),n=i)}n.set(t.lastSegment(),e)},t.prototype.v=function(){var t=this.P(ZA.emptyPath(),this.A);return null!=t?new lo(t):this.I},t.prototype.P=function(t,e){var n=this,r=!1,A=this.I.field(t),i=mi(A)?Object.assign({},A.mapValue.fields):{};return e.forEach((function(e,A){if(e instanceof Map){var o=n.P(t.child(A),e);null!=o&&(i[A]=o,r=!0)}else null!==e?(i[A]=e,r=!0):i.hasOwnProperty(A)&&(delete i[A],r=!0)})),r?{mapValue:{fields:i}}:null},t}();function fo(t){var e=[];return kA(t.fields||{},(function(t,n){var r=new ZA([t]);if(mi(n)){var A=fo(n.mapValue).fields;if(0===A.length)e.push(r);else for(var i=0,o=A;i<o.length;i++){var s=o[i];e.push(r.child(s))}}else e.push(r)})),new co(e)}function po(t,e){if(t.V){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:GA(e)?"-0":e}}function go(t){return{integerValue:""+t}}function Bo(t,e){return XA(e)?go(e):po(t,e)}var wo=function(){this._=void 0};function yo(t,e,n){return t instanceof Eo?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Qo?Co(t,e):t instanceof Uo?bo(t,e):function(t,e){var n=mo(t,e),r=Io(n)+Io(t.S);return Bi(n)&&Bi(t.S)?go(r):po(t.D,r)}(t,e)}function vo(t,e,n){return t instanceof Qo?Co(t,e):t instanceof Uo?bo(t,e):n}function mo(t,e){return t instanceof Fo?Bi(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Eo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return EA(e,t),e}(wo),Qo=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return EA(e,t),e}(wo);function Co(t,e){for(var n=No(e),r=function(t){n.some((function(e){return ci(e,t)}))||n.push(t)},A=0,i=t.elements;A<i.length;A++)r(i[A]);return{arrayValue:{values:n}}}var Uo=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return EA(e,t),e}(wo);function bo(t,e){for(var n=No(e),r=function(t){n=n.filter((function(e){return!ci(e,t)}))},A=0,i=t.elements;A<i.length;A++)r(i[A]);return{arrayValue:{values:n}}}var Fo=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).D=e,r.S=n,r}return EA(e,t),e}(wo);function Io(t){return ri(t.integerValue||t.doubleValue)}function No(t){return wi(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var To=function(t,e){this.field=t,this.transform=e},Ho=function(t,e){this.version=t,this.transformResults=e},_o=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function So(t,e){return void 0!==t.updateTime?e instanceof Qi&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Qi}var Do=function(){};function Ro(t,e,n){return t instanceof xo?function(t,e,n){var r=t.value,A=Vo(t.fieldTransforms,e,n.transformResults);return r=Go(t.fieldTransforms,r,A),new Qi(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Po?function(t,e,n){if(!So(t.precondition,e))return new Ui(t.key,n.version);var r=ko(t,e,Vo(t.fieldTransforms,e,n.transformResults));return new Qi(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Ci(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Ko(t,e,n){return t instanceof xo?function(t,e,n){if(!So(t.precondition,e))return e;var r=t.value,A=zo(t.fieldTransforms,n,e);r=Go(t.fieldTransforms,r,A);var i=Mo(e);return new Qi(t.key,i,r,{hasLocalMutations:!0})}(t,e,n):t instanceof Po?function(t,e,n){if(!So(t.precondition,e))return e;var r=Mo(e),A=ko(t,e,zo(t.fieldTransforms,n,e));return new Qi(t.key,r,A,{hasLocalMutations:!0})}(t,e,n):function(t,e){return So(t.precondition,e)?new Ci(t.key,uo.min()):e}(t,e)}function Oo(t,e){return function(t,e){for(var n=null,r=0,A=t;r<A.length;r++){var i=A[r],o=e instanceof Qi?e.field(i.field):void 0,s=mo(i.transform,o||null);null!=s&&(n=null==n?(new ho).set(i.field,s):n.set(i.field,s))}return n?n.v():null}(t.fieldTransforms,e)}function Lo(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&MA(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Qo&&e instanceof Qo||t instanceof Uo&&e instanceof Uo?MA(t.elements,e.elements,ci):t instanceof Fo&&e instanceof Fo?ci(t.S,e.S):t instanceof Eo&&e instanceof Eo}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Mo(t){return t instanceof Qi?t.version:uo.min()}var xo=function(t){function e(e,n,r,A){void 0===A&&(A=[]);var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.precondition=r,i.fieldTransforms=A,i.type=0,i}return EA(e,t),e}(Do),Po=function(t){function e(e,n,r,A,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.fieldMask=r,o.precondition=A,o.fieldTransforms=i,o.type=1,o}return EA(e,t),e}(Do);function ko(t,e,n){var r;return r=function(t,e){var n=new ho(e);return t.fieldMask.fields.forEach((function(e){if(!e.isEmpty()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.v()}(t,r=e instanceof Qi?e.data():lo.empty()),Go(t.fieldTransforms,r,n)}function Vo(t,e,n){var r=[];DA(t.length===n.length);for(var A=0;A<n.length;A++){var i=t[A],o=i.transform,s=null;e instanceof Qi&&(s=e.field(i.field)),r.push(vo(o,s,n[A]))}return r}function zo(t,e,n){for(var r=[],A=0,i=t;A<i.length;A++){var o=i[A],s=o.transform,a=null;n instanceof Qi&&(a=n.field(o.field)),r.push(yo(s,a,e))}return r}function Go(t,e,n){for(var r=new ho(e),A=0;A<t.length;A++){var i=t[A];r.set(i.field,n[A])}return r.v()}var Xo,qo,Jo=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return EA(e,t),e}(Do),jo=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return EA(e,t),e}(Do),Wo=function(t){this.count=t};function Yo(t){switch(t){case qA.OK:return SA();case qA.CANCELLED:case qA.UNKNOWN:case qA.DEADLINE_EXCEEDED:case qA.RESOURCE_EXHAUSTED:case qA.INTERNAL:case qA.UNAVAILABLE:case qA.UNAUTHENTICATED:return!1;case qA.INVALID_ARGUMENT:case qA.NOT_FOUND:case qA.ALREADY_EXISTS:case qA.PERMISSION_DENIED:case qA.FAILED_PRECONDITION:case qA.ABORTED:case qA.OUT_OF_RANGE:case qA.UNIMPLEMENTED:case qA.DATA_LOSS:return!0;default:return SA()}}function Zo(t){if(void 0===t)return TA("GRPC error has no .code"),qA.UNKNOWN;switch(t){case Xo.OK:return qA.OK;case Xo.CANCELLED:return qA.CANCELLED;case Xo.UNKNOWN:return qA.UNKNOWN;case Xo.DEADLINE_EXCEEDED:return qA.DEADLINE_EXCEEDED;case Xo.RESOURCE_EXHAUSTED:return qA.RESOURCE_EXHAUSTED;case Xo.INTERNAL:return qA.INTERNAL;case Xo.UNAVAILABLE:return qA.UNAVAILABLE;case Xo.UNAUTHENTICATED:return qA.UNAUTHENTICATED;case Xo.INVALID_ARGUMENT:return qA.INVALID_ARGUMENT;case Xo.NOT_FOUND:return qA.NOT_FOUND;case Xo.ALREADY_EXISTS:return qA.ALREADY_EXISTS;case Xo.PERMISSION_DENIED:return qA.PERMISSION_DENIED;case Xo.FAILED_PRECONDITION:return qA.FAILED_PRECONDITION;case Xo.ABORTED:return qA.ABORTED;case Xo.OUT_OF_RANGE:return qA.OUT_OF_RANGE;case Xo.UNIMPLEMENTED:return qA.UNIMPLEMENTED;case Xo.DATA_LOSS:return qA.DATA_LOSS;default:return SA()}}(qo=Xo||(Xo={}))[qo.OK=0]="OK",qo[qo.CANCELLED=1]="CANCELLED",qo[qo.UNKNOWN=2]="UNKNOWN",qo[qo.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qo[qo.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qo[qo.NOT_FOUND=5]="NOT_FOUND",qo[qo.ALREADY_EXISTS=6]="ALREADY_EXISTS",qo[qo.PERMISSION_DENIED=7]="PERMISSION_DENIED",qo[qo.UNAUTHENTICATED=16]="UNAUTHENTICATED",qo[qo.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qo[qo.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qo[qo.ABORTED=10]="ABORTED",qo[qo.OUT_OF_RANGE=11]="OUT_OF_RANGE",qo[qo.UNIMPLEMENTED=12]="UNIMPLEMENTED",qo[qo.INTERNAL=13]="INTERNAL",qo[qo.UNAVAILABLE=14]="UNAVAILABLE",qo[qo.DATA_LOSS=15]="DATA_LOSS";var $o=function(){function t(t,e){this.comparator=t,this.root=e||es.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,es.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,es.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new ts(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new ts(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new ts(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new ts(this.root,t,this.comparator,!0)},t}(),ts=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var A=1;!t.isEmpty();)if(A=e?n(t.key,e):1,r&&(A*=-1),A<0)t=this.isReverse?t.left:t.right;else{if(0===A){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),es=function(){function t(e,n,r,A,i){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=A?A:t.EMPTY,this.right=null!=i?i:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,A,i){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=A?A:this.left,null!=i?i:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,A=n(t,r.key);return(r=A<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===A?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,A=this;if(n(e,A.key)<0)A.left.isEmpty()||A.left.isRed()||A.left.left.isRed()||(A=A.moveRedLeft()),A=A.copy(null,null,null,A.left.remove(e,n),null);else{if(A.left.isRed()&&(A=A.rotateRight()),A.right.isEmpty()||A.right.isRed()||A.right.left.isRed()||(A=A.moveRedRight()),0===n(e,A.key)){if(A.right.isEmpty())return t.EMPTY;r=A.right.min(),A=A.copy(r.key,r.value,null,null,A.right.removeMin())}A=A.copy(null,null,null,null,A.right.remove(e,n))}return A.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw SA();if(this.right.isRed())throw SA();var t=this.left.check();if(t!==this.right.check())throw SA();return t+(this.isRed()?0:1)},t}();es.EMPTY=null,es.RED=!0,es.BLACK=!1,es.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw SA()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw SA()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw SA()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw SA()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw SA()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,A){return this},t.prototype.insert=function(t,e,n){return new es(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var ns=function(){function t(t){this.comparator=t,this.data=new $o(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new rs(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new rs(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var A=n.getNext().key,i=r.getNext().key;if(0!==this.comparator(A,i))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),rs=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),As=new $o($A.comparator);function is(){return As}function os(){return is()}var ss=new $o($A.comparator);function as(){return ss}var us=new $o($A.comparator);function cs(){return us}var ls=new ns($A.comparator);function hs(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=ls,r=0,A=t;r<A.length;r++){var i=A[r];n=n.add(i)}return n}var fs=new ns(LA);function ds(){return fs}var ps=function(){function t(t,e,n,r,A){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=A}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,gs.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(uo.min(),r,ds(),is(),hs())},t}(),gs=function(){function t(t,e,n,r,A){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=A}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(ti.EMPTY_BYTE_STRING,n,hs(),hs(),hs())},t}(),Bs=function(t,e,n,r){this.C=t,this.removedTargetIds=e,this.key=n,this.N=r},ws=function(t,e){this.targetId=t,this.$=e},ys=function(t,e,n,r){void 0===n&&(n=ti.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},vs=function(){function t(){this.F=0,this.O=Qs(),this.k=ti.EMPTY_BYTE_STRING,this.M=!1,this.L=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.M},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.k},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"B",{get:function(){return 0!==this.F},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"q",{get:function(){return this.L},enumerable:!1,configurable:!0}),t.prototype.U=function(t){t.approximateByteSize()>0&&(this.L=!0,this.k=t)},t.prototype.K=function(){var t=hs(),e=hs(),n=hs();return this.O.forEach((function(r,A){switch(A){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:SA()}})),new gs(this.k,this.M,t,e,n)},t.prototype.W=function(){this.L=!1,this.O=Qs()},t.prototype.j=function(t,e){this.L=!0,this.O=this.O.insert(t,e)},t.prototype.G=function(t){this.L=!0,this.O=this.O.remove(t)},t.prototype.H=function(){this.F+=1},t.prototype.J=function(){this.F-=1},t.prototype.Y=function(){this.L=!0,this.M=!0},t}(),ms=function(){function t(t){this.X=t,this.Z=new Map,this.tt=is(),this.et=Es(),this.nt=new ns(LA)}return t.prototype.st=function(t){for(var e=0,n=t.C;e<n.length;e++){var r=n[e];t.N instanceof Qi?this.it(r,t.N):t.N instanceof Ci&&this.rt(r,t.key,t.N)}for(var A=0,i=t.removedTargetIds;A<i.length;A++)r=i[A],this.rt(r,t.key,t.N)},t.prototype.ot=function(t){var e=this;this.forEachTarget(t,(function(n){var r=e.ct(n);switch(t.state){case 0:e.at(n)&&r.U(t.resumeToken);break;case 1:r.J(),r.B||r.W(),r.U(t.resumeToken);break;case 2:r.J(),r.B||e.removeTarget(n);break;case 3:e.at(n)&&(r.Y(),r.U(t.resumeToken));break;case 4:e.at(n)&&(e.ut(n),r.U(t.resumeToken));break;default:SA()}}))},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Z.forEach((function(t,r){n.at(r)&&e(r)}))},t.prototype.ht=function(t){var e=t.targetId,n=t.$.count,r=this.lt(e);if(r){var A=r.target;if(Ti(A))if(0===n){var i=new $A(A.path);this.rt(e,i,new Ci(i,uo.min()))}else DA(1===n);else this.ft(e)!==n&&(this.ut(e),this.nt=this.nt.add(e))}},t.prototype.dt=function(t){var e=this,n=new Map;this.Z.forEach((function(r,A){var i=e.lt(A);if(i){if(r.current&&Ti(i.target)){var o=new $A(i.target.path);null!==e.tt.get(o)||e.wt(A,o)||e.rt(A,o,new Ci(o,t))}r.q&&(n.set(A,r.K()),r.W())}}));var r=hs();this.et.forEach((function(t,n){var A=!0;n.forEachWhile((function(t){var n=e.lt(t);return!n||2===n.purpose||(A=!1,!1)})),A&&(r=r.add(t))}));var A=new ps(t,n,this.nt,this.tt,r);return this.tt=is(),this.et=Es(),this.nt=new ns(LA),A},t.prototype.it=function(t,e){if(this.at(t)){var n=this.wt(t,e.key)?2:0;this.ct(t).j(e.key,n),this.tt=this.tt.insert(e.key,e),this.et=this.et.insert(e.key,this._t(e.key).add(t))}},t.prototype.rt=function(t,e,n){if(this.at(t)){var r=this.ct(t);this.wt(t,e)?r.j(e,1):r.G(e),this.et=this.et.insert(e,this._t(e).delete(t)),n&&(this.tt=this.tt.insert(e,n))}},t.prototype.removeTarget=function(t){this.Z.delete(t)},t.prototype.ft=function(t){var e=this.ct(t).K();return this.X.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.H=function(t){this.ct(t).H()},t.prototype.ct=function(t){var e=this.Z.get(t);return e||(e=new vs,this.Z.set(t,e)),e},t.prototype._t=function(t){var e=this.et.get(t);return e||(e=new ns(LA),this.et=this.et.insert(t,e)),e},t.prototype.at=function(t){var e=null!==this.lt(t);return e||NA("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.lt=function(t){var e=this.Z.get(t);return e&&e.B?null:this.X.yt(t)},t.prototype.ut=function(t){var e=this;this.Z.set(t,new vs),this.X.getRemoteKeysForTarget(t).forEach((function(n){e.rt(t,n,null)}))},t.prototype.wt=function(t,e){return this.X.getRemoteKeysForTarget(t).has(e)},t}();function Es(){return new $o($A.comparator)}function Qs(){return new $o($A.comparator)}var Cs={asc:"ASCENDING",desc:"DESCENDING"},Us={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bs=function(t,e){this.databaseId=t,this.V=e};function Fs(t,e){return t.V?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Is(t,e){return t.V?e.toBase64():e.toUint8Array()}function Ns(t,e){return Fs(t,e.toTimestamp())}function Ts(t){return DA(!!t),uo.fromTimestamp(function(t){var e=ni(t);return new ii(e.seconds,e.nanos)}(t))}function Hs(t,e){return function(t){return new WA(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function _s(t){var e=WA.fromString(t);return DA(na(e)),e}function Ss(t,e){return Hs(t.databaseId,e.path)}function Ds(t,e){var n=_s(e);if(n.get(1)!==t.databaseId.projectId)throw new JA(qA.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new JA(qA.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new $A(Ls(n))}function Rs(t,e){return Hs(t.databaseId,e)}function Ks(t){var e=_s(t);return 4===e.length?WA.emptyPath():Ls(e)}function Os(t){return new WA(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ls(t){return DA(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Ms(t,e,n){return{name:Ss(t,e),fields:n.proto.mapValue.fields}}function xs(t,e,n){var r=Ds(t,e.name),A=Ts(e.updateTime),i=new lo({mapValue:{fields:e.fields}});return new Qi(r,A,i,{hasCommittedMutations:!!n})}function Ps(t,e){var n;if(e instanceof xo)n={update:Ms(t,e.key,e.value)};else if(e instanceof Jo)n={delete:Ss(t,e.key)};else if(e instanceof Po)n={update:Ms(t,e.key,e.data),updateMask:ea(e.fieldMask)};else{if(!(e instanceof jo))return SA();n={verify:Ss(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Eo)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Qo)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Uo)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Fo)return{fieldPath:e.field.canonicalString(),increment:n.S};throw SA()}(0,t)}))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Ns(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:SA()}(t,e.precondition)),n}function ks(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?_o.updateTime(Ts(t.updateTime)):void 0!==t.exists?_o.exists(t.exists):_o.none()}(e.currentDocument):_o.none(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)DA("REQUEST_TIME"===e.setToServerValue),n=new Eo;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new Qo(r)}else if("removeAllFromArray"in e){var A=e.removeAllFromArray.values||[];n=new Uo(A)}else"increment"in e?n=new Fo(t,e.increment):SA();var i=ZA.fromServerFormat(e.fieldPath);return new To(i,n)}(t,e)})):[];if(e.update){e.update.name;var A=Ds(t,e.update.name),i=new lo({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){var e=t.fieldPaths||[];return new co(e.map((function(t){return ZA.fromServerFormat(t)})))}(e.updateMask);return new Po(A,i,o,n,r)}return new xo(A,i,n,r)}if(e.delete){var s=Ds(t,e.delete);return new Jo(s,n)}if(e.verify){var a=Ds(t,e.verify);return new jo(a,n)}return SA()}function Vs(t,e){return{documents:[Rs(t,e.path)]}}function zs(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Rs(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Rs(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var A=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(vi(t.value))return{unaryFilter:{field:Ys(t.field),op:"IS_NAN"}};if(yi(t.value))return{unaryFilter:{field:Ys(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(vi(t.value))return{unaryFilter:{field:Ys(t.field),op:"IS_NOT_NAN"}};if(yi(t.value))return{unaryFilter:{field:Ys(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ys(t.field),op:Ws(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);A&&(n.structuredQuery.where=A);var i=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:Ys(t.field),direction:js(t.dir)}}(t)}))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);var o=function(t,e){return t.V||zA(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=qs(e.startAt)),e.endAt&&(n.structuredQuery.endAt=qs(e.endAt)),n}function Gs(t){var e=Ks(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,A=null;if(r>0){DA(1===r);var i=n.from[0];i.allDescendants?A=i.collectionId:e=e.child(i.collectionId)}var o=[];n.where&&(o=Xs(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(t){return function(t){return new ki(Zs(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var a=null;n.limit&&(a=function(t){var e;return zA(e="object"==typeof t?t.value:t)?null:e}(n.limit));var u=null;n.startAt&&(u=Js(n.startAt));var c=null;return n.endAt&&(c=Js(n.endAt)),qi(e,A,s,o,a,"F",u,c)}function Xs(t){return t?void 0!==t.unaryFilter?[ta(t)]:void 0!==t.fieldFilter?[$s(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return Xs(t)})).reduce((function(t,e){return t.concat(e)})):SA():[]}function qs(t){return{before:t.before,values:t.position}}function Js(t){var e=!!t.before,n=t.values||[];return new xi(n,e)}function js(t){return Cs[t]}function Ws(t){return Us[t]}function Ys(t){return{fieldPath:t.canonicalString()}}function Zs(t){return ZA.fromServerFormat(t.fieldPath)}function $s(t){return Hi.create(Zs(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return SA()}}(t.fieldFilter.op),t.fieldFilter.value)}function ta(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Zs(t.unaryFilter.field);return Hi.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Zs(t.unaryFilter.field);return Hi.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Zs(t.unaryFilter.field);return Hi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var A=Zs(t.unaryFilter.field);return Hi.create(A,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return SA()}}function ea(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}}function na(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function ra(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=ia(e)),e=Aa(t.get(n),e);return ia(e)}function Aa(t,e){for(var n=e,r=t.length,A=0;A<r;A++){var i=t.charAt(A);switch(i){case"\0":n+="";break;case"":n+="";break;default:n+=i}}return n}function ia(t){return t+""}function oa(t){var e=t.length;if(DA(e>=2),2===e)return DA(""===t.charAt(0)&&""===t.charAt(1)),WA.emptyPath();for(var n=e-2,r=[],A="",i=0;i<e;){var o=t.indexOf("",i);switch((o<0||o>n)&&SA(),t.charAt(o+1)){case"":var s=t.substring(i,o),a=void 0;0===A.length?a=s:(a=A+=s,A=""),r.push(a);break;case"":A+=t.substring(i,o),A+="\0";break;case"":A+=t.substring(i,o+1);break;default:SA()}i=o+2}return new WA(r)}var sa=function(t,e){this.seconds=t,this.nanoseconds=e},aa=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};aa.store="owner",aa.key="owner";var ua=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};ua.store="mutationQueues",ua.keyPath="userId";var ca=function(t,e,n,r,A){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=A};ca.store="mutations",ca.keyPath="batchId",ca.userMutationsIndex="userMutationsIndex",ca.userMutationsKeyPath=["userId","batchId"];var la=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,ra(e)]},t.key=function(t,e,n){return[t,ra(e),n]},t}();la.store="documentMutations",la.PLACEHOLDER=new la;var ha=function(t,e){this.path=t,this.readTime=e},fa=function(t,e){this.path=t,this.version=e},da=function(t,e,n,r,A,i){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=A,this.parentPath=i};da.store="remoteDocuments",da.readTimeIndex="readTimeIndex",da.readTimeIndexPath="readTime",da.collectionReadTimeIndex="collectionReadTimeIndex",da.collectionReadTimeIndexPath=["parentPath","readTime"];var pa=function(t){this.byteSize=t};pa.store="remoteDocumentGlobal",pa.key="remoteDocumentGlobalKey";var ga=function(t,e,n,r,A,i,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=A,this.lastLimboFreeSnapshotVersion=i,this.query=o};ga.store="targets",ga.keyPath="targetId",ga.queryTargetsIndexName="queryTargetsIndex",ga.queryTargetsKeyPath=["canonicalId","targetId"];var Ba=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Ba.store="targetDocuments",Ba.keyPath=["targetId","path"],Ba.documentTargetsIndex="documentTargetsIndex",Ba.documentTargetsKeyPath=["path","targetId"];var wa=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};wa.key="targetGlobalKey",wa.store="targetGlobal";var ya=function(t,e){this.collectionId=t,this.parent=e};ya.store="collectionParents",ya.keyPath=["collectionId","parent"];var va=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};va.store="clientMetadata",va.keyPath="clientId";var ma=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};ma.store="bundles",ma.keyPath="bundleId";var Ea=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Ea.store="namedQueries",Ea.keyPath="name";var Qa=UA(UA([],UA(UA([],UA(UA([],UA(UA([],[ua.store,ca.store,la.store,da.store,ga.store,aa.store,wa.store,Ba.store]),[va.store])),[pa.store])),[ya.store])),[ma.store,Ea.store]),Ca="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ua=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},t}(),ba=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Fa=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&SA(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,A){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,A)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,A)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var r=0,A=0,i=!1;e.forEach((function(e){++r,e.next((function(){++A,i&&A===r&&t()}),(function(t){return n(t)}))})),i=!0,A===r&&t()}))},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},A=0,i=e;A<i.length;A++)r(i[A]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,A){r.push(e.call(n,t,A))})),this.waitFor(r)},t}(),Ia=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.gt=new ba,this.transaction.oncomplete=function(){n.gt.resolve()},this.transaction.onabort=function(){e.error?n.gt.reject(new Ha(t,e.error)):n.gt.resolve()},this.transaction.onerror=function(e){var r=Ka(e.target.error);n.gt.reject(new Ha(t,r))}}return t.open=function(e,n,r,A){try{return new t(n,e.transaction(A,r))}catch(e){throw new Ha(n,e)}},Object.defineProperty(t.prototype,"Et",{get:function(){return this.gt.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.gt.reject(t),this.aborted||(NA("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Sa(e)},t}(),Na=function(){function t(e,n,r){this.name=e,this.version=n,this.Tt=r,12.2===t.It(b())&&TA("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return NA("SimpleDb","Removing database:",t),Da(window.indexedDB.deleteDatabase(t)).toPromise()},t.At=function(){if("undefined"==typeof indexedDB)return!1;if(t.Rt())return!0;var e=b(),n=t.It(e),r=0<n&&n<10,A=t.bt(e),i=0<A&&A<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)},t.Rt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.vt)},t.Pt=function(t,e){return t.store(e)},t.It=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.bt=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Vt=function(t){return QA(this,void 0,void 0,(function(){var e,n=this;return CA(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(NA("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var A=indexedDB.open(n.name,n.version);A.onsuccess=function(t){var n=t.target.result;e(n)},A.onblocked=function(){r(new Ha(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},A.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new JA(qA.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new Ha(t,n))},A.onupgradeneeded=function(t){NA("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.Tt.St(e,A.transaction,t.oldVersion,n.version).next((function(){NA("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Dt&&(this.db.onversionchange=function(t){return n.Dt(t)}),this.db)]}}))}))},t.prototype.Ct=function(t){this.Dt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return QA(this,void 0,void 0,(function(){var A,i,o,s,a;return CA(this,(function(u){switch(u.label){case 0:A="readonly"===e,i=0,o=function(){var e,o,a,u,c;return CA(this,(function(l){switch(l.label){case 0:++i,l.label=1;case 1:return l.trys.push([1,4,,5]),[4,s.Vt(t)];case 2:return s.db=l.sent(),e=Ia.open(s.db,t,A?"readonly":"readwrite",n),o=r(e).catch((function(t){return e.abort(t),Fa.reject(t)})).toPromise(),a={},o.catch((function(){})),[4,e.Et];case 3:return[2,(a.value=(l.sent(),o),a)];case 4:return u=l.sent(),c="FirebaseError"!==u.name&&i<3,NA("SimpleDb","Transaction failed with error:",u.message,"Retrying:",c),s.close(),c?[3,5]:[2,{value:Promise.reject(u)}];case 5:return[2]}}))},s=this,u.label=1;case 1:return[5,o()];case 2:if("object"==typeof(a=u.sent()))return[2,a.value];u.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Ta=function(){function t(t){this.xt=t,this.Nt=!1,this.$t=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Nt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ft",{get:function(){return this.$t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.xt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Nt=!0},t.prototype.Ot=function(t){this.$t=t},t.prototype.delete=function(){return Da(this.xt.delete())},t}(),Ha=function(t){function e(e,n){var r=this;return(r=t.call(this,qA.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return EA(e,t),e}(JA);function _a(t){return"IndexedDbTransactionError"===t.name}var Sa=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(NA("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(NA("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Da(n)},t.prototype.add=function(t){return NA("SimpleDb","ADD",this.store.name,t,t),Da(this.store.add(t))},t.prototype.get=function(t){var e=this;return Da(this.store.get(t)).next((function(n){return void 0===n&&(n=null),NA("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return NA("SimpleDb","DELETE",this.store.name,t),Da(this.store.delete(t))},t.prototype.count=function(){return NA("SimpleDb","COUNT",this.store.name),Da(this.store.count())},t.prototype.kt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.Mt(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.Lt=function(t,e){NA("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Bt=!1;var r=this.cursor(n);return this.Mt(r,(function(t,e,n){return n.delete()}))},t.prototype.qt=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.Mt(r,e)},t.prototype.Ut=function(t){var e=this.cursor({});return new Fa((function(n,r){e.onerror=function(t){var e=Ka(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.Mt=function(t,e){var n=[];return new Fa((function(r,A){t.onerror=function(t){A(t.target.error)},t.onsuccess=function(t){var A=t.target.result;if(A){var i=new Ta(A),o=e(A.primaryKey,A.value,i);if(o instanceof Fa){var s=o.catch((function(t){return i.done(),Fa.reject(t)}));n.push(s)}i.isDone?r():null===i.Ft?A.continue():A.continue(i.Ft)}else r()}})).next((function(){return Fa.waitFor(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Bt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Da(t){return new Fa((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=Ka(t.target.error);n(e)}}))}var Ra=!1;function Ka(t){var e=Na.It(b());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new JA("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Ra||(Ra=!0,setTimeout((function(){throw r}),0)),r}}return t}var Oa=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qt=e,r.currentSequenceNumber=n,r}return EA(e,t),e}(Ua);function La(t,e){var n=RA(t);return Na.Pt(n.Qt,e)}var Ma=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e,n){for(var r=n.mutationResults,A=0;A<this.mutations.length;A++){var i=this.mutations[A];i.key.isEqual(t)&&(e=Ro(i,e,r[A]))}return e},t.prototype.applyToLocalView=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(o=r[n]).key.isEqual(t)&&(e=Ko(o,e,this.localWriteTime));for(var A=0,i=this.mutations;A<i.length;A++){var o;(o=i[A]).key.isEqual(t)&&(e=Ko(o,e,this.localWriteTime))}return e},t.prototype.applyToLocalDocumentSet=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var A=e.applyToLocalView(r.key,t.get(r.key));A&&(n=n.insert(r.key,A))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),hs())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&MA(this.mutations,t.mutations,(function(t,e){return Lo(t,e)}))&&MA(this.baseMutations,t.baseMutations,(function(t,e){return Lo(t,e)}))},t}(),xa=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){DA(e.mutations.length===r.length);for(var A=cs(),i=e.mutations,o=0;o<i.length;o++)A=A.insert(i[o].key,r[o].version);return new t(e,n,r,A)},t}(),Pa=function(){function t(t,e,n,r,A,i,o){void 0===A&&(A=uo.min()),void 0===i&&(i=uo.min()),void 0===o&&(o=ti.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=A,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=o}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),ka=function(t){this.Kt=t};function Va(t,e){if(e.document)return xs(t.Kt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=$A.fromSegments(e.noDocument.path),r=Ja(e.noDocument.readTime);return new Ci(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var A=$A.fromSegments(e.unknownDocument.path);return r=Ja(e.unknownDocument.version),new Ui(A,r)}return SA()}function za(t,e,n){var r=Ga(n),A=e.key.path.popLast().toArray();if(e instanceof Qi){var i=function(t,e){return{name:Ss(t,e.key),fields:e.toProto().mapValue.fields,updateTime:Fs(t,e.version.toTimestamp())}}(t.Kt,e),o=e.hasCommittedMutations;return new da(null,null,i,o,r,A)}if(e instanceof Ci){var s=e.key.path.toArray(),a=qa(e.version);return o=e.hasCommittedMutations,new da(null,new ha(s,a),null,o,r,A)}if(e instanceof Ui){var u=e.key.path.toArray(),c=qa(e.version);return new da(new fa(u,c),null,null,!0,r,A)}return SA()}function Ga(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Xa(t){var e=new ii(t[0],t[1]);return uo.fromTimestamp(e)}function qa(t){var e=t.toTimestamp();return new sa(e.seconds,e.nanoseconds)}function Ja(t){var e=new ii(t.seconds,t.nanoseconds);return uo.fromTimestamp(e)}function ja(t,e){for(var n=(e.baseMutations||[]).map((function(e){return ks(t.Kt,e)})),r=0;r<e.mutations.length-1;++r){var A=e.mutations[r];if(r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform){var i=e.mutations[r+1];A.updateTransforms=i.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var o=e.mutations.map((function(e){return ks(t.Kt,e)})),s=ii.fromMillis(e.localWriteTimeMs);return new Ma(e.batchId,s,n,o)}function Wa(t){var e,n,r=Ja(t.readTime),A=void 0!==t.lastLimboFreeSnapshotVersion?Ja(t.lastLimboFreeSnapshotVersion):uo.min();return void 0!==t.query.documents?(DA(1===(n=t.query).documents.length),e=eo(Ji(Ks(n.documents[0])))):e=function(t){return eo(Gs(t))}(t.query),new Pa(e,t.targetId,0,t.lastListenSequenceNumber,r,A,ti.fromBase64String(t.resumeToken))}function Ya(t,e){var n,r=qa(e.snapshotVersion),A=qa(e.lastLimboFreeSnapshotVersion);n=Ti(e.target)?Vs(t.Kt,e.target):zs(t.Kt,e.target);var i=e.resumeToken.toBase64();return new ga(e.targetId,Ii(e.target),r,i,e.sequenceNumber,A,n)}function Za(t){var e=Gs({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?no(e,e.limit,"L"):e}var $a=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return tu(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Ja(e.createTime),version:e.version};var e}))},t.prototype.saveBundleMetadata=function(t,e){return tu(t).put({bundleId:(n=e).id,createTime:qa(Ts(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return eu(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:Za(e.bundledQuery),readTime:Ja(e.readTime)};var e}))},t.prototype.saveNamedQuery=function(t,e){return eu(t).put(function(t){return{name:t.name,readTime:qa(Ts(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function tu(t){return La(t,ma.store)}function eu(t){return La(t,Ea.store)}var nu=function(){function t(){this.Wt=new ru}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Wt.add(e),Fa.resolve()},t.prototype.getCollectionParents=function(t,e){return Fa.resolve(this.Wt.getEntries(e))},t}(),ru=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new ns(WA.comparator),A=!r.has(n);return this.index[e]=r.add(n),A},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new ns(WA.comparator)).toArray()},t}(),Au=function(){function t(){this.jt=new ru}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.jt.has(e)){var r=e.lastSegment(),A=e.popLast();t.addOnCommittedListener((function(){n.jt.add(e)}));var i={collectionId:r,parent:ra(A)};return iu(t).put(i)}return Fa.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[xA(e),""],!1,!0);return iu(t).kt(r).next((function(t){for(var r=0,A=t;r<A.length;r++){var i=A[r];if(i.collectionId!==e)break;n.push(oa(i.parent))}return n}))},t}();function iu(t){return La(t,ya.store)}var ou={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},su=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function au(t,e,n){var r=t.store(ca.store),A=t.store(la.store),i=[],o=IDBKeyRange.only(n.batchId),s=0,a=r.qt({range:o},(function(t,e,n){return s++,n.delete()}));i.push(a.next((function(){DA(1===s)})));for(var u=[],c=0,l=n.mutations;c<l.length;c++){var h=l[c],f=la.key(e,h.key.path,n.batchId);i.push(A.delete(f)),u.push(h.key)}return Fa.waitFor(i).next((function(){return u}))}function uu(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw SA();e=t.noDocument}return JSON.stringify(e).length}su.DEFAULT_COLLECTION_PERCENTILE=10,su.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,su.DEFAULT=new su(41943040,su.DEFAULT_COLLECTION_PERCENTILE,su.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),su.DISABLED=new su(-1,0,0);var cu=function(){function t(t,e,n,r){this.userId=t,this.D=e,this.Gt=n,this.referenceDelegate=r,this.zt={}}return t.Ht=function(e,n,r,A){return DA(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,A)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return hu(t).qt({index:ca.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.addMutationBatch=function(t,e,n,r){var A=this,i=fu(t),o=hu(t);return o.add({}).next((function(s){DA("number"==typeof s);for(var a=new Ma(s,e,n,r),u=function(t,e,n){var r=n.baseMutations.map((function(e){return Ps(t.Kt,e)})),A=n.mutations.map((function(e){return Ps(t.Kt,e)}));return new ca(e,n.batchId,n.localWriteTime.toMillis(),r,A)}(A.D,A.userId,a),c=[],l=new ns((function(t,e){return LA(t.canonicalString(),e.canonicalString())})),h=0,f=r;h<f.length;h++){var d=f[h],p=la.key(A.userId,d.key.path,s);l=l.add(d.key.path.popLast()),c.push(o.put(u)),c.push(i.put(p,la.PLACEHOLDER))}return l.forEach((function(e){c.push(A.Gt.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((function(){A.zt[s]=a.keys()})),Fa.waitFor(c).next((function(){return a}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return hu(t).get(e).next((function(t){return t?(DA(t.userId===n.userId),ja(n.D,t)):null}))},t.prototype.Jt=function(t,e){var n=this;return this.zt[e]?Fa.resolve(this.zt[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var r=t.keys();return n.zt[e]=r,r}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,A=IDBKeyRange.lowerBound([this.userId,r]),i=null;return hu(t).qt({index:ca.userMutationsIndex,range:A},(function(t,e,A){e.userId===n.userId&&(DA(e.batchId>=r),i=ja(n.D,e)),A.done()})).next((function(){return i}))},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return hu(t).qt({index:ca.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return hu(t).kt(ca.userMutationsIndex,n).next((function(t){return t.map((function(t){return ja(e.D,t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=la.prefixForPath(this.userId,e.path),A=IDBKeyRange.lowerBound(r),i=[];return fu(t).qt({range:A},(function(r,A,o){var s=r[0],a=r[1],u=r[2],c=oa(a);if(s===n.userId&&e.path.isEqual(c))return hu(t).get(u).next((function(t){if(!t)throw SA();DA(t.userId===n.userId),i.push(ja(n.D,t))}));o.done()})).next((function(){return i}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new ns(LA),A=[];return e.forEach((function(e){var i=la.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(i),s=fu(t).qt({range:o},(function(t,A,i){var o=t[0],s=t[1],a=t[2],u=oa(s);o===n.userId&&e.path.isEqual(u)?r=r.add(a):i.done()}));A.push(s)})),Fa.waitFor(A).next((function(){return n.Yt(t,r)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,A=r.length+1,i=la.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(i),s=new ns(LA);return fu(t).qt({range:o},(function(t,e,i){var o=t[0],a=t[1],u=t[2],c=oa(a);o===n.userId&&r.isPrefixOf(c)?c.length===A&&(s=s.add(u)):i.done()})).next((function(){return n.Yt(t,s)}))},t.prototype.Yt=function(t,e){var n=this,r=[],A=[];return e.forEach((function(e){A.push(hu(t).get(e).next((function(t){if(null===t)throw SA();DA(t.userId===n.userId),r.push(ja(n.D,t))})))})),Fa.waitFor(A).next((function(){return r}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return au(t.Qt,this.userId,e).next((function(r){return t.addOnCommittedListener((function(){n.Xt(e.batchId)})),Fa.forEach(r,(function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)}))}))},t.prototype.Xt=function(t){delete this.zt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return Fa.resolve();var r=IDBKeyRange.lowerBound(la.prefixForUser(e.userId)),A=[];return fu(t).qt({range:r},(function(t,n,r){if(t[0]===e.userId){var i=oa(t[1]);A.push(i)}else r.done()})).next((function(){DA(0===A.length)}))}))},t.prototype.containsKey=function(t,e){return lu(t,this.userId,e)},t.prototype.Zt=function(t){var e=this;return du(t).get(this.userId).next((function(t){return t||new ua(e.userId,-1,"")}))},t}();function lu(t,e,n){var r=la.prefixForPath(e,n.path),A=r[1],i=IDBKeyRange.lowerBound(r),o=!1;return fu(t).qt({range:i,Bt:!0},(function(t,n,r){var i=t[0],s=t[1];t[2],i===e&&s===A&&(o=!0),r.done()})).next((function(){return o}))}function hu(t){return La(t,ca.store)}function fu(t){return La(t,la.store)}function du(t){return La(t,ua.store)}var pu=function(){function t(t){this.te=t}return t.prototype.next=function(){return this.te+=2,this.te},t.ee=function(){return new t(0)},t.ne=function(){return new t(-1)},t}(),gu=function(){function t(t,e){this.referenceDelegate=t,this.D=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.se(t).next((function(n){var r=new pu(n.highestTargetId);return n.highestTargetId=r.next(),e.ie(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.se(t).next((function(t){return uo.fromTimestamp(new ii(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return this.se(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.se(t).next((function(A){return A.highestListenSequenceNumber=e,n&&(A.lastRemoteSnapshotVersion=n.toTimestamp()),e>A.highestListenSequenceNumber&&(A.highestListenSequenceNumber=e),r.ie(t,A)}))},t.prototype.addTargetData=function(t,e){var n=this;return this.re(t,e).next((function(){return n.se(t).next((function(r){return r.targetCount+=1,n.oe(e,r),n.ie(t,r)}))}))},t.prototype.updateTargetData=function(t,e){return this.re(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return Bu(t).delete(e.targetId)})).next((function(){return n.se(t)})).next((function(e){return DA(e.targetCount>0),e.targetCount-=1,n.ie(t,e)}))},t.prototype.removeTargets=function(t,e,n){var r=this,A=0,i=[];return Bu(t).qt((function(o,s){var a=Wa(s);a.sequenceNumber<=e&&null===n.get(a.targetId)&&(A++,i.push(r.removeTargetData(t,a)))})).next((function(){return Fa.waitFor(i)})).next((function(){return A}))},t.prototype.forEachTarget=function(t,e){return Bu(t).qt((function(t,n){var r=Wa(n);e(r)}))},t.prototype.se=function(t){return wu(t).get(wa.key).next((function(t){return DA(null!==t),t}))},t.prototype.ie=function(t,e){return wu(t).put(wa.key,e)},t.prototype.re=function(t,e){return Bu(t).put(Ya(this.D,e))},t.prototype.oe=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.se(t).next((function(t){return t.targetCount}))},t.prototype.getTargetData=function(t,e){var n=Ii(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),A=null;return Bu(t).qt({range:r,index:ga.queryTargetsIndexName},(function(t,n,r){var i=Wa(n);Ni(e,i.target)&&(A=i,r.done())})).next((function(){return A}))},t.prototype.addMatchingKeys=function(t,e,n){var r=this,A=[],i=yu(t);return e.forEach((function(e){var o=ra(e.path);A.push(i.put(new Ba(n,o))),A.push(r.referenceDelegate.addReference(t,n,e))})),Fa.waitFor(A)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,A=yu(t);return Fa.forEach(e,(function(e){var i=ra(e.path);return Fa.waitFor([A.delete([n,i]),r.referenceDelegate.removeReference(t,n,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=yu(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=yu(t),A=hs();return r.qt({range:n,Bt:!0},(function(t,e,n){var r=oa(t[1]),i=new $A(r);A=A.add(i)})).next((function(){return A}))},t.prototype.containsKey=function(t,e){var n=ra(e.path),r=IDBKeyRange.bound([n],[xA(n)],!1,!0),A=0;return yu(t).qt({index:Ba.documentTargetsIndex,Bt:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(A++,n.done())})).next((function(){return A>0}))},t.prototype.yt=function(t,e){return Bu(t).get(e).next((function(t){return t?Wa(t):null}))},t}();function Bu(t){return La(t,ga.store)}function wu(t){return La(t,wa.store)}function yu(t){return La(t,Ba.store)}function vu(t){return QA(this,void 0,void 0,(function(){return CA(this,(function(e){if(t.code!==qA.FAILED_PRECONDITION||t.message!==Ca)throw t;return NA("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function mu(t,e){var n=t[0],r=t[1],A=e[0],i=e[1],o=LA(n,A);return 0===o?LA(r,i):o}var Eu=function(){function t(t){this.ce=t,this.buffer=new ns(mu),this.ae=0}return t.prototype.ue=function(){return++this.ae},t.prototype.he=function(t){var e=[t,this.ue()];if(this.buffer.size<this.ce)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();mu(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Qu=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.le=!1,this.fe=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.de(t)},t.prototype.stop=function(){this.fe&&(this.fe.cancel(),this.fe=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.fe},enumerable:!1,configurable:!0}),t.prototype.de=function(t){var e=this,n=this.le?3e5:6e4;NA("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.fe=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return QA(e,void 0,void 0,(function(){var e;return CA(this,(function(n){switch(n.label){case 0:this.fe=null,this.le=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return _a(e=n.sent())?(NA("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,vu(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.de(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),Cu=function(){function t(t,e){this.we=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.we._e(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Fa.resolve(bA.o);var r=new Eu(e);return this.we.forEachTarget(t,(function(t){return r.he(t.sequenceNumber)})).next((function(){return n.we.me(t,(function(t){return r.he(t)}))})).next((function(){return r.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.we.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.we.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(NA("LruGarbageCollector","Garbage collection skipped; disabled"),Fa.resolve(ou)):this.getCacheSize(t).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(NA("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),ou):n.ye(t,e)}))},t.prototype.getCacheSize=function(t){return this.we.getCacheSize(t)},t.prototype.ye=function(t,e){var n,r,A,i,o,s,a,u=this,c=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>u.params.maximumSequenceNumbersToCollect?(NA("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+u.params.maximumSequenceNumbersToCollect+" from "+e),r=u.params.maximumSequenceNumbersToCollect):r=e,i=Date.now(),u.nthSequenceNumber(t,r)})).next((function(r){return n=r,o=Date.now(),u.removeTargets(t,n,e)})).next((function(e){return A=e,s=Date.now(),u.removeOrphanedDocuments(t,n)})).next((function(t){return a=Date.now(),IA()<=G.DEBUG&&NA("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(i-c)+"ms\n\tDetermined least recently used "+r+" in "+(o-i)+"ms\n\tRemoved "+A+" targets in "+(s-o)+"ms\n\tRemoved "+t+" documents in "+(a-s)+"ms\nTotal Duration: "+(a-c)+"ms"),Fa.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:A,documentsRemoved:t})}))},t}(),Uu=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new Cu(t,e)}(this,e)}return t.prototype._e=function(t){var e=this.ge(t);return this.db.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.ge=function(t){var e=0;return this.me(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.me=function(t,e){return this.pe(t,(function(t,n){return e(n)}))},t.prototype.addReference=function(t,e,n){return bu(t,n)},t.prototype.removeReference=function(t,e,n){return bu(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return bu(t,e)},t.prototype.Ee=function(t,e){return function(t,e){var n=!1;return du(t).Ut((function(r){return lu(t,r,e).next((function(t){return t&&(n=!0),Fa.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),A=[],i=0;return this.pe(t,(function(o,s){if(s<=e){var a=n.Ee(t,o).next((function(e){if(!e)return i++,r.getEntry(t,o).next((function(){return r.removeEntry(o),yu(t).delete([0,ra(o.path)])}))}));A.push(a)}})).next((function(){return Fa.waitFor(A)})).next((function(){return r.apply(t)})).next((function(){return i}))},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return bu(t,e)},t.prototype.pe=function(t,e){var n,r=yu(t),A=bA.o;return r.qt({index:Ba.documentTargetsIndex},(function(t,r){var i=t[0],o=(t[1],r.path),s=r.sequenceNumber;0===i?(A!==bA.o&&e(new $A(oa(n)),A),A=s,n=o):A=bA.o})).next((function(){A!==bA.o&&e(new $A(oa(n)),A)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function bu(t,e){return yu(t).put(function(t,e){return new Ba(0,ra(t.path),e)}(e,t.currentSequenceNumber))}var Fu=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,A=n;r<A.length;r++){var i=A[r],o=i[0],s=i[1];if(this.equalsFn(o,t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var A=0;A<r.length;A++)if(this.equalsFn(r[A][0],t))return void(r[A]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){kA(this.inner,(function(e,n){for(var r=0,A=n;r<A.length;r++){var i=A[r],o=i[0],s=i[1];t(o,s)}}))},t.prototype.isEmpty=function(){return VA(this.inner)},t}(),Iu=function(){function t(){this.changes=new Fu((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:uo.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{maybeDocument:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{maybeDocument:null,readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Fa.resolve(n.maybeDocument):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),Nu=function(){function t(t,e){this.D=t,this.Gt=e}return t.prototype.addEntry=function(t,e,n){return _u(t).put(Su(e),n)},t.prototype.removeEntry=function(t,e){var n=_u(t),r=Su(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.Te(t,r)}))},t.prototype.getEntry=function(t,e){var n=this;return _u(t).get(Su(e)).next((function(t){return n.Ie(t)}))},t.prototype.Ae=function(t,e){var n=this;return _u(t).get(Su(e)).next((function(t){var e=n.Ie(t);return e?{maybeDocument:e,size:uu(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=os();return this.Re(t,e,(function(t,e){var A=n.Ie(e);r=r.insert(t,A)})).next((function(){return r}))},t.prototype.be=function(t,e){var n=this,r=os(),A=new $o($A.comparator);return this.Re(t,e,(function(t,e){var i=n.Ie(e);i?(r=r.insert(t,i),A=A.insert(t,uu(e))):(r=r.insert(t,null),A=A.insert(t,0))})).next((function(){return{ve:r,Pe:A}}))},t.prototype.Re=function(t,e,n){if(e.isEmpty())return Fa.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),A=e.getIterator(),i=A.getNext();return _u(t).qt({range:r},(function(t,e,r){for(var o=$A.fromSegments(t);i&&$A.comparator(i,o)<0;)n(i,null),i=A.getNext();i&&i.isEqual(o)&&(n(i,e),i=A.hasNext()?A.getNext():null),i?r.Ot(i.path.toArray()):r.done()})).next((function(){for(;i;)n(i,null),i=A.hasNext()?A.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,A=as(),i=e.path.length+1,o={};if(n.isEqual(uo.min())){var s=e.path.toArray();o.range=IDBKeyRange.lowerBound(s)}else{var a=e.path.toArray(),u=Ga(n);o.range=IDBKeyRange.lowerBound([a,u],!0),o.index=da.collectionReadTimeIndex}return _u(t).qt(o,(function(t,n,o){if(t.length===i){var s=Va(r.D,n);e.path.isPrefixOf(s.key.path)?s instanceof Qi&&oo(e,s)&&(A=A.insert(s.key,s)):o.done()}})).next((function(){return A}))},t.prototype.newChangeBuffer=function(t){return new Tu(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Hu(t).get(pa.key).next((function(t){return DA(!!t),t}))},t.prototype.Te=function(t,e){return Hu(t).put(pa.key,e)},t.prototype.Ie=function(t){if(t){var e=Va(this.D,t);return e instanceof Ci&&e.version.isEqual(uo.min())?null:e}return null},t}(),Tu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ve=e,r.trackRemovals=n,r.Se=new Fu((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return EA(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,A=new ns((function(t,e){return LA(t.canonicalString(),e.canonicalString())}));return this.changes.forEach((function(i,o){var s=e.Se.get(i);if(o.maybeDocument){var a=za(e.Ve.D,o.maybeDocument,e.getReadTime(i));A=A.add(i.path.popLast());var u=uu(a);r+=u-s,n.push(e.Ve.addEntry(t,i,a))}else if(r-=s,e.trackRemovals){var c=za(e.Ve.D,new Ci(i,uo.min()),e.getReadTime(i));n.push(e.Ve.addEntry(t,i,c))}else n.push(e.Ve.removeEntry(t,i))})),A.forEach((function(r){n.push(e.Ve.Gt.addToCollectionParentIndex(t,r))})),n.push(this.Ve.updateMetadata(t,r)),Fa.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ve.Ae(t,e).next((function(t){return null===t?(n.Se.set(e,0),null):(n.Se.set(e,t.size),t.maybeDocument)}))},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ve.be(t,e).next((function(t){var e=t.ve;return t.Pe.forEach((function(t,e){n.Se.set(t,e)})),e}))},e}(Iu);function Hu(t){return La(t,pa.store)}function _u(t){return La(t,da.store)}function Su(t){return t.path.toArray()}var Du=function(){function t(t){this.D=t}return t.prototype.St=function(t,e,n,r){var A=this;DA(n<r&&n>=0&&r<=11);var i=new Ia("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(aa.store)}(t),function(t){t.createObjectStore(ua.store,{keyPath:ua.keyPath}),t.createObjectStore(ca.store,{keyPath:ca.keyPath,autoIncrement:!0}).createIndex(ca.userMutationsIndex,ca.userMutationsKeyPath,{unique:!0}),t.createObjectStore(la.store)}(t),Ru(t),function(t){t.createObjectStore(da.store)}(t));var o=Fa.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Ba.store),t.deleteObjectStore(ga.store),t.deleteObjectStore(wa.store)}(t),Ru(t)),o=o.next((function(){return function(t){var e=t.store(wa.store),n=new wa(0,0,uo.min().toTimestamp(),0);return e.put(wa.key,n)}(i)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(t,e){return e.store(ca.store).kt().next((function(n){t.deleteObjectStore(ca.store),t.createObjectStore(ca.store,{keyPath:ca.keyPath,autoIncrement:!0}).createIndex(ca.userMutationsIndex,ca.userMutationsKeyPath,{unique:!0});var r=e.store(ca.store),A=n.map((function(t){return r.put(t)}));return Fa.waitFor(A)}))}(t,i)}))),o=o.next((function(){!function(t){t.createObjectStore(va.store,{keyPath:va.keyPath})}(t)}))),n<5&&r>=5&&(o=o.next((function(){return A.De(i)}))),n<6&&r>=6&&(o=o.next((function(){return function(t){t.createObjectStore(pa.store)}(t),A.Ce(i)}))),n<7&&r>=7&&(o=o.next((function(){return A.xe(i)}))),n<8&&r>=8&&(o=o.next((function(){return A.Ne(t,i)}))),n<9&&r>=9&&(o=o.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(da.store);e.createIndex(da.readTimeIndex,da.readTimeIndexPath,{unique:!1}),e.createIndex(da.collectionReadTimeIndex,da.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(o=o.next((function(){return A.$e(i)}))),n<11&&r>=11&&(o=o.next((function(){!function(t){t.createObjectStore(ma.store,{keyPath:ma.keyPath})}(t),function(t){t.createObjectStore(Ea.store,{keyPath:Ea.keyPath})}(t)}))),o},t.prototype.Ce=function(t){var e=0;return t.store(da.store).qt((function(t,n){e+=uu(n)})).next((function(){var n=new pa(e);return t.store(pa.store).put(pa.key,n)}))},t.prototype.De=function(t){var e=this,n=t.store(ua.store),r=t.store(ca.store);return n.kt().next((function(n){return Fa.forEach(n,(function(n){var A=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.kt(ca.userMutationsIndex,A).next((function(r){return Fa.forEach(r,(function(r){DA(r.userId===n.userId);var A=ja(e.D,r);return au(t,n.userId,A).next((function(){}))}))}))}))}))},t.prototype.xe=function(t){var e=t.store(Ba.store),n=t.store(da.store);return t.store(wa.store).get(wa.key).next((function(t){var r=[];return n.qt((function(n,A){var i=new WA(n),o=function(t){return[0,ra(t)]}(i);r.push(e.get(o).next((function(n){return n?Fa.resolve():function(n){return e.put(new Ba(0,ra(n),t.highestListenSequenceNumber))}(i)})))})).next((function(){return Fa.waitFor(r)}))}))},t.prototype.Ne=function(t,e){t.createObjectStore(ya.store,{keyPath:ya.keyPath});var n=e.store(ya.store),r=new ru,A=function(t){if(r.add(t)){var e=t.lastSegment(),A=t.popLast();return n.put({collectionId:e,parent:ra(A)})}};return e.store(da.store).qt({Bt:!0},(function(t,e){var n=new WA(t);return A(n.popLast())})).next((function(){return e.store(la.store).qt({Bt:!0},(function(t,e){t[0];var n=t[1],r=(t[2],oa(n));return A(r.popLast())}))}))},t.prototype.$e=function(t){var e=this,n=t.store(ga.store);return n.qt((function(t,r){var A=Wa(r),i=Ya(e.D,A);return n.put(i)}))},t}();function Ru(t){t.createObjectStore(Ba.store,{keyPath:Ba.keyPath}).createIndex(Ba.documentTargetsIndex,Ba.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(ga.store,{keyPath:ga.keyPath}).createIndex(ga.queryTargetsIndexName,ga.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(wa.store)}var Ku="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Ou=function(){function t(e,n,r,A,i,o,s,a,u,c){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Fe=i,this.window=o,this.document=s,this.Oe=u,this.ke=c,this.Me=null,this.Le=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Be=null,this.inForeground=!1,this.qe=null,this.Ue=null,this.Qe=Number.NEGATIVE_INFINITY,this.Ke=function(t){return Promise.resolve()},!t.At())throw new JA(qA.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Uu(this,A),this.We=n+"main",this.D=new ka(a),this.je=new Na(this.We,11,new Du(this.D)),this.Ge=new gu(this.referenceDelegate,this.D),this.Gt=new Au,this.ze=function(t,e){return new Nu(t,e)}(this.D,this.Gt),this.He=new $a,this.window&&this.window.localStorage?this.Je=this.window.localStorage:(this.Je=null,!1===c&&TA("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.Ye().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new JA(qA.FAILED_PRECONDITION,Ku);return t.Xe(),t.Ze(),t.tn(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.Ge.getHighestSequenceNumber(e)}))})).then((function(e){t.Me=new bA(e,t.Oe)})).then((function(){t.Le=!0})).catch((function(e){return t.je&&t.je.close(),Promise.reject(e)}))},t.prototype.en=function(t){var e=this;return this.Ke=function(n){return QA(e,void 0,void 0,(function(){return CA(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.je.Ct((function(n){return QA(e,void 0,void 0,(function(){return CA(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Fe.enqueueAndForget((function(){return QA(e,void 0,void 0,(function(){return CA(this,(function(t){switch(t.label){case 0:return this.started?[4,this.Ye()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.Ye=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Mu(e).put(new va(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.nn(e).next((function(e){e||(t.isPrimary=!1,t.Fe.enqueueRetryable((function(){return t.Ke(!1)})))}))})).next((function(){return t.sn(e)})).next((function(n){return t.isPrimary&&!n?t.rn(e).next((function(){return!1})):!!n&&t.on(e).next((function(){return!0}))}))})).catch((function(e){if(_a(e))return NA("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return NA("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Fe.enqueueRetryable((function(){return t.Ke(e)})),t.isPrimary=e}))},t.prototype.nn=function(t){var e=this;return Lu(t).get(aa.key).next((function(t){return Fa.resolve(e.cn(t))}))},t.prototype.an=function(t){return Mu(t).delete(this.clientId)},t.prototype.un=function(){return QA(this,void 0,void 0,(function(){var t,e,n,r,A=this;return CA(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.hn(this.Qe,18e5)?[3,2]:(this.Qe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=La(t,va.store);return e.kt().next((function(t){var n=A.ln(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return Fa.forEach(r,(function(t){return e.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=i.sent(),this.Je)for(e=0,n=t;e<n.length;e++)r=n[e],this.Je.removeItem(this.fn(r.clientId));i.label=2;case 2:return[2]}}))}))},t.prototype.tn=function(){var t=this;this.Ue=this.Fe.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return t.Ye().then((function(){return t.un()})).then((function(){return t.tn()}))}))},t.prototype.cn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.sn=function(t){var e=this;return this.ke?Fa.resolve(!0):Lu(t).get(aa.key).next((function(n){if(null!==n&&e.hn(n.leaseTimestampMs,5e3)&&!e.dn(n.ownerId)){if(e.cn(n)&&e.networkEnabled)return!0;if(!e.cn(n)){if(!n.allowTabSynchronization)throw new JA(qA.FAILED_PRECONDITION,Ku);return!1}}return!(!e.networkEnabled||!e.inForeground)||Mu(t).kt().next((function(t){return void 0===e.ln(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,A=e.networkEnabled===t.networkEnabled;if(n||r&&A)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&NA("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return QA(this,void 0,void 0,(function(){var t=this;return CA(this,(function(e){switch(e.label){case 0:return this.Le=!1,this.wn(),this.Ue&&(this.Ue.cancel(),this.Ue=null),this._n(),this.mn(),[4,this.je.runTransaction("shutdown","readwrite",[aa.store,va.store],(function(e){var n=new Oa(e,bA.o);return t.rn(n).next((function(){return t.an(n)}))}))];case 1:return e.sent(),this.je.close(),this.yn(),[2]}}))}))},t.prototype.ln=function(t,e){var n=this;return t.filter((function(t){return n.hn(t.updateTimeMs,e)&&!n.dn(t.clientId)}))},t.prototype.gn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Mu(e).kt().next((function(e){return t.ln(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this.Le},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return cu.Ht(t,this.D,this.Gt,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.Ge},t.prototype.getRemoteDocumentCache=function(){return this.ze},t.prototype.getIndexManager=function(){return this.Gt},t.prototype.getBundleCache=function(){return this.He},t.prototype.runTransaction=function(t,e,n){var r=this;NA("IndexedDbPersistence","Starting transaction:",t);var A,i="readonly"===e?"readonly":"readwrite";return this.je.runTransaction(t,i,Qa,(function(i){return A=new Oa(i,r.Me?r.Me.next():bA.o),"readwrite-primary"===e?r.nn(A).next((function(t){return!!t||r.sn(A)})).next((function(e){if(!e)throw TA("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Fe.enqueueRetryable((function(){return r.Ke(!1)})),new JA(qA.FAILED_PRECONDITION,Ca);return n(A)})).next((function(t){return r.on(A).next((function(){return t}))})):r.pn(A).next((function(){return n(A)}))})).then((function(t){return A.raiseOnCommittedEvent(),t}))},t.prototype.pn=function(t){var e=this;return Lu(t).get(aa.key).next((function(t){if(null!==t&&e.hn(t.leaseTimestampMs,5e3)&&!e.dn(t.ownerId)&&!e.cn(t)&&!(e.ke||e.allowTabSynchronization&&t.allowTabSynchronization))throw new JA(qA.FAILED_PRECONDITION,Ku)}))},t.prototype.on=function(t){var e=new aa(this.clientId,this.allowTabSynchronization,Date.now());return Lu(t).put(aa.key,e)},t.At=function(){return Na.At()},t.prototype.rn=function(t){var e=this,n=Lu(t);return n.get(aa.key).next((function(t){return e.cn(t)?(NA("IndexedDbPersistence","Releasing primary lease."),n.delete(aa.key)):Fa.resolve()}))},t.prototype.hn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(TA("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Xe=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=function(){t.Fe.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.Ye()}))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)},t.prototype._n=function(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)},t.prototype.Ze=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Be=function(){e.wn(),e.Fe.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("unload",this.Be))},t.prototype.mn=function(){this.Be&&(this.window.removeEventListener("unload",this.Be),this.Be=null)},t.prototype.dn=function(t){var e;try{var n=null!==(null===(e=this.Je)||void 0===e?void 0:e.getItem(this.fn(t)));return NA("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return TA("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.wn=function(){if(this.Je)try{this.Je.setItem(this.fn(this.clientId),String(Date.now()))}catch(t){TA("Failed to set zombie client id.",t)}},t.prototype.yn=function(){if(this.Je)try{this.Je.removeItem(this.fn(this.clientId))}catch(t){}},t.prototype.fn=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Lu(t){return La(t,aa.store)}function Mu(t){return La(t,va.store)}function xu(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Pu=function(t,e){this.progress=t,this.En=e},ku=function(){function t(t,e,n){this.ze=t,this.Tn=e,this.Gt=n}return t.prototype.In=function(t,e){var n=this;return this.Tn.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(r){return n.An(t,e,r)}))},t.prototype.An=function(t,e,n){return this.ze.getEntry(t,e).next((function(t){for(var r=0,A=n;r<A.length;r++)t=A[r].applyToLocalView(e,t);return t}))},t.prototype.Rn=function(t,e,n){var r=os();return e.forEach((function(t,e){for(var A=0,i=n;A<i.length;A++)e=i[A].applyToLocalView(t,e);r=r.insert(t,e)})),r},t.prototype.bn=function(t,e){var n=this;return this.ze.getEntries(t,e).next((function(e){return n.vn(t,e)}))},t.prototype.vn=function(t,e){var n=this;return this.Tn.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(r){var A=n.Rn(t,e,r),i=is();return A.forEach((function(t,e){e||(e=new Ci(t,uo.min())),i=i.insert(t,e)})),i}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return $A.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Pn(t,e.path):$i(e)?this.Vn(t,e,n):this.Sn(t,e,n)},t.prototype.Pn=function(t,e){return this.In(t,new $A(e)).next((function(t){var e=as();return t instanceof Qi&&(e=e.insert(t.key,t)),e}))},t.prototype.Vn=function(t,e,n){var r=this,A=e.collectionGroup,i=as();return this.Gt.getCollectionParents(t,A).next((function(o){return Fa.forEach(o,(function(o){var s=function(t,e){return new Xi(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(A));return r.Sn(t,s,n).next((function(t){t.forEach((function(t,e){i=i.insert(t,e)}))}))})).next((function(){return i}))}))},t.prototype.Sn=function(t,e,n){var r,A,i=this;return this.ze.getDocumentsMatchingQuery(t,e,n).next((function(n){return r=n,i.Tn.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return A=e,i.Dn(t,A,r).next((function(t){r=t;for(var e=0,n=A;e<n.length;e++)for(var i=n[e],o=0,s=i.mutations;o<s.length;o++){var a=s[o],u=a.key,c=Ko(a,r.get(u),i.localWriteTime);r=c instanceof Qi?r.insert(u,c):r.remove(u)}}))})).next((function(){return r.forEach((function(t,n){oo(e,n)||(r=r.remove(t))})),r}))},t.prototype.Dn=function(t,e,n){for(var r=hs(),A=0,i=e;A<i.length;A++)for(var o=0,s=i[A].mutations;o<s.length;o++){var a=s[o];a instanceof Po&&null===n.get(a.key)&&(r=r.add(a.key))}var u=n;return this.ze.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof Qi&&(u=u.insert(t,e))})),u}))},t}(),Vu=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.Cn=n,this.xn=r}return t.Nn=function(e,n){for(var r=hs(),A=hs(),i=0,o=n.docChanges;i<o.length;i++){var s=o[i];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:A=A.add(s.doc.key)}}return new t(e,n.fromCache,r,A)},t}(),zu=function(){function t(){}return t.prototype.$n=function(t){this.Fn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var A=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(uo.min())?this.On(t,e):this.Fn.bn(t,r).next((function(i){var o=A.kn(e,i);return(ji(e)||Wi(e))&&A.Mn(e.limitType,o,r,n)?A.On(t,e):(IA()<=G.DEBUG&&NA("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),io(e)),A.Fn.getDocumentsMatchingQuery(t,e,n).next((function(t){return o.forEach((function(e){t=t.insert(e.key,e)})),t})))}))},t.prototype.kn=function(t,e){var n=new ns(so(t));return e.forEach((function(e,r){r instanceof Qi&&oo(t,r)&&(n=n.add(r))})),n},t.prototype.Mn=function(t,e,n,r){if(n.size!==e.size)return!0;var A="F"===t?e.last():e.first();return!!A&&(A.hasPendingWrites||A.version.compareTo(r)>0)},t.prototype.On=function(t,e){return IA()<=G.DEBUG&&NA("QueryEngine","Using full collection scan to execute query:",io(e)),this.Fn.getDocumentsMatchingQuery(t,e,uo.min())},t}(),Gu=function(){function t(t,e,n,r){this.persistence=t,this.Ln=e,this.D=r,this.Bn=new $o(LA),this.qn=new Fu((function(t){return Ii(t)}),Ni),this.Un=uo.min(),this.Tn=t.getMutationQueue(n),this.Qn=t.getRemoteDocumentCache(),this.Ge=t.getTargetCache(),this.Kn=new ku(this.Qn,this.Tn,this.persistence.getIndexManager()),this.He=t.getBundleCache(),this.Ln.$n(this.Kn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.Bn)}))},t}();function Xu(t,e,n,r){return new Gu(t,e,n,r)}function qu(t,e){return QA(this,void 0,void 0,(function(){var n,r,A,i;return CA(this,(function(o){switch(o.label){case 0:return n=RA(t),r=n.Tn,A=n.Kn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var i;return n.Tn.getAllMutationBatches(t).next((function(o){return i=o,r=n.persistence.getMutationQueue(e),A=new ku(n.Qn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)})).next((function(e){for(var n=[],r=[],o=hs(),s=0,a=i;s<a.length;s++){var u=a[s];n.push(u.batchId);for(var c=0,l=u.mutations;c<l.length;c++){var h=l[c];o=o.add(h.key)}}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,B=p.mutations;g<B.length;g++){var w=B[g];o=o.add(w.key)}}return A.bn(t,o).next((function(t){return{Wn:t,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return i=o.sent(),[2,(n.Tn=r,n.Kn=A,n.Ln.$n(n.Kn),i)]}}))}))}function Ju(t,e){var n=RA(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),A=n.Qn.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var A=n.batch,i=A.keys(),o=Fa.resolve();return i.forEach((function(t){o=o.next((function(){return r.getEntry(e,t)})).next((function(e){var i=e,o=n.docVersions.get(t);DA(null!==o),(!i||i.version.compareTo(o)<0)&&(i=A.applyToRemoteDocument(t,i,n))&&r.addEntry(i,n.commitVersion)}))})),o.next((function(){return t.Tn.removeMutationBatch(e,A)}))}(n,t,e,A).next((function(){return A.apply(t)})).next((function(){return n.Tn.performConsistencyCheck(t)})).next((function(){return n.Kn.bn(t,r)}))}))}function ju(t){var e=RA(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.Ge.getLastRemoteSnapshotVersion(t)}))}function Wu(t,e){var n=RA(t),r=e.snapshotVersion,A=n.Bn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var i=n.Qn.newChangeBuffer({trackRemovals:!0});A=n.Bn;var o=[];e.targetChanges.forEach((function(e,i){var s=A.get(i);if(s){o.push(n.Ge.removeMatchingKeys(t,e.removedDocuments,i).next((function(){return n.Ge.addMatchingKeys(t,e.addedDocuments,i)})));var a=e.resumeToken;if(a.approximateByteSize()>0){var u=s.withResumeToken(a,r).withSequenceNumber(t.currentSequenceNumber);A=A.insert(i,u),function(t,e,n){return DA(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,u,e)&&o.push(n.Ge.updateTargetData(t,u))}}}));var s=is();if(e.documentUpdates.forEach((function(r,A){e.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),o.push(Yu(t,i,e.documentUpdates,r,void 0).next((function(t){s=t}))),!r.isEqual(uo.min())){var a=n.Ge.getLastRemoteSnapshotVersion(t).next((function(e){return n.Ge.setTargetsMetadata(t,t.currentSequenceNumber,r)}));o.push(a)}return Fa.waitFor(o).next((function(){return i.apply(t)})).next((function(){return n.Kn.vn(t,s)}))})).then((function(t){return n.Bn=A,t}))}function Yu(t,e,n,r,A){var i=hs();return n.forEach((function(t){return i=i.add(t)})),e.getEntries(t,i).next((function(t){var i=is();return n.forEach((function(n,o){var s=t.get(n),a=(null==A?void 0:A.get(n))||r;o instanceof Ci&&o.version.isEqual(uo.min())?(e.removeEntry(n,a),i=i.insert(n,o)):null==s||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(e.addEntry(o,a),i=i.insert(n,o)):NA("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),i}))}function Zu(t,e){var n=RA(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.Tn.getNextMutationBatchAfterBatchId(t,e)}))}function $u(t,e){var n=RA(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.Ge.getTargetData(t,e).next((function(A){return A?(r=A,Fa.resolve(r)):n.Ge.allocateTargetId(t).next((function(A){return r=new Pa(e,A,0,t.currentSequenceNumber),n.Ge.addTargetData(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Bn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Bn=n.Bn.insert(t.targetId,t),n.qn.set(e,t.targetId)),t}))}function tc(t,e,n){return QA(this,void 0,void 0,(function(){var r,A,i,o;return CA(this,(function(s){switch(s.label){case 0:r=RA(t),A=r.Bn.get(e),i=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",i,(function(t){return r.persistence.referenceDelegate.removeTarget(t,A)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!_a(o=s.sent()))throw o;return NA("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.Bn=r.Bn.remove(e),r.qn.delete(A.target),[2]}}))}))}function ec(t,e,n){var r=RA(t),A=uo.min(),i=hs();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=RA(t),A=r.qn.get(n);return void 0!==A?Fa.resolve(r.Bn.get(A)):r.Ge.getTargetData(e,n)}(r,t,eo(e)).next((function(e){if(e)return A=e.lastLimboFreeSnapshotVersion,r.Ge.getMatchingKeysForTargetId(t,e.targetId).next((function(t){i=t}))})).next((function(){return r.Ln.getDocumentsMatchingQuery(t,e,n?A:uo.min(),n?i:hs())})).next((function(t){return{documents:t,jn:i}}))}))}function nc(t,e){var n=RA(t),r=RA(n.Ge),A=n.Bn.get(e);return A?Promise.resolve(A.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.yt(t,e).next((function(t){return t?t.target:null}))}))}function rc(t){var e=RA(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=RA(t),A=is(),i=Ga(n),o=_u(e),s=IDBKeyRange.lowerBound(i,!0);return o.qt({index:da.readTimeIndex,range:s},(function(t,e){var n=Va(r.D,e);A=A.insert(n.key,n),i=e.readTime})).next((function(){return{En:A,readTime:Xa(i)}}))}(e.Qn,t,e.Un)})).then((function(t){var n=t.En,r=t.readTime;return e.Un=r,n}))}function Ac(t){return QA(this,void 0,void 0,(function(){var e;return CA(this,(function(n){return[2,(e=RA(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=_u(t),n=uo.min();return e.qt({index:da.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Xa(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.Un=t}))]}))}))}function ic(t,e,n,r){return QA(this,void 0,void 0,(function(){var A,i,o,s,a,u,c,l,h,f;return CA(this,(function(d){switch(d.label){case 0:for(A=RA(t),i=hs(),o=is(),s=cs(),a=0,u=n;a<u.length;a++)c=u[a],l=e.Gn(c.metadata.name),c.document&&(i=i.add(l)),o=o.insert(l,e.zn(c)),s=s.insert(l,e.Hn(c.metadata.readTime));return h=A.Qn.newChangeBuffer({trackRemovals:!0}),[4,$u(A,function(t){return eo(Ji(WA.fromString("__bundle__/docs/"+t)))}(r))];case 1:return f=d.sent(),[2,A.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return Yu(t,h,o,uo.min(),s).next((function(e){return h.apply(t),e})).next((function(e){return A.Ge.removeMatchingKeysForTargetId(t,f.targetId).next((function(){return A.Ge.addMatchingKeys(t,i,f.targetId)})).next((function(){return A.Kn.vn(t,e)}))}))}))]}}))}))}function oc(t,e,n){return void 0===n&&(n=hs()),QA(this,void 0,void 0,(function(){var r,A;return CA(this,(function(i){switch(i.label){case 0:return[4,$u(t,eo(Za(e.bundledQuery)))];case 1:return r=i.sent(),[2,(A=RA(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var i=Ts(e.readTime);if(r.snapshotVersion.compareTo(i)>=0)return A.He.saveNamedQuery(t,e);var o=r.withResumeToken(ti.EMPTY_BYTE_STRING,i);return A.Bn=A.Bn.insert(o.targetId,o),A.Ge.updateTargetData(t,o).next((function(){return A.Ge.removeMatchingKeysForTargetId(t,r.targetId)})).next((function(){return A.Ge.addMatchingKeys(t,n,r.targetId)})).next((function(){return A.He.saveNamedQuery(t,e)}))}))]}}))}))}var sc=function(){function t(t){this.D=t,this.Jn=new Map,this.Yn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Fa.resolve(this.Jn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Jn.set(e.id,{id:(n=e).id,version:n.version,createTime:Ts(n.createTime)}),Fa.resolve()},t.prototype.getNamedQuery=function(t,e){return Fa.resolve(this.Yn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.Yn.set(e.name,function(t){return{name:t.name,query:Za(t.bundledQuery),readTime:Ts(t.readTime)}}(e)),Fa.resolve()},t}(),ac=function(){function t(){this.Xn=new ns(uc.Zn),this.ts=new ns(uc.es)}return t.prototype.isEmpty=function(){return this.Xn.isEmpty()},t.prototype.addReference=function(t,e){var n=new uc(t,e);this.Xn=this.Xn.add(n),this.ts=this.ts.add(n)},t.prototype.ns=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.ss(new uc(t,e))},t.prototype.rs=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.os=function(t){var e=this,n=new $A(new WA([])),r=new uc(n,t),A=new uc(n,t+1),i=[];return this.ts.forEachInRange([r,A],(function(t){e.ss(t),i.push(t.key)})),i},t.prototype.cs=function(){var t=this;this.Xn.forEach((function(e){return t.ss(e)}))},t.prototype.ss=function(t){this.Xn=this.Xn.delete(t),this.ts=this.ts.delete(t)},t.prototype.us=function(t){var e=new $A(new WA([])),n=new uc(e,t),r=new uc(e,t+1),A=hs();return this.ts.forEachInRange([n,r],(function(t){A=A.add(t.key)})),A},t.prototype.containsKey=function(t){var e=new uc(t,0),n=this.Xn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),uc=function(){function t(t,e){this.key=t,this.hs=e}return t.Zn=function(t,e){return $A.comparator(t.key,e.key)||LA(t.hs,e.hs)},t.es=function(t,e){return LA(t.hs,e.hs)||$A.comparator(t.key,e.key)},t}(),cc=function(){function t(t,e){this.Gt=t,this.referenceDelegate=e,this.Tn=[],this.ls=1,this.fs=new ns(uc.Zn)}return t.prototype.checkEmpty=function(t){return Fa.resolve(0===this.Tn.length)},t.prototype.addMutationBatch=function(t,e,n,r){var A=this.ls;this.ls++,this.Tn.length>0&&this.Tn[this.Tn.length-1];var i=new Ma(A,e,n,r);this.Tn.push(i);for(var o=0,s=r;o<s.length;o++){var a=s[o];this.fs=this.fs.add(new uc(a.key,A)),this.Gt.addToCollectionParentIndex(t,a.key.path.popLast())}return Fa.resolve(i)},t.prototype.lookupMutationBatch=function(t,e){return Fa.resolve(this.ds(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=e+1,r=this.ws(n),A=r<0?0:r;return Fa.resolve(this.Tn.length>A?this.Tn[A]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Fa.resolve(0===this.Tn.length?-1:this.ls-1)},t.prototype.getAllMutationBatches=function(t){return Fa.resolve(this.Tn.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new uc(e,0),A=new uc(e,Number.POSITIVE_INFINITY),i=[];return this.fs.forEachInRange([r,A],(function(t){var e=n.ds(t.hs);i.push(e)})),Fa.resolve(i)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new ns(LA);return e.forEach((function(t){var e=new uc(t,0),A=new uc(t,Number.POSITIVE_INFINITY);n.fs.forEachInRange([e,A],(function(t){r=r.add(t.hs)}))})),Fa.resolve(this._s(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,A=n;$A.isDocumentKey(A)||(A=A.child(""));var i=new uc(new $A(A),0),o=new ns(LA);return this.fs.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(o=o.add(t.hs)),!0)}),i),Fa.resolve(this._s(o))},t.prototype._s=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.ds(t);null!==r&&n.push(r)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;DA(0===this.ys(e.batchId,"removed")),this.Tn.shift();var r=this.fs;return Fa.forEach(e.mutations,(function(A){var i=new uc(A.key,e.batchId);return r=r.delete(i),n.referenceDelegate.markPotentiallyOrphaned(t,A.key)})).next((function(){n.fs=r}))},t.prototype.Xt=function(t){},t.prototype.containsKey=function(t,e){var n=new uc(e,0),r=this.fs.firstAfterOrEqual(n);return Fa.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return this.Tn.length,Fa.resolve()},t.prototype.ys=function(t,e){return this.ws(t)},t.prototype.ws=function(t){return 0===this.Tn.length?0:t-this.Tn[0].batchId},t.prototype.ds=function(t){var e=this.ws(t);return e<0||e>=this.Tn.length?null:this.Tn[e]},t}(),lc=function(){function t(t,e){this.Gt=t,this.gs=e,this.docs=new $o($A.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,A=this.docs.get(r),i=A?A.size:0,o=this.gs(e);return this.docs=this.docs.insert(r,{maybeDocument:e,size:o,readTime:n}),this.size+=o-i,this.Gt.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Fa.resolve(n?n.maybeDocument:null)},t.prototype.getEntries=function(t,e){var n=this,r=os();return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.maybeDocument:null)})),Fa.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=as(),A=new $A(e.path.child("")),i=this.docs.getIteratorFrom(A);i.hasNext();){var o=i.getNext(),s=o.key,a=o.value,u=a.maybeDocument,c=a.readTime;if(!e.path.isPrefixOf(s.path))break;c.compareTo(n)<=0||u instanceof Qi&&oo(e,u)&&(r=r.insert(u.key,u))}return Fa.resolve(r)},t.prototype.ps=function(t,e){return Fa.forEach(this.docs,(function(t){return e(t)}))},t.prototype.newChangeBuffer=function(t){return new hc(this)},t.prototype.getSize=function(t){return Fa.resolve(this.size)},t}(),hc=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ve=e,n}return EA(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(r,A){A&&A.maybeDocument?n.push(e.Ve.addEntry(t,A.maybeDocument,e.getReadTime(r))):e.Ve.removeEntry(r)})),Fa.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ve.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ve.getEntries(t,e)},e}(Iu),fc=function(){function t(t){this.persistence=t,this.Es=new Fu((function(t){return Ii(t)}),Ni),this.lastRemoteSnapshotVersion=uo.min(),this.highestTargetId=0,this.Ts=0,this.Is=new ac,this.targetCount=0,this.As=pu.ee()}return t.prototype.forEachTarget=function(t,e){return this.Es.forEach((function(t,n){return e(n)})),Fa.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Fa.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Fa.resolve(this.Ts)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.As.next(),Fa.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Ts&&(this.Ts=e),Fa.resolve()},t.prototype.re=function(t){this.Es.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.As=new pu(e),this.highestTargetId=e),t.sequenceNumber>this.Ts&&(this.Ts=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.re(e),this.targetCount+=1,Fa.resolve()},t.prototype.updateTargetData=function(t,e){return this.re(e),Fa.resolve()},t.prototype.removeTargetData=function(t,e){return this.Es.delete(e.target),this.Is.os(e.targetId),this.targetCount-=1,Fa.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,A=0,i=[];return this.Es.forEach((function(o,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.Es.delete(o),i.push(r.removeMatchingKeysForTargetId(t,s.targetId)),A++)})),Fa.waitFor(i).next((function(){return A}))},t.prototype.getTargetCount=function(t){return Fa.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.Es.get(e)||null;return Fa.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this.Is.ns(e,n),Fa.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this.Is.rs(e,n);var r=this.persistence.referenceDelegate,A=[];return r&&e.forEach((function(e){A.push(r.markPotentiallyOrphaned(t,e))})),Fa.waitFor(A)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this.Is.os(e),Fa.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.Is.us(e);return Fa.resolve(n)},t.prototype.containsKey=function(t,e){return Fa.resolve(this.Is.containsKey(e))},t}(),dc=function(){function t(t,e){var n=this;this.Rs={},this.Me=new bA(0),this.Le=!1,this.Le=!0,this.referenceDelegate=t(this),this.Ge=new fc(this),this.Gt=new nu,this.ze=function(t,e){return new lc(t,(function(t){return n.referenceDelegate.bs(t)}))}(this.Gt),this.D=new ka(e),this.He=new sc(this.D)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.Le=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.Le},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Gt},t.prototype.getMutationQueue=function(t){var e=this.Rs[t.toKey()];return e||(e=new cc(this.Gt,this.referenceDelegate),this.Rs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.Ge},t.prototype.getRemoteDocumentCache=function(){return this.ze},t.prototype.getBundleCache=function(){return this.He},t.prototype.runTransaction=function(t,e,n){var r=this;NA("MemoryPersistence","Starting transaction:",t);var A=new pc(this.Me.next());return this.referenceDelegate.vs(),n(A).next((function(t){return r.referenceDelegate.Ps(A).next((function(){return t}))})).toPromise().then((function(t){return A.raiseOnCommittedEvent(),t}))},t.prototype.Vs=function(t,e){return Fa.or(Object.values(this.Rs).map((function(n){return function(){return n.containsKey(t,e)}})))},t}(),pc=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return EA(e,t),e}(Ua),gc=function(){function t(t){this.persistence=t,this.Ss=new ac,this.Ds=null}return t.Cs=function(e){return new t(e)},Object.defineProperty(t.prototype,"xs",{get:function(){if(this.Ds)return this.Ds;throw SA()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.Ss.addReference(n,e),this.xs.delete(n.toString()),Fa.resolve()},t.prototype.removeReference=function(t,e,n){return this.Ss.removeReference(n,e),this.xs.add(n.toString()),Fa.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.xs.add(e.toString()),Fa.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.Ss.os(e.targetId).forEach((function(t){return n.xs.add(t.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.xs.add(t.toString())}))})).next((function(){return r.removeTargetData(t,e)}))},t.prototype.vs=function(){this.Ds=new Set},t.prototype.Ps=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Fa.forEach(this.xs,(function(r){var A=$A.fromPath(r);return e.Ns(t,A).next((function(t){t||n.removeEntry(A)}))})).next((function(){return e.Ds=null,n.apply(t)}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ns(t,e).next((function(t){t?n.xs.delete(e.toString()):n.xs.add(e.toString())}))},t.prototype.bs=function(t){return 0},t.prototype.Ns=function(t,e){var n=this;return Fa.or([function(){return Fa.resolve(n.Ss.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Vs(t,e)}])},t}(),Bc=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function wc(t,e){return"firestore_clients_"+t+"_"+e}function yc(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function vc(t,e){return"firestore_targets_"+t+"_"+e}Bc.UNAUTHENTICATED=new Bc(null),Bc.GOOGLE_CREDENTIALS=new Bc("google-credentials-uid"),Bc.FIRST_PARTY=new Bc("first-party-uid");var mc=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.$s=function(e,n,r){var A,i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(A=new JA(i.error.code,i.error.message)),o?new t(e,n,i.state,A):(TA("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Fs=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Ec=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.$s=function(e,n){var r,A=JSON.parse(n),i="object"==typeof A&&-1!==["not-current","current","rejected"].indexOf(A.state)&&(void 0===A.error||"object"==typeof A.error);return i&&A.error&&(i="string"==typeof A.error.message&&"string"==typeof A.error.code)&&(r=new JA(A.error.code,A.error.message)),i?new t(e,A.state,r):(TA("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Fs=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Qc=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.$s=function(e,n){for(var r=JSON.parse(n),A="object"==typeof r&&r.activeTargetIds instanceof Array,i=ds(),o=0;A&&o<r.activeTargetIds.length;++o)A=XA(r.activeTargetIds[o]),i=i.add(r.activeTargetIds[o]);return A?new t(e,i):(TA("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Cc=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.$s=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(TA("SharedClientState","Failed to parse online state: "+e),null)},t}(),Uc=function(){function t(){this.activeTargetIds=ds()}return t.prototype.Os=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.ks=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Fs=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),bc=function(){function t(t,e,n,r,A){this.window=t,this.Fe=e,this.persistenceKey=n,this.Ms=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ls=this.Bs.bind(this),this.qs=new $o(LA),this.started=!1,this.Us=[];var i=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=A,this.Qs=wc(this.persistenceKey,this.Ms),this.Ks=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.qs=this.qs.insert(this.Ms,new Uc),this.Ws=new RegExp("^firestore_clients_"+i+"_([^_]*)$"),this.js=new RegExp("^firestore_mutations_"+i+"_(\\d+)(?:_(.*))?$"),this.Gs=new RegExp("^firestore_targets_"+i+"_(\\d+)$"),this.zs=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Hs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.Ls)}return t.At=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return QA(this,void 0,void 0,(function(){var t,e,n,r,A,i,o,s,a,u,c,l=this;return CA(this,(function(h){switch(h.label){case 0:return[4,this.syncEngine.gn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ms&&(A=this.getItem(wc(this.persistenceKey,r)))&&(i=Qc.$s(r,A))&&(this.qs=this.qs.insert(i.clientId,i));for(this.Js(),(o=this.storage.getItem(this.zs))&&(s=this.Ys(o))&&this.Xs(s),a=0,u=this.Us;a<u.length;a++)c=u[a],this.Bs(c);return this.Us=[],this.window.addEventListener("unload",(function(){return l.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ks,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Zs(this.qs)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.qs.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.addPendingMutation=function(t){this.ti(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.ti(t,e,n),this.ei(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(vc(this.persistenceKey,t));if(n){var r=Ec.$s(t,n);r&&(e=r.state)}}return this.ni.Os(t),this.Js(),e},t.prototype.removeLocalQueryTarget=function(t){this.ni.ks(t),this.Js()},t.prototype.isLocalQueryTarget=function(t){return this.ni.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(vc(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.si(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach((function(t){r.ei(t)})),this.currentUser=t,n.forEach((function(t){r.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.ii(t)},t.prototype.notifyBundleLoaded=function(){this.ri()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.Ls),this.removeItem(this.Qs),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return NA("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){NA("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){NA("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Bs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(NA("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Qs)return void TA("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Fe.enqueueRetryable((function(){return QA(e,void 0,void 0,(function(){var t,e,r,A,i,o;return CA(this,(function(s){if(this.started){if(null!==n.key)if(this.Ws.test(n.key)){if(null==n.newValue)return t=this.oi(n.key),[2,this.ci(t,null)];if(e=this.ai(n.key,n.newValue))return[2,this.ci(e.clientId,e)]}else if(this.js.test(n.key)){if(null!==n.newValue&&(r=this.ui(n.key,n.newValue)))return[2,this.hi(r)]}else if(this.Gs.test(n.key)){if(null!==n.newValue&&(A=this.li(n.key,n.newValue)))return[2,this.fi(A)]}else if(n.key===this.zs){if(null!==n.newValue&&(i=this.Ys(n.newValue)))return[2,this.Xs(i)]}else if(n.key===this.Ks)(o=function(t){var e=bA.o;if(null!=t)try{var n=JSON.parse(t);DA("number"==typeof n),e=n}catch(t){TA("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==bA.o&&this.sequenceNumberHandler(o);else if(n.key===this.Hs)return[2,this.syncEngine.di()]}else this.Us.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"ni",{get:function(){return this.qs.get(this.Ms)},enumerable:!1,configurable:!0}),t.prototype.Js=function(){this.setItem(this.Qs,this.ni.Fs())},t.prototype.ti=function(t,e,n){var r=new mc(this.currentUser,t,e,n),A=yc(this.persistenceKey,this.currentUser,t);this.setItem(A,r.Fs())},t.prototype.ei=function(t){var e=yc(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.ii=function(t){var e={clientId:this.Ms,onlineState:t};this.storage.setItem(this.zs,JSON.stringify(e))},t.prototype.si=function(t,e,n){var r=vc(this.persistenceKey,t),A=new Ec(t,e,n);this.setItem(r,A.Fs())},t.prototype.ri=function(){this.setItem(this.Hs,"value-not-used")},t.prototype.oi=function(t){var e=this.Ws.exec(t);return e?e[1]:null},t.prototype.ai=function(t,e){var n=this.oi(t);return Qc.$s(n,e)},t.prototype.ui=function(t,e){var n=this.js.exec(t),r=Number(n[1]),A=void 0!==n[2]?n[2]:null;return mc.$s(new Bc(A),r,e)},t.prototype.li=function(t,e){var n=this.Gs.exec(t),r=Number(n[1]);return Ec.$s(r,e)},t.prototype.Ys=function(t){return Cc.$s(t)},t.prototype.hi=function(t){return QA(this,void 0,void 0,(function(){return CA(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.wi(t.batchId,t.state,t.error)]:(NA("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.fi=function(t){return this.syncEngine._i(t.targetId,t.state,t.error)},t.prototype.ci=function(t,e){var n=this,r=e?this.qs.insert(t,e):this.qs.remove(t),A=this.Zs(this.qs),i=this.Zs(r),o=[],s=[];return i.forEach((function(t){A.has(t)||o.push(t)})),A.forEach((function(t){i.has(t)||s.push(t)})),this.syncEngine.mi(o,s).then((function(){n.qs=r}))},t.prototype.Xs=function(t){this.qs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Zs=function(t){var e=ds();return t.forEach((function(t,n){e=e.unionWith(n.activeTargetIds)})),e},t}(),Fc=function(){function t(){this.yi=new Uc,this.gi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.yi.Os(t),this.gi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.gi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.yi.ks(t)},t.prototype.isLocalQueryTarget=function(t){return this.yi.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.gi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.yi.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.yi.activeTargetIds.has(t)},t.prototype.start=function(){return this.yi=new Uc,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),Ic=function(){function t(){}return t.prototype.pi=function(t){},t.prototype.shutdown=function(){},t}(),Nc=function(){function t(){var t=this;this.Ei=function(){return t.Ti()},this.Ii=function(){return t.Ai()},this.Ri=[],this.bi()}return t.prototype.pi=function(t){this.Ri.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ii)},t.prototype.bi=function(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ii)},t.prototype.Ti=function(){NA("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Ri;t<e.length;t++)(0,e[t])(0)},t.prototype.Ai=function(){NA("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Ri;t<e.length;t++)(0,e[t])(1)},t.At=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Tc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Hc=function(){function t(t){this.vi=t.vi,this.Pi=t.Pi}return t.prototype.Vi=function(t){this.Si=t},t.prototype.Di=function(t){this.Ci=t},t.prototype.onMessage=function(t){this.xi=t},t.prototype.close=function(){this.Pi()},t.prototype.send=function(t){this.vi(t)},t.prototype.Ni=function(){this.Si()},t.prototype.$i=function(t){this.Ci(t)},t.prototype.Fi=function(t){this.xi(t)},t}(),_c=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return EA(e,t),e.prototype.qi=function(t,e,n,r){return new Promise((function(A,i){var o=new vA;o.listenOnce(pA.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case dA.NO_ERROR:var e=o.getResponseJson();NA("Connection","XHR received:",JSON.stringify(e)),A(e);break;case dA.TIMEOUT:NA("Connection",'RPC "'+t+'" timed out'),i(new JA(qA.DEADLINE_EXCEEDED,"Request time out"));break;case dA.HTTP_ERROR:var n=o.getStatus();if(NA("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(qA).indexOf(e)>=0?e:qA.UNKNOWN}(r.status);i(new JA(s,r.message))}else i(new JA(qA.UNKNOWN,"Server responded with status "+o.getStatus()))}else i(new JA(qA.UNAVAILABLE,"Connection failed."));break;default:SA()}}finally{NA("Connection",'RPC "'+t+'" completed.')}}));var s=JSON.stringify(r);o.send(e,"POST",s,n,15)}))},e.prototype.Qi=function(t,e){var n,r=[this.Oi,"/","google.firestore.v1.Firestore","/",t,"/channel"],A=new uA,i=ln(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Bi(o.initMessageHeaders,e),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(b())||"object"==typeof navigator&&"ReactNative"===navigator.product||b().indexOf("Electron/")>=0||function(){var t=b();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()||b().indexOf("MSAppHost/")>=0||"object"==typeof(n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0)&&void 0!==n.id||(o.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");NA("Connection","Creating WebChannel: "+s,o);var a=A.createWebChannel(s,o),u=!1,c=!1,l=new Hc({vi:function(t){c?NA("Connection","Not sending because WebChannel is closed:",t):(u||(NA("Connection","Opening WebChannel transport."),a.open(),u=!0),NA("Connection","WebChannel sending:",t),a.send(t))},Pi:function(){return a.close()}}),h=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(a,yA.EventType.OPEN,(function(){c||NA("Connection","WebChannel transport opened.")})),h(a,yA.EventType.CLOSE,(function(){c||(c=!0,NA("Connection","WebChannel transport closed"),l.$i())})),h(a,yA.EventType.ERROR,(function(t){c||(c=!0,HA("Connection","WebChannel transport errored:",t),l.$i(new JA(qA.UNAVAILABLE,"The operation could not be completed")))})),h(a,yA.EventType.MESSAGE,(function(t){var e;if(!c){var n=t.data[0];DA(!!n);var r=n,A=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(A){NA("Connection","WebChannel received error:",A);var i=A.status,o=function(t){var e=Xo[t];if(void 0!==e)return Zo(e)}(i),s=A.message;void 0===o&&(o=qA.INTERNAL,s="Unknown error status: "+i+" with message "+A.message),c=!0,l.$i(new JA(o,s)),a.close()}else NA("Connection","WebChannel received:",n),l.Fi(n)}})),h(i,gA.STAT_EVENT,(function(t){t.stat===BA?NA("Connection","Detected buffering proxy"):t.stat===wA&&NA("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Ni()}),0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId;var e=t.ssl?"https":"http";this.Oi=e+"://"+t.host,this.ki="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Mi=function(t,e,n,r){var A=this.Li(t,e);NA("RestConnection","Sending: ",A,n);var i={};return this.Bi(i,r),this.qi(t,A,i,n).then((function(t){return NA("RestConnection","Received: ",t),t}),(function(e){throw HA("RestConnection",t+" failed with error: ",e,"url: ",A,"request:",n),e}))},t.prototype.Ui=function(t,e,n,r){return this.Mi(t,e,n,r)},t.prototype.Bi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.3.1",t["Content-Type"]="text/plain",e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.Li=function(t,e){var n=Tc[t];return this.Oi+"/v1/"+e+":"+n},t}());function Sc(){return"undefined"!=typeof window?window:null}function Dc(){return"undefined"!=typeof document?document:null}function Rc(t){return new bs(t,!0)}var Kc=function(){function t(t,e,n,r,A){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===A&&(A=6e4),this.Fe=t,this.timerId=e,this.Ki=n,this.Wi=r,this.ji=A,this.Gi=0,this.zi=null,this.Hi=Date.now(),this.reset()}return t.prototype.reset=function(){this.Gi=0},t.prototype.Ji=function(){this.Gi=this.ji},t.prototype.Yi=function(t){var e=this;this.cancel();var n=Math.floor(this.Gi+this.Xi()),r=Math.max(0,Date.now()-this.Hi),A=Math.max(0,n-r);A>0&&NA("ExponentialBackoff","Backing off for "+A+" ms (base delay: "+this.Gi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.zi=this.Fe.enqueueAfterDelay(this.timerId,A,(function(){return e.Hi=Date.now(),t()})),this.Gi*=this.Wi,this.Gi<this.Ki&&(this.Gi=this.Ki),this.Gi>this.ji&&(this.Gi=this.ji)},t.prototype.Zi=function(){null!==this.zi&&(this.zi.skipDelay(),this.zi=null)},t.prototype.cancel=function(){null!==this.zi&&(this.zi.cancel(),this.zi=null)},t.prototype.Xi=function(){return(Math.random()-.5)*this.Gi},t}(),Oc=function(){function t(t,e,n,r,A,i){this.Fe=t,this.tr=n,this.er=r,this.nr=A,this.listener=i,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new Kc(t,e)}return t.prototype.cr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.ar=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.ur()},t.prototype.stop=function(){return QA(this,void 0,void 0,(function(){return CA(this,(function(t){switch(t.label){case 0:return this.cr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.hr=function(){this.state=0,this.rr.reset()},t.prototype.lr=function(){var t=this;this.ar()&&null===this.ir&&(this.ir=this.Fe.enqueueAfterDelay(this.tr,6e4,(function(){return t.dr()})))},t.prototype.wr=function(t){this._r(),this.stream.send(t)},t.prototype.dr=function(){return QA(this,void 0,void 0,(function(){return CA(this,(function(t){return this.ar()?[2,this.close(0)]:[2]}))}))},t.prototype._r=function(){this.ir&&(this.ir.cancel(),this.ir=null)},t.prototype.close=function(t,e){return QA(this,void 0,void 0,(function(){return CA(this,(function(n){switch(n.label){case 0:return this._r(),this.rr.cancel(),this.sr++,3!==t?this.rr.reset():e&&e.code===qA.RESOURCE_EXHAUSTED?(TA(e.toString()),TA("Using maximum backoff delay to prevent overloading the backend."),this.rr.Ji()):e&&e.code===qA.UNAUTHENTICATED&&this.nr.invalidateToken(),null!==this.stream&&(this.mr(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Di(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.mr=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.yr(this.sr),n=this.sr;this.nr.getToken().then((function(e){t.sr===n&&t.gr(e)}),(function(n){e((function(){var e=new JA(qA.UNKNOWN,"Fetching auth token failed: "+n.message);return t.pr(e)}))}))},t.prototype.gr=function(t){var e=this,n=this.yr(this.sr);this.stream=this.Er(t),this.stream.Vi((function(){n((function(){return e.state=2,e.listener.Vi()}))})),this.stream.Di((function(t){n((function(){return e.pr(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.ur=function(){var t=this;this.state=4,this.rr.Yi((function(){return QA(t,void 0,void 0,(function(){return CA(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.pr=function(t){return NA("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.yr=function(t){var e=this;return function(n){e.Fe.enqueueAndForget((function(){return e.sr===t?n():(NA("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Lc=function(t){function e(e,n,r,A,i){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,i)||this).D=A,o}return EA(e,t),e.prototype.Er=function(t){return this.er.Qi("Listen",t)},e.prototype.onMessage=function(t){this.rr.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:SA()}(e.targetChange.targetChangeType||"NO_CHANGE"),A=e.targetChange.targetIds||[],i=function(t,e){return t.V?(DA(void 0===e||"string"==typeof e),ti.fromBase64String(e||"")):(DA(void 0===e||e instanceof Uint8Array),ti.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=(s=e.targetChange.cause)&&function(t){var e=void 0===t.code?qA.UNKNOWN:Zo(t.code);return new JA(e,t.message||"")}(s);n=new ys(r,A,i,o||null)}else if("documentChange"in e){e.documentChange,(r=e.documentChange).document,r.document.name,r.document.updateTime,A=Ds(t,r.document.name),i=Ts(r.document.updateTime);var s=new lo({mapValue:{fields:r.document.fields}}),a=(o=new Qi(A,i,s,{}),r.targetIds||[]),u=r.removedTargetIds||[];n=new Bs(a,u,o.key,o)}else if("documentDelete"in e)e.documentDelete,(r=e.documentDelete).document,A=Ds(t,r.document),i=r.readTime?Ts(r.readTime):uo.min(),s=new Ci(A,i),o=r.removedTargetIds||[],n=new Bs([],o,s.key,s);else if("documentRemove"in e)e.documentRemove,(r=e.documentRemove).document,A=Ds(t,r.document),i=r.removedTargetIds||[],n=new Bs([],i,A,null);else{if(!("filter"in e))return SA();e.filter;var c=e.filter;c.targetId,r=c.count||0,A=new Wo(r),i=c.targetId,n=new ws(i,A)}return n}(this.D,t),n=function(t){if(!("targetChange"in t))return uo.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?uo.min():e.readTime?Ts(e.readTime):uo.min()}(t);return this.listener.Tr(e,n)},e.prototype.Ir=function(t){var e={};e.database=Os(this.D),e.addTarget=function(t,e){var n,r=e.target;return(n=Ti(r)?{documents:Vs(t,r)}:{query:zs(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=Is(t,e.resumeToken):e.snapshotVersion.compareTo(uo.min())>0&&(n.readTime=Fs(t,e.snapshotVersion.toTimestamp())),n}(this.D,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return SA()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.D,t);n&&(e.labels=n),this.wr(e)},e.prototype.Ar=function(t){var e={};e.database=Os(this.D),e.removeTarget=t,this.wr(e)},e}(Oc),Mc=function(t){function e(e,n,r,A,i){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,i)||this).D=A,o.Rr=!1,o}return EA(e,t),Object.defineProperty(e.prototype,"br",{get:function(){return this.Rr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.Rr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.mr=function(){this.Rr&&this.vr([])},e.prototype.Er=function(t){return this.er.Qi("Write",t)},e.prototype.onMessage=function(t){if(DA(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Rr){this.rr.reset();var e=function(t,e){return t&&t.length>0?(DA(void 0!==e),t.map((function(t){return function(t,e){var n=t.updateTime?Ts(t.updateTime):Ts(e);return n.isEqual(uo.min())&&(n=Ts(e)),new Ho(n,t.transformResults||[])}(t,e)}))):[]}(t.writeResults,t.commitTime),n=Ts(t.commitTime);return this.listener.Pr(n,e)}return DA(!t.writeResults||0===t.writeResults.length),this.Rr=!0,this.listener.Vr()},e.prototype.Sr=function(){var t={};t.database=Os(this.D),this.wr(t)},e.prototype.vr=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Ps(e.D,t)}))};this.wr(n)},e}(Oc),xc=function(t){function e(e,n,r){var A=this;return(A=t.call(this)||this).credentials=e,A.er=n,A.D=r,A.Dr=!1,A}return EA(e,t),e.prototype.Cr=function(){if(this.Dr)throw new JA(qA.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Mi=function(t,e,n){var r=this;return this.Cr(),this.credentials.getToken().then((function(A){return r.er.Mi(t,e,n,A)})).catch((function(t){throw t.code===qA.UNAUTHENTICATED&&r.credentials.invalidateToken(),t}))},e.prototype.Ui=function(t,e,n){var r=this;return this.Cr(),this.credentials.getToken().then((function(A){return r.er.Ui(t,e,n,A)})).catch((function(t){throw t.code===qA.UNAUTHENTICATED&&r.credentials.invalidateToken(),t}))},e.prototype.terminate=function(){this.Dr=!1},e}((function(){})),Pc=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.Nr=0,this.$r=null,this.Fr=!0}return t.prototype.Or=function(){var t=this;0===this.Nr&&(this.kr("Unknown"),this.$r=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.$r=null,t.Mr("Backend didn't respond within 10 seconds."),t.kr("Offline"),Promise.resolve()})))},t.prototype.Lr=function(t){"Online"===this.state?this.kr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr("Connection failed 1 times. Most recent error: "+t.toString()),this.kr("Offline")))},t.prototype.set=function(t){this.Br(),this.Nr=0,"Online"===t&&(this.Fr=!1),this.kr(t)},t.prototype.kr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Mr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Fr?(TA(e),this.Fr=!1):NA("OnlineStateTracker",e)},t.prototype.Br=function(){null!==this.$r&&(this.$r.cancel(),this.$r=null)},t}(),kc=function(t,e,n,r,A){var i=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.qr=[],this.Ur=new Map,this.Qr=new Set,this.Kr=[],this.Wr=A,this.Wr.pi((function(t){n.enqueueAndForget((function(){return QA(i,void 0,void 0,(function(){return CA(this,(function(t){switch(t.label){case 0:return Yc(this)?(NA("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return QA(this,void 0,void 0,(function(){var e;return CA(this,(function(n){switch(n.label){case 0:return(e=RA(t)).Qr.add(4),[4,zc(e)];case 1:return n.sent(),e.jr.set("Unknown"),e.Qr.delete(4),[4,Vc(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.jr=new Pc(n,r)};function Vc(t){return QA(this,void 0,void 0,(function(){var e,n;return CA(this,(function(r){switch(r.label){case 0:if(!Yc(t))return[3,4];e=0,n=t.Kr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function zc(t){return QA(this,void 0,void 0,(function(){var e,n;return CA(this,(function(r){switch(r.label){case 0:e=0,n=t.Kr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Gc(t,e){var n=RA(t);n.Ur.has(e.targetId)||(n.Ur.set(e.targetId,e),Wc(n)?jc(n):hl(n).ar()&&qc(n,e))}function Xc(t,e){var n=RA(t),r=hl(n);n.Ur.delete(e),r.ar()&&Jc(n,e),0===n.Ur.size&&(r.ar()?r.lr():Yc(n)&&n.jr.set("Unknown"))}function qc(t,e){t.Gr.H(e.targetId),hl(t).Ir(e)}function Jc(t,e){t.Gr.H(e),hl(t).Ar(e)}function jc(t){t.Gr=new ms({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},yt:function(e){return t.Ur.get(e)||null}}),hl(t).start(),t.jr.Or()}function Wc(t){return Yc(t)&&!hl(t).cr()&&t.Ur.size>0}function Yc(t){return 0===RA(t).Qr.size}function Zc(t){t.Gr=void 0}function $c(t){return QA(this,void 0,void 0,(function(){return CA(this,(function(e){return t.Ur.forEach((function(e,n){qc(t,e)})),[2]}))}))}function tl(t,e){return QA(this,void 0,void 0,(function(){return CA(this,(function(n){return Zc(t),Wc(t)?(t.jr.Lr(e),jc(t)):t.jr.set("Unknown"),[2]}))}))}function el(t,e,n){return QA(this,void 0,void 0,(function(){var r,A,i;return CA(this,(function(o){switch(o.label){case 0:if(t.jr.set("Online"),!(e instanceof ys&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return QA(this,void 0,void 0,(function(){var n,r,A,i;return CA(this,(function(o){switch(o.label){case 0:n=e.cause,r=0,A=e.targetIds,o.label=1;case 1:return r<A.length?(i=A[r],t.Ur.has(i)?[4,t.remoteSyncer.rejectListen(i,n)]:[3,3]):[3,5];case 2:o.sent(),t.Ur.delete(i),t.Gr.removeTarget(i),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),NA("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,nl(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Bs?t.Gr.st(e):e instanceof ws?t.Gr.ht(e):t.Gr.ot(e),n.isEqual(uo.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,ju(t.localStore)];case 8:return A=o.sent(),n.compareTo(A)>=0?[4,function(t,e){var n=t.Gr.dt(e);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var A=t.Ur.get(r);A&&t.Ur.set(r,A.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((function(e){var n=t.Ur.get(e);if(n){t.Ur.set(e,n.withResumeToken(ti.EMPTY_BYTE_STRING,n.snapshotVersion)),Jc(t,e);var r=new Pa(n.target,e,1,n.sequenceNumber);qc(t,r)}})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return NA("RemoteStore","Failed to raise snapshot:",i=o.sent()),[4,nl(t,i)];case 12:return o.sent(),[3,13];case 13:return[2]}}))}))}function nl(t,e,n){return QA(this,void 0,void 0,(function(){var r=this;return CA(this,(function(A){switch(A.label){case 0:if(!_a(e))throw e;return t.Qr.add(1),[4,zc(t)];case 1:return A.sent(),t.jr.set("Offline"),n||(n=function(){return ju(t.localStore)}),t.asyncQueue.enqueueRetryable((function(){return QA(r,void 0,void 0,(function(){return CA(this,(function(e){switch(e.label){case 0:return NA("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Qr.delete(1),[4,Vc(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function rl(t,e){return e().catch((function(n){return nl(t,n,e)}))}function Al(t){return QA(this,void 0,void 0,(function(){var e,n,r,A,i;return CA(this,(function(o){switch(o.label){case 0:e=RA(t),n=fl(e),r=e.qr.length>0?e.qr[e.qr.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return Yc(t)&&t.qr.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,Zu(e.localStore,r)];case 3:return null===(A=o.sent())?(0===e.qr.length&&n.lr(),[3,7]):(r=A.batchId,function(t,e){t.qr.push(e);var n=fl(t);n.ar()&&n.br&&n.vr(e.mutations)}(e,A),[3,6]);case 4:return i=o.sent(),[4,nl(e,i)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return il(e)&&ol(e),[2]}}))}))}function il(t){return Yc(t)&&!fl(t).cr()&&t.qr.length>0}function ol(t){fl(t).start()}function sl(t){return QA(this,void 0,void 0,(function(){return CA(this,(function(e){return fl(t).Sr(),[2]}))}))}function al(t){return QA(this,void 0,void 0,(function(){var e,n,r,A;return CA(this,(function(i){for(e=fl(t),n=0,r=t.qr;n<r.length;n++)A=r[n],e.vr(A.mutations);return[2]}))}))}function ul(t,e,n){return QA(this,void 0,void 0,(function(){var r,A;return CA(this,(function(i){switch(i.label){case 0:return r=t.qr.shift(),A=xa.from(r,e,n),[4,rl(t,(function(){return t.remoteSyncer.applySuccessfulWrite(A)}))];case 1:return i.sent(),[4,Al(t)];case 2:return i.sent(),[2]}}))}))}function cl(t,e){return QA(this,void 0,void 0,(function(){return CA(this,(function(n){switch(n.label){case 0:return e&&fl(t).br?[4,function(t,e){return QA(this,void 0,void 0,(function(){var n,r;return CA(this,(function(A){switch(A.label){case 0:return Yo(r=e.code)&&r!==qA.ABORTED?(n=t.qr.shift(),fl(t).hr(),[4,rl(t,(function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)}))]):[3,3];case 1:return A.sent(),[4,Al(t)];case 2:A.sent(),A.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return il(t)&&ol(t),[2]}}))}))}function ll(t,e){return QA(this,void 0,void 0,(function(){var n;return CA(this,(function(r){switch(r.label){case 0:return n=RA(t),e?(n.Qr.delete(2),[4,Vc(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Qr.add(2),[4,zc(n)]);case 3:r.sent(),n.jr.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function hl(t){var e=this;return t.zr||(t.zr=function(t,e,n){var r=RA(t);return r.Cr(),new Lc(e,r.er,r.credentials,r.D,n)}(t.datastore,t.asyncQueue,{Vi:$c.bind(null,t),Di:tl.bind(null,t),Tr:el.bind(null,t)}),t.Kr.push((function(n){return QA(e,void 0,void 0,(function(){return CA(this,(function(e){switch(e.label){case 0:return n?(t.zr.hr(),Wc(t)?jc(t):t.jr.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.zr.stop()];case 2:e.sent(),Zc(t),e.label=3;case 3:return[2]}}))}))}))),t.zr}function fl(t){var e=this;return t.Hr||(t.Hr=function(t,e,n){var r=RA(t);return r.Cr(),new Mc(e,r.er,r.credentials,r.D,n)}(t.datastore,t.asyncQueue,{Vi:sl.bind(null,t),Di:cl.bind(null,t),Vr:al.bind(null,t),Pr:ul.bind(null,t)}),t.Kr.push((function(n){return QA(e,void 0,void 0,(function(){return CA(this,(function(e){switch(e.label){case 0:return n?(t.Hr.hr(),[4,Al(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Hr.stop()];case 3:e.sent(),t.qr.length>0&&(NA("RemoteStore","Stopping write stream with "+t.qr.length+" pending writes"),t.qr=[]),e.label=4;case 4:return[2]}}))}))}))),t.Hr}var dl=function(){function t(t,e,n,r,A){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=A,this.deferred=new ba,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,r,A,i){var o=new t(e,n,Date.now()+r,A,i);return o.start(r),o},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new JA(qA.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function pl(t,e){if(TA("AsyncQueue",e+": "+t),_a(t))return new JA(qA.UNAVAILABLE,e+": "+t);throw t}var gl=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||$A.comparator(e.key,n.key)}:function(t,e){return $A.comparator(t.key,e.key)},this.keyedMap=as(),this.sortedSet=new $o(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var A=n.getNext().key,i=r.getNext().key;if(!A.isEqual(i))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Bl=function(){function t(){this.Jr=new $o($A.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Jr.get(e);n?0!==t.type&&3===n.type?this.Jr=this.Jr.insert(e,t):3===t.type&&1!==n.type?this.Jr=this.Jr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Jr=this.Jr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Jr=this.Jr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Jr=this.Jr.remove(e):1===t.type&&2===n.type?this.Jr=this.Jr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Jr=this.Jr.insert(e,{type:2,doc:t.doc}):SA():this.Jr=this.Jr.insert(e,t)},t.prototype.Yr=function(){var t=[];return this.Jr.inorderTraversal((function(e,n){t.push(n)})),t},t}(),wl=function(){function t(t,e,n,r,A,i,o,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=A,this.fromCache=i,this.syncStateChanged=o,this.excludesMetadataChanges=s}return t.fromInitialDocuments=function(e,n,r,A){var i=[];return n.forEach((function(t){i.push({type:0,doc:t})})),new t(e,n,gl.emptySet(n),i,r,A,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ro(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),yl=function(){this.Xr=void 0,this.listeners=[]},vl=function(){this.queries=new Fu((function(t){return Ao(t)}),ro),this.onlineState="Unknown",this.Zr=new Set};function ml(t,e){return QA(this,void 0,void 0,(function(){var n,r,A,i,o,s,a;return CA(this,(function(u){switch(u.label){case 0:if(n=RA(t),r=e.query,A=!1,(i=n.queries.get(r))||(A=!0,i=new yl),!A)return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),o=i,[4,n.onListen(r)];case 2:return o.Xr=u.sent(),[3,4];case 3:return s=u.sent(),a=pl(s,"Initialization of query '"+io(e.query)+"' failed"),[2,void e.onError(a)];case 4:return n.queries.set(r,i),i.listeners.push(e),e.eo(n.onlineState),i.Xr&&e.no(i.Xr)&&Ul(n),[2]}}))}))}function El(t,e){return QA(this,void 0,void 0,(function(){var n,r,A,i,o;return CA(this,(function(s){return n=RA(t),r=e.query,A=!1,(i=n.queries.get(r))&&(o=i.listeners.indexOf(e))>=0&&(i.listeners.splice(o,1),A=0===i.listeners.length),A?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function Ql(t,e){for(var n=RA(t),r=!1,A=0,i=e;A<i.length;A++){var o=i[A],s=o.query,a=n.queries.get(s);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].no(o)&&(r=!0);a.Xr=o}}r&&Ul(n)}function Cl(t,e,n){var r=RA(t),A=r.queries.get(e);if(A)for(var i=0,o=A.listeners;i<o.length;i++)o[i].onError(n);r.queries.delete(e)}function Ul(t){t.Zr.forEach((function(t){t.next()}))}var bl=function(){function t(t,e,n){this.query=t,this.so=e,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.no=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var A=r[n];3!==A.type&&e.push(A)}t=new wl(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var i=!1;return this.io?this.oo(t)&&(this.so.next(t),i=!0):this.co(t,this.onlineState)&&(this.ao(t),i=!0),this.ro=t,i},t.prototype.onError=function(t){this.so.error(t)},t.prototype.eo=function(t){this.onlineState=t;var e=!1;return this.ro&&!this.io&&this.co(this.ro,t)&&(this.ao(this.ro),e=!0),e},t.prototype.co=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.uo&&n||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.oo=function(t){if(t.docChanges.length>0)return!0;var e=this.ro&&this.ro.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.ao=function(t){t=wl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.io=!0,this.so.next(t)},t}(),Fl=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.ho=function(){return"metadata"in this.payload},t}(),Il=function(){function t(t){this.D=t}return t.prototype.Gn=function(t){return Ds(this.D,t)},t.prototype.zn=function(t){return t.metadata.exists?xs(this.D,t.document,!1):new Ci(this.Gn(t.metadata.name),this.Hn(t.metadata.readTime))},t.prototype.Hn=function(t){return Ts(t)},t}();!function(){function t(t,e,n){this.lo=t,this.localStore=e,this.D=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.fo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.wo=function(t){for(var e=new Map,n=new Il(this.D),r=0,A=t;r<A.length;r++){var i=A[r];if(i.metadata.queries)for(var o=n.Gn(i.metadata.name),s=0,a=i.metadata.queries;s<a.length;s++){var u=a[s],c=(e.get(u)||hs()).add(o);e.set(u,c)}}return e},t.prototype.complete=function(){return QA(this,void 0,void 0,(function(){var t,e,n,r,A;return CA(this,(function(i){switch(i.label){case 0:return[4,ic(this.localStore,new Il(this.D),this.documents,this.lo.id)];case 1:t=i.sent(),e=this.wo(this.documents),n=0,r=this.queries,i.label=2;case 2:return n<r.length?(A=r[n],[4,oc(this.localStore,A,e.get(A.name))]):[3,5];case 3:i.sent(),i.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Pu(Object.assign({},this.progress),t))]}}))}))}}();var Nl=function(t){this.key=t},Tl=function(t){this.key=t},Hl=function(){function t(t,e){this.query=t,this._o=e,this.mo=null,this.current=!1,this.yo=hs(),this.mutatedKeys=hs(),this.po=so(t),this.Eo=new gl(this.po)}return Object.defineProperty(t.prototype,"To",{get:function(){return this._o},enumerable:!1,configurable:!0}),t.prototype.Io=function(t,e){var n=this,r=e?e.Ao:new Bl,A=e?e.Eo:this.Eo,i=e?e.mutatedKeys:this.mutatedKeys,o=A,s=!1,a=ji(this.query)&&A.size===this.query.limit?A.last():null,u=Wi(this.query)&&A.size===this.query.limit?A.first():null;if(t.inorderTraversal((function(t,e){var c=A.get(t),l=e instanceof Qi?e:null;l&&(l=oo(n.query,l)?l:null);var h=!!c&&n.mutatedKeys.has(c.key),f=!!l&&(l.hasLocalMutations||n.mutatedKeys.has(l.key)&&l.hasCommittedMutations),d=!1;c&&l?c.data().isEqual(l.data())?h!==f&&(r.track({type:3,doc:l}),d=!0):n.Ro(c,l)||(r.track({type:2,doc:l}),d=!0,(a&&n.po(l,a)>0||u&&n.po(l,u)<0)&&(s=!0)):!c&&l?(r.track({type:0,doc:l}),d=!0):c&&!l&&(r.track({type:1,doc:c}),d=!0,(a||u)&&(s=!0)),d&&(l?(o=o.add(l),i=f?i.add(t):i.delete(t)):(o=o.delete(t),i=i.delete(t)))})),ji(this.query)||Wi(this.query))for(;o.size>this.query.limit;){var c=ji(this.query)?o.last():o.first();o=o.delete(c.key),i=i.delete(c.key),r.track({type:1,doc:c})}return{Eo:o,Ao:r,Mn:s,mutatedKeys:i}},t.prototype.Ro=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,A=this.Eo;this.Eo=t.Eo,this.mutatedKeys=t.mutatedKeys;var i=t.Ao.Yr();i.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return SA()}};return n(t)-n(e)}(t.type,e.type)||r.po(t.doc,e.doc)})),this.bo(n);var o=e?this.vo():[],s=0===this.yo.size&&this.current?1:0,a=s!==this.mo;return this.mo=s,0!==i.length||a?{snapshot:new wl(this.query,t.Eo,A,i,t.mutatedKeys,0===s,a,!1),Po:o}:{Po:o}},t.prototype.eo=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new Bl,mutatedKeys:this.mutatedKeys,Mn:!1},!1)):{Po:[]}},t.prototype.Vo=function(t){return!this._o.has(t)&&!!this.Eo.has(t)&&!this.Eo.get(t).hasLocalMutations},t.prototype.bo=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e._o=e._o.add(t)})),t.modifiedDocuments.forEach((function(t){})),t.removedDocuments.forEach((function(t){return e._o=e._o.delete(t)})),this.current=t.current)},t.prototype.vo=function(){var t=this;if(!this.current)return[];var e=this.yo;this.yo=hs(),this.Eo.forEach((function(e){t.Vo(e.key)&&(t.yo=t.yo.add(e.key))}));var n=[];return e.forEach((function(e){t.yo.has(e)||n.push(new Tl(e))})),this.yo.forEach((function(t){e.has(t)||n.push(new Nl(t))})),n},t.prototype.So=function(t){this._o=t.jn,this.yo=hs();var e=this.Io(t.documents);return this.applyChanges(e,!0)},t.prototype.Do=function(){return wl.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)},t}(),_l=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Sl=function(t){this.key=t,this.Co=!1},Dl=function(){function t(t,e,n,r,A,i){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=A,this.maxConcurrentLimboResolutions=i,this.xo={},this.No=new Fu((function(t){return Ao(t)}),ro),this.$o=new Map,this.Fo=new Set,this.Oo=new $o($A.comparator),this.ko=new Map,this.Mo=new ac,this.Lo={},this.Bo=new Map,this.qo=pu.ne(),this.onlineState="Unknown",this.Uo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Uo},enumerable:!1,configurable:!0}),t}();function Rl(t,e){return QA(this,void 0,void 0,(function(){var n,r,A,i,o,s;return CA(this,(function(a){switch(a.label){case 0:return n=ch(t),(i=n.No.get(e))?(r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),A=i.view.Do(),[3,4]):[3,1];case 1:return[4,$u(n.localStore,eo(e))];case 2:return o=a.sent(),s=n.sharedClientState.addLocalQueryTarget(o.targetId),r=o.targetId,[4,Kl(n,e,r,"current"===s)];case 3:A=a.sent(),n.isPrimaryClient&&Gc(n.remoteStore,o),a.label=4;case 4:return[2,A]}}))}))}function Kl(t,e,n,r){return QA(this,void 0,void 0,(function(){var A,i,o,s,a,u;return CA(this,(function(c){switch(c.label){case 0:return t.Qo=function(e,n,r){return function(t,e,n,r){return QA(this,void 0,void 0,(function(){var A,i,o;return CA(this,(function(s){switch(s.label){case 0:return(A=e.view.Io(n)).Mn?[4,ec(t.localStore,e.query,!1).then((function(t){var n=t.documents;return e.view.Io(n,A)}))]:[3,2];case 1:A=s.sent(),s.label=2;case 2:return i=r&&r.targetChanges.get(e.targetId),o=e.view.applyChanges(A,t.isPrimaryClient,i),[2,(jl(t,e.targetId,o.Po),o.snapshot)]}}))}))}(t,e,n,r)},[4,ec(t.localStore,e,!0)];case 1:return A=c.sent(),i=new Hl(e,A.jn),o=i.Io(A.documents),s=gs.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),a=i.applyChanges(o,t.isPrimaryClient,s),jl(t,n,a.Po),u=new _l(e,n,i),[2,(t.No.set(e,u),t.$o.has(n)?t.$o.get(n).push(e):t.$o.set(n,[e]),a.snapshot)]}}))}))}function Ol(t,e){return QA(this,void 0,void 0,(function(){var n,r,A;return CA(this,(function(i){switch(i.label){case 0:return n=RA(t),r=n.No.get(e),(A=n.$o.get(r.targetId)).length>1?[2,(n.$o.set(r.targetId,A.filter((function(t){return!ro(t,e)}))),void n.No.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,tc(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),Xc(n.remoteStore,r.targetId),ql(n,r.targetId)})).catch(vu)]):[3,3];case 1:i.sent(),i.label=2;case 2:return[3,5];case 3:return ql(n,r.targetId),[4,tc(n.localStore,r.targetId,!0)];case 4:i.sent(),i.label=5;case 5:return[2]}}))}))}function Ll(t,e,n){return QA(this,void 0,void 0,(function(){var r,A,i,o;return CA(this,(function(s){switch(s.label){case 0:r=lh(t),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(t,e){var n,r=RA(t),A=ii.now(),i=e.reduce((function(t,e){return t.add(e.key)}),hs());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Kn.bn(t,i).next((function(i){n=i;for(var o=[],s=0,a=e;s<a.length;s++){var u=a[s],c=Oo(u,n.get(u.key));null!=c&&o.push(new Po(u.key,c,fo(c.proto.mapValue),_o.exists(!0)))}return r.Tn.addMutationBatch(t,A,o,e)}))})).then((function(t){var e=t.applyToLocalDocumentSet(n);return{batchId:t.batchId,changes:e}}))}(r.localStore,e)];case 2:return A=s.sent(),r.sharedClientState.addPendingMutation(A.batchId),function(t,e,n){var r=t.Lo[t.currentUser.toKey()];r||(r=new $o(LA)),r=r.insert(e,n),t.Lo[t.currentUser.toKey()]=r}(r,A.batchId,n),[4,Zl(r,A.changes)];case 3:return s.sent(),[4,Al(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return i=s.sent(),o=pl(i,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}}))}))}function Ml(t,e){return QA(this,void 0,void 0,(function(){var n,r;return CA(this,(function(A){switch(A.label){case 0:n=RA(t),A.label=1;case 1:return A.trys.push([1,4,,6]),[4,Wu(n.localStore,e)];case 2:return r=A.sent(),e.targetChanges.forEach((function(t,e){var r=n.ko.get(e);r&&(DA(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.Co=!0:t.modifiedDocuments.size>0?DA(r.Co):t.removedDocuments.size>0&&(DA(r.Co),r.Co=!1))})),[4,Zl(n,r,e)];case 3:return A.sent(),[3,6];case 4:return[4,vu(A.sent())];case 5:return A.sent(),[3,6];case 6:return[2]}}))}))}function xl(t,e,n){var r=RA(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var A=[];r.No.forEach((function(t,n){var r=n.view.eo(e);r.snapshot&&A.push(r.snapshot)})),function(t,e){var n=RA(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var A=0,i=n.listeners;A<i.length;A++)i[A].eo(e)&&(r=!0)})),r&&Ul(n)}(r.eventManager,e),A.length&&r.xo.Tr(A),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Pl(t,e,n){return QA(this,void 0,void 0,(function(){var r,A,i,o,s,a;return CA(this,(function(u){switch(u.label){case 0:return(r=RA(t)).sharedClientState.updateQueryState(e,"rejected",n),A=r.ko.get(e),(i=A&&A.key)?(o=(o=new $o($A.comparator)).insert(i,new Ci(i,uo.min())),s=hs().add(i),a=new ps(uo.min(),new Map,new ns(LA),o,s),[4,Ml(r,a)]):[3,2];case 1:return u.sent(),r.Oo=r.Oo.remove(i),r.ko.delete(e),Yl(r),[3,4];case 2:return[4,tc(r.localStore,e,!1).then((function(){return ql(r,e,n)})).catch(vu)];case 3:u.sent(),u.label=4;case 4:return[2]}}))}))}function kl(t,e){return QA(this,void 0,void 0,(function(){var n,r,A;return CA(this,(function(i){switch(i.label){case 0:n=RA(t),r=e.batch.batchId,i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Ju(n.localStore,e)];case 2:return A=i.sent(),Xl(n,r,null),Gl(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Zl(n,A)];case 3:return i.sent(),[3,6];case 4:return[4,vu(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Vl(t,e,n){return QA(this,void 0,void 0,(function(){var r,A;return CA(this,(function(i){switch(i.label){case 0:r=RA(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,function(t,e){var n=RA(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.Tn.lookupMutationBatch(t,e).next((function(e){return DA(null!==e),r=e.keys(),n.Tn.removeMutationBatch(t,e)})).next((function(){return n.Tn.performConsistencyCheck(t)})).next((function(){return n.Kn.bn(t,r)}))}))}(r.localStore,e)];case 2:return A=i.sent(),Xl(r,e,n),Gl(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Zl(r,A)];case 3:return i.sent(),[3,6];case 4:return[4,vu(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function zl(t,e){return QA(this,void 0,void 0,(function(){var n,r,A,i,o;return CA(this,(function(s){switch(s.label){case 0:Yc((n=RA(t)).remoteStore)||NA("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(t){var e=RA(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.Tn.getHighestUnacknowledgedBatchId(t)}))}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void e.resolve()]:((A=n.Bo.get(r)||[]).push(e),n.Bo.set(r,A),[3,4]);case 3:return i=s.sent(),o=pl(i,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}}))}))}function Gl(t,e){(t.Bo.get(e)||[]).forEach((function(t){t.resolve()})),t.Bo.delete(e)}function Xl(t,e,n){var r=RA(t),A=r.Lo[r.currentUser.toKey()];if(A){var i=A.get(e);i&&(n?i.reject(n):i.resolve(),A=A.remove(e)),r.Lo[r.currentUser.toKey()]=A}}function ql(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,A=t.$o.get(e);r<A.length;r++){var i=A[r];t.No.delete(i),n&&t.xo.Ko(i,n)}t.$o.delete(e),t.isPrimaryClient&&t.Mo.os(e).forEach((function(e){t.Mo.containsKey(e)||Jl(t,e)}))}function Jl(t,e){t.Fo.delete(e.path.canonicalString());var n=t.Oo.get(e);null!==n&&(Xc(t.remoteStore,n),t.Oo=t.Oo.remove(e),t.ko.delete(n),Yl(t))}function jl(t,e,n){for(var r=0,A=n;r<A.length;r++){var i=A[r];i instanceof Nl?(t.Mo.addReference(i.key,e),Wl(t,i)):i instanceof Tl?(NA("SyncEngine","Document no longer in limbo: "+i.key),t.Mo.removeReference(i.key,e),t.Mo.containsKey(i.key)||Jl(t,i.key)):SA()}}function Wl(t,e){var n=e.key,r=n.path.canonicalString();t.Oo.get(n)||t.Fo.has(r)||(NA("SyncEngine","New document in limbo: "+n),t.Fo.add(r),Yl(t))}function Yl(t){for(;t.Fo.size>0&&t.Oo.size<t.maxConcurrentLimboResolutions;){var e=t.Fo.values().next().value;t.Fo.delete(e);var n=new $A(WA.fromString(e)),r=t.qo.next();t.ko.set(r,new Sl(n)),t.Oo=t.Oo.insert(n,r),Gc(t.remoteStore,new Pa(eo(Ji(n.path)),r,2,bA.o))}}function Zl(t,e,n){return QA(this,void 0,void 0,(function(){var r,A,i,o;return CA(this,(function(s){switch(s.label){case 0:return r=RA(t),A=[],i=[],o=[],r.No.isEmpty()?[3,3]:(r.No.forEach((function(t,s){o.push(r.Qo(s,e,n).then((function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,t.fromCache?"not-current":"current"),A.push(t);var e=Vu.Nn(s.targetId,t);i.push(e)}})))})),[4,Promise.all(o)]);case 1:return s.sent(),r.xo.Tr(A),[4,function(t,e){return QA(this,void 0,void 0,(function(){var n,r,A,i,o,s,a,u,c;return CA(this,(function(l){switch(l.label){case 0:n=RA(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return Fa.forEach(e,(function(e){return Fa.forEach(e.Cn,(function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)})).next((function(){return Fa.forEach(e.xn,(function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!_a(r=l.sent()))throw r;return NA("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(A=0,i=e;A<i.length;A++)o=i[A],s=o.targetId,o.fromCache||(a=n.Bn.get(s),u=a.snapshotVersion,c=a.withLastLimboFreeSnapshotVersion(u),n.Bn=n.Bn.insert(s,c));return[2]}}))}))}(r.localStore,i)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function $l(t,e){return QA(this,void 0,void 0,(function(){var n,r;return CA(this,(function(A){switch(A.label){case 0:return(n=RA(t)).currentUser.isEqual(e)?[3,3]:(NA("SyncEngine","User change. New user:",e.toKey()),[4,qu(n.localStore,e)]);case 1:return r=A.sent(),n.currentUser=e,function(t,e){t.Bo.forEach((function(t){t.forEach((function(t){t.reject(new JA(qA.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Bo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Zl(n,r.Wn)];case 2:A.sent(),A.label=3;case 3:return[2]}}))}))}function th(t,e){var n=RA(t),r=n.ko.get(e);if(r&&r.Co)return hs().add(r.key);var A=hs(),i=n.$o.get(e);if(!i)return A;for(var o=0,s=i;o<s.length;o++){var a=s[o],u=n.No.get(a);A=A.unionWith(u.view.To)}return A}function eh(t,e){return QA(this,void 0,void 0,(function(){var n,r,A;return CA(this,(function(i){switch(i.label){case 0:return[4,ec((n=RA(t)).localStore,e.query,!0)];case 1:return r=i.sent(),A=e.view.So(r),[2,(n.isPrimaryClient&&jl(n,e.targetId,A.Po),A)]}}))}))}function nh(t){return QA(this,void 0,void 0,(function(){var e;return CA(this,(function(n){return[2,rc((e=RA(t)).localStore).then((function(t){return Zl(e,t)}))]}))}))}function rh(t,e,n,r){return QA(this,void 0,void 0,(function(){var A,i;return CA(this,(function(o){switch(o.label){case 0:return[4,function(t,e){var n=RA(t),r=RA(n.Tn);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.Jt(t,e).next((function(e){return e?n.Kn.bn(t,e):Fa.resolve(null)}))}))}((A=RA(t)).localStore,e)];case 1:return null===(i=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,Al(A.remoteStore)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Xl(A,e,r||null),Gl(A,e),function(t,e){RA(RA(t).Tn).Xt(e)}(A.localStore,e)):SA(),o.label=4;case 4:return[4,Zl(A,i)];case 5:return o.sent(),[3,7];case 6:NA("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}}))}))}function Ah(t,e){return QA(this,void 0,void 0,(function(){var n,r,A,i,o,s,a,u;return CA(this,(function(c){switch(c.label){case 0:return ch(n=RA(t)),lh(n),!0!==e||!0===n.Uo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,ih(n,r.toArray())]);case 1:return A=c.sent(),n.Uo=!0,[4,ll(n.remoteStore,!0)];case 2:for(c.sent(),i=0,o=A;i<o.length;i++)s=o[i],Gc(n.remoteStore,s);return[3,7];case 3:return!1!==e||!1===n.Uo?[3,7]:(a=[],u=Promise.resolve(),n.$o.forEach((function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then((function(){return ql(n,e),tc(n.localStore,e,!0)})),Xc(n.remoteStore,e)})),[4,u]);case 4:return c.sent(),[4,ih(n,a)];case 5:return c.sent(),function(t){var e=RA(t);e.ko.forEach((function(t,n){Xc(e.remoteStore,n)})),e.Mo.cs(),e.ko=new Map,e.Oo=new $o($A.comparator)}(n),n.Uo=!1,[4,ll(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}}))}))}function ih(t,e,n){return QA(this,void 0,void 0,(function(){var n,r,A,i,o,s,a,u,c,l,h,f,d,p;return CA(this,(function(g){switch(g.label){case 0:n=RA(t),r=[],A=[],i=0,o=e,g.label=1;case 1:return i<o.length?(s=o[i],a=void 0,(u=n.$o.get(s))&&0!==u.length?[4,$u(n.localStore,eo(u[0]))]:[3,7]):[3,13];case 2:a=g.sent(),c=0,l=u,g.label=3;case 3:return c<l.length?(h=l[c],f=n.No.get(h),[4,eh(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&A.push(d.snapshot),g.label=5;case 5:return c++,[3,3];case 6:return[3,11];case 7:return[4,nc(n.localStore,s)];case 8:return p=g.sent(),[4,$u(n.localStore,p)];case 9:return a=g.sent(),[4,Kl(n,oh(p),s,!1)];case 10:g.sent(),g.label=11;case 11:r.push(a),g.label=12;case 12:return i++,[3,1];case 13:return[2,(n.xo.Tr(A),r)]}}))}))}function oh(t){return qi(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function sh(t){var e=RA(t);return RA(RA(e.localStore).persistence).gn()}function ah(t,e,n,r){return QA(this,void 0,void 0,(function(){var A,i,o;return CA(this,(function(s){switch(s.label){case 0:return(A=RA(t)).Uo?(NA("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!A.$o.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,rc(A.localStore)];case 3:return i=s.sent(),o=ps.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Zl(A,i,o)];case 4:return s.sent(),[3,8];case 5:return[4,tc(A.localStore,e,!0)];case 6:return s.sent(),ql(A,e,r),[3,8];case 7:SA(),s.label=8;case 8:return[2]}}))}))}function uh(t,e,n){return QA(this,void 0,void 0,(function(){var r,A,i,o,s,a,u,c,l,h;return CA(this,(function(f){switch(f.label){case 0:if(!(r=ch(t)).Uo)return[3,10];A=0,i=e,f.label=1;case 1:return A<i.length?(o=i[A],r.$o.has(o)?(NA("SyncEngine","Adding an already active target "+o),[3,5]):[4,nc(r.localStore,o)]):[3,6];case 2:return s=f.sent(),[4,$u(r.localStore,s)];case 3:return a=f.sent(),[4,Kl(r,oh(s),a.targetId,!1)];case 4:f.sent(),Gc(r.remoteStore,a),f.label=5;case 5:return A++,[3,1];case 6:u=function(t){return CA(this,(function(e){switch(e.label){case 0:return r.$o.has(t)?[4,tc(r.localStore,t,!1).then((function(){Xc(r.remoteStore,t),ql(r,t)})).catch(vu)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},c=0,l=n,f.label=7;case 7:return c<l.length?(h=l[c],[5,u(h)]):[3,10];case 8:f.sent(),f.label=9;case 9:return c++,[3,7];case 10:return[2]}}))}))}function ch(t){var e=RA(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ml.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=th.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Pl.bind(null,e),e.xo.Tr=Ql.bind(null,e.eventManager),e.xo.Ko=Cl.bind(null,e.eventManager),e}function lh(t){var e=RA(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kl.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Vl.bind(null,e),e}var hh=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return QA(this,void 0,void 0,(function(){return CA(this,(function(e){switch(e.label){case 0:return this.D=Rc(t.databaseInfo.databaseId),this.sharedClientState=this.jo(t),this.persistence=this.Go(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.zo(t),this.localStore=this.Ho(t),[2]}}))}))},t.prototype.zo=function(t){return null},t.prototype.Ho=function(t){return Xu(this.persistence,new zu,t.initialUser,this.D)},t.prototype.Go=function(t){return new dc(gc.Cs,this.D)},t.prototype.jo=function(t){return new Fc},t.prototype.terminate=function(){return QA(this,void 0,void 0,(function(){return CA(this,(function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}}))}))},t}(),fh=function(t){function e(e,n,r){var A=this;return(A=t.call(this)||this).Jo=e,A.cacheSizeBytes=n,A.forceOwnership=r,A.synchronizeTabs=!1,A}return EA(e,t),e.prototype.initialize=function(e){return QA(this,void 0,void 0,(function(){return CA(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Ac(this.localStore)];case 2:return n.sent(),[4,this.Jo.initialize(this,e)];case 3:return n.sent(),[4,lh(this.Jo.syncEngine)];case 4:return n.sent(),[4,Al(this.Jo.remoteStore)];case 5:return n.sent(),[2]}}))}))},e.prototype.Ho=function(t){return Xu(this.persistence,new zu,t.initialUser,this.D)},e.prototype.zo=function(t){var e=this.persistence.referenceDelegate.garbageCollector;return new Qu(e,t.asyncQueue)},e.prototype.Go=function(t){var e=xu(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?su.withCacheSize(this.cacheSizeBytes):su.DEFAULT;return new Ou(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Sc(),Dc(),this.D,this.sharedClientState,!!this.forceOwnership)},e.prototype.jo=function(t){return new Fc},e}(hh),dh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Jo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return EA(e,t),e.prototype.initialize=function(e){return QA(this,void 0,void 0,(function(){var n,r=this;return CA(this,(function(A){switch(A.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return A.sent(),n=this.Jo.syncEngine,this.sharedClientState instanceof bc?(this.sharedClientState.syncEngine={wi:rh.bind(null,n),_i:ah.bind(null,n),mi:uh.bind(null,n),gn:sh.bind(null,n),di:nh.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:A.sent(),A.label=3;case 3:return[4,this.persistence.en((function(t){return QA(r,void 0,void 0,(function(){return CA(this,(function(e){switch(e.label){case 0:return[4,Ah(this.Jo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return A.sent(),[2]}}))}))},e.prototype.jo=function(t){var e=Sc();if(!bc.At(e))throw new JA(qA.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=xu(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new bc(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(fh),ph=function(){function t(){}return t.prototype.initialize=function(t,e){return QA(this,void 0,void 0,(function(){var n=this;return CA(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return xl(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=$l.bind(null,this.syncEngine),[4,ll(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.createEventManager=function(t){return new vl},t.prototype.createDatastore=function(t){var e,n=Rc(t.databaseInfo.databaseId),r=(e=t.databaseInfo,new _c(e));return function(t,e,n){return new xc(t,e,n)}(t.credentials,r,n)},t.prototype.createRemoteStore=function(t){var e,n,r,A,i,o=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,A=function(t){return xl(o.syncEngine,t,0)},i=Nc.At()?new Nc:new Ic,new kc(e,n,r,A,i)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,A,i,o){var s=new Dl(t,e,n,r,A,i);return o&&(s.Uo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return QA(this,void 0,void 0,(function(){var e;return CA(this,(function(n){switch(n.label){case 0:return e=RA(t),NA("RemoteStore","RemoteStore shutting down."),e.Qr.add(5),[4,zc(e)];case 1:return n.sent(),e.Wr.shutdown(),e.jr.set("Unknown"),[2]}}))}))}(this.remoteStore)},t}(),gh=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.Yo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.Yo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Xo=function(){this.muted=!0},t.prototype.Yo=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),Bh=(function(){function t(t,e){var n=this;this.Zo=t,this.D=e,this.metadata=new ba,this.buffer=new Uint8Array,this.tc=new TextDecoder("utf-8"),this.ec().then((function(t){t&&t.ho()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}t.prototype.close=function(){return this.Zo.cancel()},t.prototype.getMetadata=function(){return QA(this,void 0,void 0,(function(){return CA(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Wo=function(){return QA(this,void 0,void 0,(function(){return CA(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.ec())]}}))}))},t.prototype.ec=function(){return QA(this,void 0,void 0,(function(){var t,e,n,r;return CA(this,(function(A){switch(A.label){case 0:return[4,this.nc()];case 1:return null===(t=A.sent())?[2,null]:(e=this.tc.decode(t),n=Number(e),isNaN(n)&&this.sc("length string ("+e+") is not valid number"),[4,this.ic(n)]);case 2:return r=A.sent(),[2,new Fl(JSON.parse(r),t.length+n)]}}))}))},t.prototype.rc=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.nc=function(){return QA(this,void 0,void 0,(function(){var t,e;return CA(this,(function(n){switch(n.label){case 0:return this.rc()<0?[4,this.oc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.rc())<0&&this.sc("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.ic=function(t){return QA(this,void 0,void 0,(function(){var e;return CA(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.oc()]:[3,3];case 1:n.sent()&&this.sc("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.tc.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.sc=function(t){throw this.Zo.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.oc=function(){return QA(this,void 0,void 0,(function(){var t,e;return CA(this,(function(n){switch(n.label){case 0:return[4,this.Zo.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return QA(this,void 0,void 0,(function(){var e,n=this;return CA(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new JA(qA.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return QA(this,void 0,void 0,(function(){var n,r,A,i,o,s;return CA(this,(function(a){switch(a.label){case 0:return n=RA(t),r=Os(n.D)+"/documents",A={documents:e.map((function(t){return Ss(n.D,t)}))},[4,n.Ui("BatchGetDocuments",r,A)];case 1:return i=a.sent(),o=new Map,i.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){DA(!!e.found),e.found.name,e.found.updateTime;var n=Ds(t,e.found.name),r=Ts(e.found.updateTime),A=new lo({mapValue:{fields:e.found.fields}});return new Qi(n,r,A,{})}(t,e):"missing"in e?function(t,e){DA(!!e.missing),DA(!!e.readTime);var n=Ds(t,e.missing),r=Ts(e.readTime);return new Ci(n,r)}(t,e):SA()}(n.D,t);o.set(e.key.toString(),e)})),s=[],[2,(e.forEach((function(t){var e=o.get(t.toString());DA(!!e),s.push(e)})),s)]}}))}))}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof Ci||t instanceof Qi?n.recordVersion(t):SA()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Jo(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return QA(this,void 0,void 0,(function(){var t,e=this;return CA(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=$A.fromPath(n);e.mutations.push(new jo(r,e.precondition(r)))})),[4,function(t,e){return QA(this,void 0,void 0,(function(){var n,r,A;return CA(this,(function(i){switch(i.label){case 0:return n=RA(t),r=Os(n.D)+"/documents",A={writes:e.map((function(t){return Ps(n.D,t)}))},[4,n.Mi("Commit",r,A)];case 1:return i.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},t.prototype.recordVersion=function(t){var e;if(t instanceof Qi)e=t.version;else{if(!(t instanceof Ci))throw SA();e=uo.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new JA(qA.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?_o.updateTime(e):_o.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(uo.min()))throw new JA(qA.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return _o.updateTime(e)}return _o.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),wh=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.cc=5,this.rr=new Kc(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ac()},t.prototype.ac=function(){var t=this;this.rr.Yi((function(){return QA(t,void 0,void 0,(function(){var t,e,n=this;return CA(this,(function(r){return t=new Bh(this.datastore),(e=this.uc(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.hc(t)}))}))})).catch((function(t){n.hc(t)})),[2]}))}))}))},t.prototype.uc=function(t){try{var e=this.updateFunction(t);return!zA(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.hc=function(t){var e=this;this.cc>0&&this.lc(t)?(this.cc-=1,this.asyncQueue.enqueueAndForget((function(){return e.ac(),Promise.resolve()}))):this.deferred.reject(t)},t.prototype.lc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Yo(e)}return!1},t}(),yh=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Bc.UNAUTHENTICATED,this.clientId=OA.u(),this.credentialListener=function(){},this.receivedInitialUser=new ba,this.credentials.setChangeListener((function(t){NA("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()}))}return t.prototype.getConfiguration=function(){return QA(this,void 0,void 0,(function(){return CA(this,(function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}}))}))},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then((function(){return e.credentialListener(e.user)}))},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new JA(qA.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new ba;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return QA(t,void 0,void 0,(function(){var t,n;return CA(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=pl(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function vh(t,e){return QA(this,void 0,void 0,(function(){var n,r,A=this;return CA(this,(function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),NA("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=i.sent(),[4,e.initialize(n)];case 2:return i.sent(),r=n.initialUser,t.setCredentialChangeListener((function(n){r.isEqual(n)||(r=n,t.asyncQueue.enqueueRetryable((function(){return QA(A,void 0,void 0,(function(){return CA(this,(function(t){switch(t.label){case 0:return[4,qu(e.localStore,n)];case 1:return t.sent(),[2]}}))}))})))})),e.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=e,[2]}}))}))}function mh(t,e){return QA(this,void 0,void 0,(function(){var n,r;return CA(this,(function(A){switch(A.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Eh(t)];case 1:return n=A.sent(),NA("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=A.sent(),[4,e.initialize(n,r)];case 3:return A.sent(),t.setCredentialChangeListener((function(n){return t.asyncQueue.enqueueRetryable((function(){return function(t,e){return QA(this,void 0,void 0,(function(){var n,r;return CA(this,(function(A){switch(A.label){case 0:return(n=RA(t)).asyncQueue.verifyOperationInProgress(),NA("RemoteStore","RemoteStore received new credentials"),r=Yc(n),n.Qr.add(3),[4,zc(n)];case 1:return A.sent(),r&&n.jr.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return A.sent(),n.Qr.delete(3),[4,Vc(n)];case 3:return A.sent(),[2]}}))}))}(e.remoteStore,n)}))})),t.onlineComponents=e,[2]}}))}))}function Eh(t){return QA(this,void 0,void 0,(function(){return CA(this,(function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(NA("FirestoreClient","Using default OfflineComponentProvider"),[4,vh(t,new hh)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}}))}))}function Qh(t){return QA(this,void 0,void 0,(function(){return CA(this,(function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(NA("FirestoreClient","Using default OnlineComponentProvider"),[4,mh(t,new ph)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}}))}))}function Ch(t){return Eh(t).then((function(t){return t.persistence}))}function Uh(t){return Eh(t).then((function(t){return t.localStore}))}function bh(t){return Qh(t).then((function(t){return t.remoteStore}))}function Fh(t){return Qh(t).then((function(t){return t.syncEngine}))}function Ih(t){return QA(this,void 0,void 0,(function(){var e,n;return CA(this,(function(r){switch(r.label){case 0:return[4,Qh(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Rl.bind(null,e.syncEngine),n.onUnlisten=Ol.bind(null,e.syncEngine),n)]}}))}))}function Nh(t,e,n){var r=this;void 0===n&&(n={});var A=new ba;return t.asyncQueue.enqueueAndForget((function(){return QA(r,void 0,void 0,(function(){var r;return CA(this,(function(i){switch(i.label){case 0:return r=function(t,e,n,r,A){var i=new gh({next:function(i){e.enqueueAndForget((function(){return El(t,o)}));var s=i.docs.has(n);!s&&i.fromCache?A.reject(new JA(qA.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&i.fromCache&&r&&"server"===r.source?A.reject(new JA(qA.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):A.resolve(i)},error:function(t){return A.reject(t)}}),o=new bl(Ji(n.path),i,{includeMetadataChanges:!0,uo:!0});return ml(t,o)},[4,Ih(t)];case 1:return[2,r.apply(void 0,[i.sent(),t.asyncQueue,e,n,A])]}}))}))})),A.promise}function Th(t,e,n){var r=this;void 0===n&&(n={});var A=new ba;return t.asyncQueue.enqueueAndForget((function(){return QA(r,void 0,void 0,(function(){var r;return CA(this,(function(i){switch(i.label){case 0:return r=function(t,e,n,r,A){var i=new gh({next:function(n){e.enqueueAndForget((function(){return El(t,o)})),n.fromCache&&"server"===r.source?A.reject(new JA(qA.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):A.resolve(n)},error:function(t){return A.reject(t)}}),o=new bl(n,i,{includeMetadataChanges:!0,uo:!0});return ml(t,o)},[4,Ih(t)];case 1:return[2,r.apply(void 0,[i.sent(),t.asyncQueue,e,n,A])]}}))}))})),A.promise}var Hh=function(t,e,n,r,A,i){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=A,this.autoDetectLongPolling=i},_h=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Sh=new Map,Dh=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Rh=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(Bc.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Kh=function(){function t(t){var e=this;this.fc=null,this.currentUser=Bc.UNAUTHENTICATED,this.receivedInitialUser=!1,this.dc=0,this.changeListener=null,this.forceRefresh=!1,this.fc=function(){e.dc++,e.currentUser=e.wc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.dc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.fc):(this.fc(null),t.get().then((function(t){e.auth=t,e.fc&&e.auth.addAuthTokenListener(e.fc)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.dc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.dc!==e?(NA("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(DA("string"==typeof n.accessToken),new Dh(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.fc),this.fc=null,this.changeListener=null},t.prototype.wc=function(){var t=this.auth&&this.auth.getUid();return DA(null===t||"string"==typeof t),new Bc(t)},t}(),Oh=function(){function t(t,e){this._c=t,this.mc=e,this.type="FirstParty",this.user=Bc.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.mc},e=this._c.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Lh=function(){function t(t,e){this._c=t,this.mc=e}return t.prototype.getToken=function(){return Promise.resolve(new Oh(this._c,this.mc))},t.prototype.setChangeListener=function(t){t(Bc.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Mh(t,e,n){if(!n)throw new JA(qA.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function xh(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new JA(qA.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Ph(t,e,n,r){if(!0===e&&!0===r)throw new JA(qA.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function kh(t){if(!$A.isDocumentKey(t))throw new JA(qA.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Vh(t){if($A.isDocumentKey(t))throw new JA(qA.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function zh(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":SA()}function Gh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new JA(qA.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=zh(t);throw new JA(qA.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Xh(t,e){if(e<=0)throw new JA(qA.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var qh=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new JA(qA.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new JA(qA.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Ph("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Jh=function(){function t(t,e){this._persistenceKey="(lite)",this._settings=new qh({}),this._settingsFrozen=!1,t instanceof _h?(this._databaseId=t,this._credentials=new Rh):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new JA(qA.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _h(t.options.projectId)}(t),this._credentials=new Kh(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new JA(qA.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new JA(qA.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qh(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Rh;switch(t.type){case"gapi":var e=t.client;return DA(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Lh(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new JA(qA.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=Sh.get(this))&&(NA("ComponentProvider","Removing Datastore"),Sh.delete(this),t.terminate()),Promise.resolve();var t},t}(),jh=function(t){this._delegate=t},Wh=function(){function t(t,e,n){this._converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Zh(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Yh=function(){function t(t,e,n){this._converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Zh=function(t){function e(e,n,r){var A=this;return(A=t.call(this,e,n,Ji(r))||this).firestore=e,A._path=r,A.type="collection",A}return EA(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Wh(this.firestore,null,new $A(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Yh);function $h(t,e){for(var n,r=[],A=2;A<arguments.length;A++)r[A-2]=arguments[A];if(t instanceof jh&&(t=t._delegate),Mh("collection","path",e),t instanceof Jh)return Vh(n=WA.fromString.apply(WA,UA([e],r))),new Zh(t,null,n);if(!(t instanceof Wh||t instanceof Zh))throw new JA(qA.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Vh(n=WA.fromString.apply(WA,UA([t.path],r)).child(WA.fromString(e))),new Zh(t.firestore,null,n)}function tf(t,e){for(var n,r=[],A=2;A<arguments.length;A++)r[A-2]=arguments[A];if(t instanceof jh&&(t=t._delegate),1===arguments.length&&(e=OA.u()),Mh("doc","path",e),t instanceof Jh)return kh(n=WA.fromString.apply(WA,UA([e],r))),new Wh(t,null,new $A(n));if(!(t instanceof Wh||t instanceof Zh))throw new JA(qA.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return kh(n=t._path.child(WA.fromString.apply(WA,UA([e],r)))),new Wh(t.firestore,t instanceof Zh?t._converter:null,new $A(n))}function ef(t,e){return t instanceof jh&&(t=t._delegate),e instanceof jh&&(e=e._delegate),(t instanceof Wh||t instanceof Zh)&&(e instanceof Wh||e instanceof Zh)&&t.firestore===e.firestore&&t.path===e.path&&t._converter===e._converter}function nf(t,e){return t instanceof jh&&(t=t._delegate),e instanceof jh&&(e=e._delegate),t instanceof Yh&&e instanceof Yh&&t.firestore===e.firestore&&ro(t._query,e._query)&&t._converter===e._converter}var rf=function(){function t(){var t=this;this.yc=Promise.resolve(),this.gc=[],this.Ec=!1,this.Tc=[],this.Ic=null,this.Ac=!1,this.Rc=[],this.rr=new Kc(this,"async_queue_retry"),this.bc=function(){var e=Dc();e&&NA("AsyncQueue","Visibility state changed to "+e.visibilityState),t.rr.Zi()};var e=Dc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.bc)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.Ec},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.vc(),this.Pc(t)},t.prototype.enterRestrictedMode=function(){if(!this.Ec){this.Ec=!0;var t=Dc();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}},t.prototype.enqueue=function(t){return this.vc(),this.Ec?new Promise((function(t){})):this.Pc(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget((function(){return e.gc.push(t),e.Vc()}))},t.prototype.Vc=function(){return QA(this,void 0,void 0,(function(){var t,e=this;return CA(this,(function(n){switch(n.label){case 0:if(0===this.gc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.gc[0]()];case 2:return n.sent(),this.gc.shift(),this.rr.reset(),[3,4];case 3:if(!_a(t=n.sent()))throw t;return NA("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.gc.length>0&&this.rr.Yi((function(){return e.Vc()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Pc=function(t){var e=this,n=this.yc.then((function(){return e.Ac=!0,t().catch((function(t){throw e.Ic=t,e.Ac=!1,TA("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.Ac=!1,t}))}));return this.yc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.vc(),this.Rc.indexOf(t)>-1&&(e=0);var A=dl.createAndSchedule(this,t,e,n,(function(t){return r.Sc(t)}));return this.Tc.push(A),A},t.prototype.vc=function(){this.Ic&&SA()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Dc=function(){return QA(this,void 0,void 0,(function(){var t;return CA(this,(function(e){switch(e.label){case 0:return[4,t=this.yc];case 1:e.sent(),e.label=2;case 2:if(t!==this.yc)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Cc=function(t){for(var e=0,n=this.Tc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.xc=function(t){var e=this;return this.Dc().then((function(){e.Tc.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,r=e.Tc;n<r.length;n++){var A=r[n];if(A.skipDelay(),"all"!==t&&A.timerId===t)break}return e.Dc()}))},t.prototype.Nc=function(t){this.Rc.push(t)},t.prototype.Sc=function(t){var e=this.Tc.indexOf(t);this.Tc.splice(e,1)},t}();function Af(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,A=["next","error","complete"];r<A.length;r++){var i=A[r];if(i in n&&"function"==typeof n[i])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new ba,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var of=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._queue=new rf,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return EA(e,t),e.prototype._terminate=function(){return this._firestoreClient||af(this),this._firestoreClient.terminate()},e}(Jh);function sf(t){return t._firestoreClient||af(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function af(t){var e=t._freezeSettings(),n=function(t,e,n){return new Hh(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t._databaseId,t._persistenceKey,e);t._firestoreClient=new yh(t._credentials,t._queue,n)}function uf(t,e,n){var r=this,A=new ba;return t.asyncQueue.enqueue((function(){return QA(r,void 0,void 0,(function(){var r;return CA(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,vh(t,n)];case 1:return i.sent(),[4,mh(t,e)];case 2:return i.sent(),A.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===qA.FAILED_PRECONDITION||t.code===qA.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=i.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),A.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return A.promise}))}function cf(t){if(t._initialized||t._terminated)throw new JA(qA.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var lf=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new JA(qA.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ZA(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),hf=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(ti.fromBase64String(e))}catch(e){throw new JA(qA.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(ti.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),ff=function(t){this._methodName=t},df=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new JA(qA.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new JA(qA.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return LA(this._lat,t._lat)||LA(this._long,t._long)},t}(),pf=/^__.*__$/,gf=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Po(t,this.data,this.fieldMask,e,this.fieldTransforms):new xo(t,this.data,e,this.fieldTransforms)},t}(),Bf=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Po(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function wf(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw SA()}}var yf=function(){function t(t,e,n,r,A,i){this.settings=t,this.databaseId=e,this.D=n,this.ignoreUndefinedProperties=r,void 0===A&&this.$c(),this.fieldTransforms=A||[],this.fieldMask=i||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Fc",{get:function(){return this.settings.Fc},enumerable:!1,configurable:!0}),t.prototype.Oc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.D,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Oc({path:n,Mc:!1});return r.Lc(t),r},t.prototype.Bc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Oc({path:n,Mc:!1});return r.$c(),r},t.prototype.qc=function(t){return this.Oc({path:void 0,Mc:!0})},t.prototype.Uc=function(t){return Mf(t,this.settings.methodName,this.settings.Qc||!1,this.path,this.settings.Kc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.$c=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Lc(this.path.get(t))},t.prototype.Lc=function(t){if(0===t.length)throw this.Uc("Document fields must not be empty");if(wf(this.Fc)&&pf.test(t))throw this.Uc('Document fields cannot begin and end with "__"')},t}(),vf=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.D=n||Rc(t)}return t.prototype.Wc=function(t,e,n,r){return void 0===r&&(r=!1),new yf({Fc:t,methodName:e,Kc:n,path:ZA.emptyPath(),Mc:!1,Qc:r},this.databaseId,this.D,this.ignoreUndefinedProperties)},t}();function mf(t){var e=t._freezeSettings(),n=Rc(t._databaseId);return new vf(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Ef(t,e,n,r,A,i){void 0===i&&(i={});var o=t.Wc(i.merge||i.mergeFields?2:0,e,n,A);Rf("Data must be an object, but it was:",o,r);var s,a,u=Sf(r,o);if(i.merge)s=new co(o.fieldMask),a=o.fieldTransforms;else if(i.mergeFields){for(var c=[],l=0,h=i.mergeFields;l<h.length;l++){var f=Kf(e,h[l],n);if(!o.contains(f))throw new JA(qA.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");xf(c,f)||c.push(f)}s=new co(c),a=o.fieldTransforms.filter((function(t){return s.covers(t.field)}))}else s=null,a=o.fieldTransforms;return new gf(new lo(u),s,a)}var Qf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return EA(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Fc)throw 1===t.Fc?t.Uc(this._methodName+"() can only appear at the top level of your update data"):t.Uc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(ff);function Cf(t,e,n){return new yf({Fc:3,Kc:e.settings.Kc,methodName:t._methodName,Mc:n},e.databaseId,e.D,e.ignoreUndefinedProperties)}var Uf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return EA(e,t),e.prototype._toFieldTransform=function(t){return new To(t.path,new Eo)},e.prototype.isEqual=function(t){return t instanceof e},e}(ff),bf=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).jc=n,r}return EA(e,t),e.prototype._toFieldTransform=function(t){var e=Cf(this,t,!0),n=this.jc.map((function(t){return _f(t,e)})),r=new Qo(n);return new To(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(ff),Ff=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).jc=n,r}return EA(e,t),e.prototype._toFieldTransform=function(t){var e=Cf(this,t,!0),n=this.jc.map((function(t){return _f(t,e)})),r=new Uo(n);return new To(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(ff),If=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Gc=n,r}return EA(e,t),e.prototype._toFieldTransform=function(t){var e=new Fo(t.D,Bo(t.D,this.Gc));return new To(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(ff);function Nf(t,e,n,r){var A=t.Wc(1,e,n);Rf("Data must be an object, but it was:",A,r);var i=[],o=new ho;kA(r,(function(t,r){var s=Lf(e,t,n);r instanceof jh&&(r=r._delegate);var a=A.Bc(s);if(r instanceof Qf)i.push(s);else{var u=_f(r,a);null!=u&&(i.push(s),o.set(s,u))}}));var s=new co(i);return new Bf(o.v(),s,A.fieldTransforms)}function Tf(t,e,n,r,A,i){var o=t.Wc(1,e,n),s=[Kf(e,r,n)],a=[A];if(i.length%2!=0)throw new JA(qA.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var u=0;u<i.length;u+=2)s.push(Kf(e,i[u])),a.push(i[u+1]);for(var c=[],l=new ho,h=s.length-1;h>=0;--h)if(!xf(c,s[h])){var f=s[h],d=a[h];d instanceof jh&&(d=d._delegate);var p=o.Bc(f);if(d instanceof Qf)c.push(f);else{var g=_f(d,p);null!=g&&(c.push(f),l.set(f,g))}}var B=new co(c);return new Bf(l.v(),B,o.fieldTransforms)}function Hf(t,e,n,r){return void 0===r&&(r=!1),_f(n,t.Wc(r?4:3,e))}function _f(t,e){if(t instanceof jh&&(t=t._delegate),Df(t))return Rf("Unsupported field value:",e,t),Sf(t,e);if(t instanceof ff)return function(t,e){if(!wf(e.Fc))throw e.Uc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Uc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Mc&&4!==e.Fc)throw e.Uc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,A=0,i=t;A<i.length;A++){var o=_f(i[A],e.qc(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof jh&&(t=t._delegate),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Bo(e.D,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=ii.fromDate(t);return{timestampValue:Fs(e.D,n)}}if(t instanceof ii)return n=new ii(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Fs(e.D,n)};if(t instanceof df)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof hf)return{bytesValue:Is(e.D,t._byteString)};if(t instanceof Wh){n=e.databaseId;var r=t.firestore._databaseId;if(!r.isEqual(n))throw e.Uc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Hs(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Uc("Unsupported field value: "+zh(t))}(t,e)}function Sf(t,e){var n={};return VA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):kA(t,(function(t,r){var A=_f(r,e.kc(t));null!=A&&(n[t]=A)})),{mapValue:{fields:n}}}function Df(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof ii||t instanceof df||t instanceof hf||t instanceof Wh||t instanceof ff)}function Rf(t,e,n){if(!Df(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=zh(n);throw"an object"===r?e.Uc(t+" a custom object"):e.Uc(t+" "+r)}}function Kf(t,e,n){if(e instanceof jh&&(e=e._delegate),e instanceof lf)return e._internalPath;if("string"==typeof e)return Lf(t,e);throw Mf("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Of=new RegExp("[~\\*/\\[\\]]");function Lf(t,e,n){if(e.search(Of)>=0)throw Mf("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(lf.bind.apply(lf,UA([void 0],e.split(".")))))._internalPath}catch(r){throw Mf("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Mf(t,e,n,r,A){var i=r&&!r.isEmpty(),o=void 0!==A,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var a="";return(i||o)&&(a+=" (found",i&&(a+=" in field "+r),o&&(a+=" in document "+A),a+=")"),new JA(qA.INVALID_ARGUMENT,(s+=". ")+t+a)}function xf(t,e){return t.some((function(t){return t.isEqual(e)}))}var Pf=function(){function t(t,e,n,r,A){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=A}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Wh(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new kf(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data().field(Vf("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),kf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return EA(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Pf);function Vf(t,e){return"string"==typeof e?Lf(t,e):e instanceof jh?e._delegate._internalPath:e._internalPath}var zf=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Gf=function(t){function e(e,n,r,A,i,o){var s=this;return(s=t.call(this,e,n,r,A,o)||this)._firestore=e,s._firestoreImpl=e,s.metadata=i,s}return EA(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Xf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data().field(Vf("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Pf),Xf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return EA(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Gf),qf=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new zf(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach((function(r){t.call(e,new Xf(n._firestore,n._userDataWriter,r.key,r,new zf(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query._converter))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new JA(qA.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map((function(e){var r=new Xf(t._firestore,t._userDataWriter,e.doc.key,e.doc,new zf(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter);return e.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new Xf(t._firestore,t._userDataWriter,e.doc.key,e.doc,new zf(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),A=-1,i=-1;return 0!==e.type&&(A=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(i=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Jf(e.type),doc:n,oldIndex:A,newIndex:i}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function Jf(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return SA()}}function jf(t,e){return t instanceof Gf&&e instanceof Gf?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof qf&&e instanceof qf&&t._firestore===e._firestore&&nf(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Wf(t){if(Wi(t)&&0===t.explicitOrderBy.length)throw new JA(qA.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Yf=function(){};function Zf(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,A=e;r<A.length;r++){var i=A[r];t=i._apply(t)}return t}var $f=function(t){function e(e,n,r){var A=this;return(A=t.call(this)||this).zc=e,A.Hc=n,A.Jc=r,A.type="where",A}return EA(e,t),e.prototype._apply=function(t){var e=mf(t.firestore),n=function(t,e,n,r,A,i,o){var s;if(A.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new JA(qA.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+i+"' queries on FieldPath.documentId().");if("in"===i||"not-in"===i){od(o,i);for(var a=[],u=0,c=o;u<c.length;u++){var l=c[u];a.push(id(r,t,l))}s={arrayValue:{values:a}}}else s=id(r,t,o)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||od(o,i),s=Hf(n,"where",o,"in"===i||"not-in"===i);var h=Hi.create(A,i,s);return function(t,e){if(e.g()){var n=Zi(t);if(null!==n&&!n.isEqual(e.field))throw new JA(qA.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Yi(t);null!==r&&sd(0,e.field,r)}var A=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var A=r[n];if(e.indexOf(A.op)>=0)return A.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==A)throw A===e.op?new JA(qA.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new JA(qA.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+A.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.zc,this.Hc,this.Jc);return new Yh(t.firestore,t._converter,function(t,e){var n=t.filters.concat([e]);return new Xi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(Yf),td=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).zc=e,r.Yc=n,r.type="orderBy",r}return EA(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new JA(qA.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new JA(qA.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new ki(e,n);return function(t,e){if(null===Yi(t)){var n=Zi(t);null!==n&&sd(0,n,e.field)}}(t,r),r}(t._query,this.zc,this.Yc);return new Yh(t.firestore,t._converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new Xi(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(Yf),ed=function(t){function e(e,n,r){var A=this;return(A=t.call(this)||this).type=e,A.Xc=n,A.Zc=r,A}return EA(e,t),e.prototype._apply=function(t){return new Yh(t.firestore,t._converter,no(t._query,this.Xc,this.Zc))},e}(Yf),nd=function(t){function e(e,n,r){var A=this;return(A=t.call(this)||this).type=e,A.ta=n,A.ea=r,A}return EA(e,t),e.prototype._apply=function(t){var e=Ad(t,this.type,this.ta,this.ea);return new Yh(t.firestore,t._converter,function(t,e){return new Xi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(Yf),rd=function(t){function e(e,n,r){var A=this;return(A=t.call(this)||this).type=e,A.ta=n,A.ea=r,A}return EA(e,t),e.prototype._apply=function(t){var e=Ad(t,this.type,this.ta,this.ea);return new Yh(t.firestore,t._converter,function(t,e){return new Xi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(Yf);function Ad(t,e,n,r){if(n[0]instanceof jh&&(n[0]=n[0]._delegate),n[0]instanceof Pf)return function(t,e,n,r,A){if(!r)throw new JA(qA.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var i=[],o=0,s=to(t);o<s.length;o++){var a=s[o];if(a.field.isKeyField())i.push(gi(e,r.key));else{var u=r.field(a.field);if(oi(u))throw new JA(qA.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===u){var c=a.field.canonicalString();throw new JA(qA.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+c+"' (used as the orderBy) does not exist.")}i.push(u)}}return new xi(i,A)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var A=mf(t.firestore);return function(t,e,n,r,A,i){var o=t.explicitOrderBy;if(A.length>o.length)throw new JA(qA.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],a=0;a<A.length;a++){var u=A[a];if(o[a].field.isKeyField()){if("string"!=typeof u)throw new JA(qA.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof u);if(!$i(t)&&-1!==u.indexOf("/"))throw new JA(qA.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+u+"' contains a slash.");var c=t.path.child(WA.fromString(u));if(!$A.isDocumentKey(c))throw new JA(qA.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+c+"' is not because it contains an odd number of segments.");var l=new $A(c);s.push(gi(e,l))}else{var h=Hf(n,r,u);s.push(h)}}return new xi(s,i)}(t._query,t.firestore._databaseId,A,e,n,r)}function id(t,e,n){if(n instanceof jh&&(n=n._delegate),"string"==typeof n){if(""===n)throw new JA(qA.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!$i(e)&&-1!==n.indexOf("/"))throw new JA(qA.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(WA.fromString(n));if(!$A.isDocumentKey(r))throw new JA(qA.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return gi(t,new $A(r))}if(n instanceof Wh)return gi(t,n._key);throw new JA(qA.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+zh(n)+".")}function od(t,e){if(!Array.isArray(t)||0===t.length)throw new JA(qA.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new JA(qA.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function sd(t,e,n){if(!n.isEqual(e))throw new JA(qA.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var ad=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),ui(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ri(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Ai(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw SA()}},t.prototype.convertObject=function(t,e){var n=this,r={};return kA(t.fields||{},(function(t,A){r[t]=n.convertValue(A,e)})),r},t.prototype.convertGeoPoint=function(t){return new df(ri(t.latitude),ri(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=si(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(ai(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=ni(t);return new ii(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=WA.fromString(t);DA(na(n));var r=new _h(n.get(1),n.get(3)),A=new $A(n.popFirst(5));return r.isEqual(e)||TA("Document "+A+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),A},t}();function ud(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var cd=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return EA(e,t),e.prototype.convertBytes=function(t){return new hf(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Wh(this.firestore,null,e)},e}(ad),ld=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=mf(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=hd(t,this._firestore),A=ud(r._converter,e,n),i=Ef(this._dataReader,"WriteBatch.set",r._key,A,null!==r._converter,n);return this._mutations.push(i.toMutation(r._key,_o.none())),this},t.prototype.update=function(t,e,n){for(var r=[],A=3;A<arguments.length;A++)r[A-3]=arguments[A];this._verifyNotCommitted();var i,o=hd(t,this._firestore);return e instanceof jh&&(e=e._delegate),i="string"==typeof e||e instanceof lf?Tf(this._dataReader,"WriteBatch.update",o._key,e,n,r):Nf(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(i.toMutation(o._key,_o.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=hd(t,this._firestore);return this._mutations=this._mutations.concat(new Jo(e._key,_o.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new JA(qA.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function hd(t,e){if(t instanceof jh&&(t=t._delegate),t.firestore!==e)throw new JA(qA.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var fd=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return EA(e,t),e.prototype.convertBytes=function(t){return new hf(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Wh(this.firestore,null,e)},e}(ad);function dd(t,e,n){for(var r=[],A=3;A<arguments.length;A++)r[A-3]=arguments[A];t=Gh(t,Wh);var i=Gh(t.firestore,of),o=mf(i);return e instanceof jh&&(e=e._delegate),gd(i,[("string"==typeof e||e instanceof lf?Tf(o,"updateDoc",t._key,e,n,r):Nf(o,"updateDoc",t._key,e)).toMutation(t._key,_o.exists(!0))])}function pd(t){for(var e,n,r,A=[],i=1;i<arguments.length;i++)A[i-1]=arguments[i];t instanceof jh&&(t=t._delegate);var o={includeMetadataChanges:!1},s=0;"object"!=typeof A[s]||Af(A[s])||(o=A[s],s++);var a,u,c,l={includeMetadataChanges:o.includeMetadataChanges};if(Af(A[s])){var h=A[s];A[s]=null===(e=h.next)||void 0===e?void 0:e.bind(h),A[s+1]=null===(n=h.error)||void 0===n?void 0:n.bind(h),A[s+2]=null===(r=h.complete)||void 0===r?void 0:r.bind(h)}if(t instanceof Wh)u=Gh(t.firestore,of),c=Ji(t._key.path),a={next:function(e){A[s]&&A[s](Bd(u,t,e))},error:A[s+1],complete:A[s+2]};else{var f=Gh(t,Yh);u=Gh(f.firestore,of),c=f._query;var d=new fd(u);a={next:function(t){A[s]&&A[s](new qf(u,d,f,t))},error:A[s+1],complete:A[s+2]},Wf(t._query)}return function(t,e,n,r){var A=this,i=new gh(r),o=new bl(e,i,n);return t.asyncQueue.enqueueAndForget((function(){return QA(A,void 0,void 0,(function(){var e;return CA(this,(function(n){switch(n.label){case 0:return e=ml,[4,Ih(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}}))}))})),function(){i.Xo(),t.asyncQueue.enqueueAndForget((function(){return QA(A,void 0,void 0,(function(){var e;return CA(this,(function(n){switch(n.label){case 0:return e=El,[4,Ih(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}}))}))}))}}(sf(u),c,l,a)}function gd(t,e){return function(t,e){var n=this,r=new ba;return t.asyncQueue.enqueueAndForget((function(){return QA(n,void 0,void 0,(function(){var n;return CA(this,(function(A){switch(A.label){case 0:return n=Ll,[4,Fh(t)];case 1:return[2,n.apply(void 0,[A.sent(),e,r])]}}))}))})),r.promise}(sf(t),e)}function Bd(t,e,n){var r=n.docs.get(e._key),A=new fd(t);return new Gf(t,A,e._key,r,new zf(n.hasPendingWrites,n.fromCache),e._converter)}var wd=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return EA(e,t),e.prototype.get=function(e){var n=this,r=hd(e,this._firestore),A=new fd(this._firestore);return t.prototype.get.call(this,e).then((function(t){return new Gf(n._firestore,A,r._key,t._document,new zf(!1,!1),r._converter)}))},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=mf(t)}return t.prototype.get=function(t){var e=this,n=hd(t,this._firestore),r=new cd(this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return SA();var A=t[0];if(A instanceof Ci)return new Pf(e._firestore,r,n._key,null,n._converter);if(A instanceof Qi)return new Pf(e._firestore,r,A.key,A,n._converter);throw SA()}))},t.prototype.set=function(t,e,n){var r=hd(t,this._firestore),A=ud(r._converter,e,n),i=Ef(this._dataReader,"Transaction.set",r._key,A,null!==r._converter,n);return this._transaction.set(r._key,i),this},t.prototype.update=function(t,e,n){for(var r=[],A=3;A<arguments.length;A++)r[A-3]=arguments[A];var i,o=hd(t,this._firestore);return e instanceof jh&&(e=e._delegate),i="string"==typeof e||e instanceof lf?Tf(this._dataReader,"Transaction.update",o._key,e,n,r):Nf(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,i),this},t.prototype.delete=function(t){var e=hd(t,this._firestore);return this._transaction.delete(e._key),this},t}());function yd(){if("undefined"==typeof Uint8Array)throw new JA(qA.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function vd(){if("undefined"==typeof atob)throw new JA(qA.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var md=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return EA(e,t),e.fromBase64String=function(t){return vd(),new e(hf.fromBase64String(t))},e.fromUint8Array=function(t){return yd(),new e(hf.fromUint8Array(t))},e.prototype.toBase64=function(){return vd(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return yd(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(jh),Ed=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){cf(t=Gh(t,of));var n=sf(t),r=t._freezeSettings(),A=new ph;return uf(n,A,new fh(A,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){cf(t=Gh(t,of));var e=sf(t),n=t._freezeSettings(),r=new ph;return uf(e,r,new dh(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new JA(qA.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new ba;return t._queue.enqueueAndForgetEvenWhileRestricted((function(){return QA(e,void 0,void 0,(function(){var e;return CA(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return QA(this,void 0,void 0,(function(){var e;return CA(this,(function(n){switch(n.label){case 0:return Na.At()?(e=t+"main",[4,Na.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(xu(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._delegate)},t}(),Qd=function(t){function e(e,n,r){var A=this;return(A=t.call(this,n)||this).na=r,A.INTERNAL={delete:function(){return A.terminate()}},e instanceof _h||(A.sa=e),A}return EA(e,t),Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=Gh(t,Jh))._getSettings();"firestore.googleapis.com"!==r.host&&r.host!==e&&HA("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._delegate,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return QA(e,void 0,void 0,(function(){var e,n;return CA(this,(function(r){switch(r.label){case 0:return[4,Ch(t)];case 1:return e=r.sent(),[4,bh(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=RA(t);return e.Qr.delete(0),Vc(e)}(n))]}}))}))}))}(sf(Gh(this._delegate,of)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return QA(e,void 0,void 0,(function(){var e,n;return CA(this,(function(r){switch(r.label){case 0:return[4,Ch(t)];case 1:return e=r.sent(),[4,bh(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return QA(this,void 0,void 0,(function(){var e;return CA(this,(function(n){switch(n.label){case 0:return(e=RA(t)).Qr.add(0),[4,zc(e)];case 1:return n.sent(),e.jr.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(sf(Gh(this._delegate,of)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Ph("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.na.enableMultiTabIndexedDbPersistence(this):this.na.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.na.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.sa&&(this.sa._removeServiceInstance("firestore"),this.sa._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new ba;return t.asyncQueue.enqueueAndForget((function(){return QA(e,void 0,void 0,(function(){var e;return CA(this,(function(r){switch(r.label){case 0:return e=zl,[4,Fh(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(sf(Gh(this._delegate,of)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new gh(e);return t.asyncQueue.enqueueAndForget((function(){return QA(n,void 0,void 0,(function(){var e;return CA(this,(function(n){switch(n.label){case 0:return e=function(t,e){RA(t).Zr.add(e),e.next()},[4,Ih(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Xo(),t.asyncQueue.enqueueAndForget((function(){return QA(n,void 0,void 0,(function(){var e;return CA(this,(function(n){switch(n.label){case 0:return e=function(t,e){RA(t).Zr.delete(e)},[4,Ih(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(sf(t=Gh(t,of)),Af(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.sa)throw new JA(qA.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.sa},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Od(this,$h(this._delegate,t))}catch(t){throw Nd(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Id(this,tf(this._delegate,t))}catch(t){throw Nd(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Dd(this,function(t,e){if(t=Gh(t,Jh),Mh("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new JA(qA.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Yh(t,null,function(t){return new Xi(WA.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw Nd(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new ba;return t.asyncQueue.enqueueAndForget((function(){return QA(n,void 0,void 0,(function(){var n;return CA(this,(function(A){switch(A.label){case 0:return[4,function(t){return Qh(t).then((function(t){return t.datastore}))}(t)];case 1:return n=A.sent(),new wh(t.asyncQueue,n,e,r).run(),[2]}}))}))})),r.promise}(sf(t),(function(n){return e(new wd(t,n))}))}(this._delegate,(function(n){return t(new Ud(e,n))}))},e.prototype.batch=function(){var t=this;return sf(this._delegate),new bd(new ld(this._delegate,(function(e){return gd(t._delegate,e)})))},e.prototype.loadBundle=function(t){throw new JA(qA.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new JA(qA.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(jh),Cd=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return EA(e,t),e.prototype.convertBytes=function(t){return new md(new hf(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return Id.ia(e,this.firestore,null)},e}(ad),Ud=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r._userDataWriter=new Cd(e),r}return EA(e,t),e.prototype.get=function(t){var e=this,n=Ld(t);return this._delegate.get(n).then((function(t){return new _d(e._firestore,new Gf(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n._converter))}))},e.prototype.set=function(t,e,n){var r=Ld(t);return n?(xh("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,A=[],i=3;i<arguments.length;i++)A[i-3]=arguments[i];var o=Ld(t);return 2===arguments.length?this._delegate.update(o,e):(r=this._delegate).update.apply(r,UA([o,e,n],A)),this},e.prototype.delete=function(t){var e=Ld(t);return this._delegate.delete(e),this},e}(jh),bd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return EA(e,t),e.prototype.set=function(t,e,n){var r=Ld(t);return n?(xh("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,A=[],i=3;i<arguments.length;i++)A[i-3]=arguments[i];var o=Ld(t);return 2===arguments.length?this._delegate.update(o,e):(r=this._delegate).update.apply(r,UA([o,e,n],A)),this},e.prototype.delete=function(t){var e=Ld(t);return this._delegate.delete(e),this},e.prototype.commit=function(){return this._delegate.commit()},e}(jh),Fd=function(t){function e(e,n,r){var A=this;return(A=t.call(this,r)||this)._firestore=e,A._userDataWriter=n,A}return EA(e,t),e.prototype.fromFirestore=function(t,e){var n=new Xf(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Sd(this._firestore,n),null!=e?e:{})},e.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},e.ra=function(t,n){var r=e.oa,A=r.get(t);A||(A=new WeakMap,r.set(t,A));var i=A.get(n);return i||(i=new e(t,new Cd(t),n),A.set(n,i)),i},e}(jh);Fd.oa=new WeakMap;var Id=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r._userDataWriter=new Cd(e),r}return EA(e,t),e.ca=function(t,n,r){if(t.length%2!=0)throw new JA(qA.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Wh(n._delegate,r,new $A(t)))},e.ia=function(t,n,r){return new e(n,new Wh(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Od(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Od(this.firestore,$h(this._delegate,t))}catch(t){throw Nd(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof jh&&(t=t._delegate),t instanceof Wh&&ef(this._delegate,t)},e.prototype.set=function(t,e){e=xh("DocumentReference.set",e);try{return function(t,e,n){t=Gh(t,Wh);var r=Gh(t.firestore,of),A=ud(t._converter,e,n);return gd(r,[Ef(mf(r),"setDoc",t._key,A,null!==t._converter,n).toMutation(t._key,_o.none())])}(this._delegate,t,e)}catch(t){throw Nd(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?dd(this._delegate,t):dd.apply(void 0,UA([this._delegate,t,e],n))}catch(t){throw Nd(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return gd(Gh((t=this._delegate).firestore,of),[new Jo(t._key,_o.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Td(e),A=Hd(e,(function(e){return new _d(t.firestore,new Gf(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate._converter))}));return pd(this._delegate,r,A)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Gh(t,Wh);var e=Gh(t.firestore,of),n=sf(e),r=new fd(e);return function(t,e){var n=this,r=new ba;return t.asyncQueue.enqueueAndForget((function(){return QA(n,void 0,void 0,(function(){var n;return CA(this,(function(A){switch(A.label){case 0:return n=function(t,e,n){return QA(this,void 0,void 0,(function(){var r,A;return CA(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,function(t,e){var n=RA(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Kn.In(t,e)}))}(t,e)];case 1:return(A=i.sent())instanceof Qi?n.resolve(A):A instanceof Ci?n.resolve(null):n.reject(new JA(qA.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=i.sent(),A=pl(r,"Failed to get document '"+e+" from cache"),n.reject(A),[3,3];case 3:return[2]}}))}))},[4,Uh(t)];case 1:return[2,n.apply(void 0,[A.sent(),e,r])]}}))}))})),r.promise}(n,t._key).then((function(n){return new Gf(e,r,t._key,n,new zf(n instanceof Qi&&n.hasLocalMutations,!0),t._converter)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Gh(t,Wh);var e=Gh(t.firestore,of);return Nh(sf(e),t._key,{source:"server"}).then((function(n){return Bd(e,t,n)}))}(this._delegate):function(t){t=Gh(t,Wh);var e=Gh(t.firestore,of);return Nh(sf(e),t._key).then((function(n){return Bd(e,t,n)}))}(this._delegate)).then((function(t){return new _d(e.firestore,new Gf(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))}))},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Fd.ra(this.firestore,t)):this._delegate.withConverter(null))},e}(jh);function Nd(t,e,n){return t.message=t.message.replace(e,n),t}function Td(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Af(r))return r}return{}}function Hd(t,e){var n,r,A;return{next:function(t){A.next&&A.next(e(t))},error:null===(n=(A=Af(t[0])?t[0]:Af(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(A),complete:null===(r=A.complete)||void 0===r?void 0:r.bind(A)}}var _d=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r}return EA(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new Id(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,e){return this._delegate.get(t,e)},e.prototype.isEqual=function(t){return jf(this._delegate,t._delegate)},e}(jh),Sd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return EA(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(_d),Dd=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r._userDataWriter=new Cd(e),r}return EA(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,Zf(this._delegate,function(t,e,n){var r=e,A=Vf("where",t);return new $f(A,r,n)}(t,n,r)))}catch(t){throw Nd(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Zf(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=Vf("orderBy",t);return new td(r,n)}(t,n)))}catch(t){throw Nd(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Zf(this._delegate,function(t){return Xh("limit",t),new ed("limit",t,"F")}(t)))}catch(t){throw Nd(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Zf(this._delegate,function(t){return Xh("limitToLast",t),new ed("limitToLast",t,"L")}(t)))}catch(t){throw Nd(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Zf(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new nd("startAt",t,!0)}.apply(void 0,t)))}catch(t){throw Nd(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Zf(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new nd("startAfter",t,!1)}.apply(void 0,t)))}catch(t){throw Nd(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Zf(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new rd("endBefore",t,!0)}.apply(void 0,t)))}catch(t){throw Nd(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Zf(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new rd("endAt",t,!1)}.apply(void 0,t)))}catch(t){throw Nd(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return nf(this._delegate,t._delegate)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Gh(t,Yh);var e=Gh(t.firestore,of),n=sf(e),r=new fd(e);return function(t,e){var n=this,r=new ba;return t.asyncQueue.enqueueAndForget((function(){return QA(n,void 0,void 0,(function(){var n;return CA(this,(function(A){switch(A.label){case 0:return n=function(t,e,n){return QA(this,void 0,void 0,(function(){var r,A,i,o,s;return CA(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,ec(t,e,!0)];case 1:return s=a.sent(),r=new Hl(e,s.jn),A=r.Io(s.documents),i=r.applyChanges(A,!1),n.resolve(i.snapshot),[3,3];case 2:return o=a.sent(),s=pl(o,"Failed to execute query '"+e+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,Uh(t)];case 1:return[2,n.apply(void 0,[A.sent(),e,r])]}}))}))})),r.promise}(n,t._query).then((function(n){return new qf(e,r,t,n)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Gh(t,Yh);var e=Gh(t.firestore,of),n=sf(e),r=new fd(e);return Th(n,t._query,{source:"server"}).then((function(n){return new qf(e,r,t,n)}))}(this._delegate):function(t){t=Gh(t,Yh);var e=Gh(t.firestore,of),n=sf(e),r=new fd(e);return Wf(t._query),Th(n,t._query).then((function(n){return new qf(e,r,t,n)}))}(this._delegate)).then((function(t){return new Kd(e.firestore,new qf(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}))},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Td(e),A=Hd(e,(function(e){return new Kd(t.firestore,new qf(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}));return pd(this._delegate,r,A)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Fd.ra(this.firestore,t)):this._delegate.withConverter(null))},e}(jh),Rd=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r}return EA(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Sd(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(jh),Kd=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r}return EA(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new Dd(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map((function(e){return new Sd(t._firestore,e)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map((function(t){return new Rd(e._firestore,t)}))},e.prototype.forEach=function(t,e){var n=this;this._delegate.forEach((function(r){t.call(e,new Sd(n._firestore,r))}))},e.prototype.isEqual=function(t){return jf(this._delegate,t._delegate)},e}(jh),Od=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return EA(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new Id(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Id(this.firestore,void 0===t?tf(this._delegate):tf(this._delegate,t))}catch(t){throw Nd(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Gh(t.firestore,of),r=tf(t),A=ud(t._converter,e);return gd(n,[Ef(mf(t.firestore),"addDoc",r._key,A,null!==t._converter,{}).toMutation(r._key,_o.exists(!1))]).then((function(){return r}))}(this._delegate,t).then((function(t){return new Id(e.firestore,t)}))},e.prototype.isEqual=function(t){return ef(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Fd.ra(this.firestore,t)):this._delegate.withConverter(null))},e}(Dd);function Ld(t){return t instanceof jh&&(t=t._delegate),Gh(t,Wh)}var Md,xd=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(lf.bind.apply(lf,UA([void 0],e))))||this}return EA(e,t),e.documentId=function(){return new e(ZA.keyField().canonicalString())},e.prototype.isEqual=function(t){return t instanceof jh&&(t=t._delegate),t instanceof lf&&this._delegate._internalPath.isEqual(t._internalPath)},e}(jh),Pd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return EA(e,t),e.serverTimestamp=function(){var t=new Uf("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Qf("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new bf("arrayUnion",t)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ff("arrayRemove",t)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new If("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(jh),kd={Firestore:Qd,GeoPoint:df,Timestamp:ii,Blob:md,Transaction:Ud,WriteBatch:bd,DocumentReference:Id,DocumentSnapshot:_d,Query:Dd,QueryDocumentSnapshot:Sd,QuerySnapshot:Kd,CollectionReference:Od,FieldPath:xd,FieldValue:Pd,setLogLevel:function(t){var e;e=t,FA.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new x("firestore",(function(t){return function(t,e){return new Qd(t,new of(t,e),new Ed)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},kd)))})(Md=dt),Md.registerVersion("@firebase/firestore","2.2.1"),dt.initializeApp({apiKey:"AIzaSyA7SO_dJDI61d3L1Snp6SLKGq90HmYk49A",authDomain:"faceicon-review.firebaseapp.com",projectId:"faceicon-review",storageBucket:"faceicon-review.appspot.com",messagingSenderId:"149899542577",appId:"1:149899542577:web:8cc74bd57990ff5183d510",measurementId:"G-2K4E111GF9"});const Vd=dt;dt.firestore(),dt.firestore().collection("faceicons");var zd,Gd=n(1120),Xd=n.n(Gd),qd=function(t,e,n,r){return new(n||(n=Promise))((function(A,i){function o(t){try{a(r.next(t))}catch(t){i(t)}}function s(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?A(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,s)}a((r=r.apply(t,e||[])).next())}))},Jd=function(t,e){var n,r,A,i,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(A=2&i[0]?r.return:i[0]?r.throw||((A=r.return)&&A.call(r),0):r.next)&&!(A=A.call(r,i[1])).done)return A;switch(r=0,A&&(i=[2&i[0],A.value]),i[0]){case 0:case 1:A=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((A=(A=o.trys).length>0&&A[A.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!A||i[1]>A[0]&&i[1]<A[3])){o.label=i[1];break}if(6===i[0]&&o.label<A[1]){o.label=A[1],A=i;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(i);break}A[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(t){i=[6,t],r=0}finally{n=A=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};!function(t){t.BLACK="black",t.BLUE="#629BEAa",t.RED="#FF5823"}(zd||(zd={}));var jd,Wd,Yd={startPosX:0,startPosY:0,bezierControlPosX:0,bezierControlPosY:0,endPosX:0,endPosY:0,maxUShapePos:0,lineWidth:0},Zd={startPosX:0,startPosY:0,endPosX:0,endPosY:0,lineWidth:0,maxEndHeight:0},$d={startPosX:0,startPosY:0,endPosX:0,endPosY:0,lineWidth:0,maxEndHeight:0},tp={pos:0,size:0},ep={pos:0,size:0},np=document.getElementById("review-area__main__make-face-field__Top__emotion-face"),rp=document.getElementById("coordinate"),Ap=document.getElementById("coordinate"),ip=Ap.getContext("2d"),op={width:0,height:0},sp=[],ap=[],up=[],cp=!1,lp=document.getElementById("facial-parts"),hp=lp.getContext("2d"),fp=function(){var t=new Image;t.src="../images/Cordinate.png",t.onload=function(){ip&&ip.drawImage(t,0,0,Ap.width,t.height*Ap.width/t.width)}},dp=function(t,e){gp(),function(t){var e=t*(2*Yd.maxUShapePos)/op.width;e>Yd.maxUShapePos||t<op.height/2?e-=Yd.maxUShapePos:e=0,hp&&(hp.beginPath(),hp.strokeStyle=zd.BLACK,hp.lineWidth=Yd.lineWidth,hp.lineCap="round",hp.globalCompositeOperation="source-over",hp.moveTo(Yd.startPosX,Yd.endPosY),hp.quadraticCurveTo(Yd.bezierControlPosX,Yd.bezierControlPosY+e,Yd.endPosX,Yd.endPosY),hp.stroke())}(t),hp&&(hp.strokeStyle="#333",hp.fillStyle="#000",hp.beginPath(),hp.arc(lp.clientWidth/2+tp.pos,lp.clientHeight/2,10,0,2*Math.PI),hp.closePath(),hp.fill(),hp.beginPath(),hp.arc(lp.clientWidth/2-ep.pos,lp.clientHeight/2,10,0,2*Math.PI),hp.closePath(),hp.fill()),function(t){var e=t*(2*$d.maxEndHeight)/op.height;e>$d.maxEndHeight||t<op.height/2?e-=$d.maxEndHeight:e=0,hp&&(hp.beginPath(),hp.strokeStyle="black",hp.lineWidth=Zd.lineWidth,hp.lineCap="round",hp.globalCompositeOperation="source-over",hp.moveTo(Zd.startPosX,Zd.startPosY+e),hp.lineTo(Zd.endPosX,Zd.endPosY),hp.stroke(),hp.beginPath(),hp.strokeStyle="black",hp.lineWidth=$d.lineWidth,hp.lineCap="round",hp.globalCompositeOperation="source-over",hp.moveTo($d.startPosX,$d.startPosY+e),hp.lineTo($d.endPosX,$d.endPosY),hp.stroke())}(e)},pp=function(){ip&&(ip.clearRect(0,0,ip.canvas.clientWidth,ip.canvas.clientHeight),sp.splice(0),ap.splice(0),fp())},gp=function(){hp&&hp.clearRect(0,0,hp.canvas.clientWidth,hp.canvas.clientHeight)},Bp=function(t,e){return t>=0&&t<200&&e>=0&&e<=200?"Angry":t>=0&&t<=200&&e>200&&e<=400?"Sad":t>=200&&t<=400&&e>200&&e<=400?"Pleasure":t>=200&&t<=400&&e>=0&&e<=200?"Happy":"NONE"},wp=function(t,e){if(t>=0&&t<160&&e>=0&&e<=160){var n={r:255,g:0,b:0};n=v(t,e,t>=e?1:2),np&&(np.style.backgroundColor=A(n.r,n.g,n.b))}else t>=0&&t<=160&&e>240&&e<=400?(n={r:255,g:0,b:0},n=160-t>=e-240?v(160-t,e-240,3):v(t,e,4),np&&(np.style.backgroundColor=A(n.r,n.g,n.b))):t>=240&&t<=400&&e>240&&e<=400?(n={r:255,g:0,b:0},n=v(t-240,e-240,t>=e?6:5),np&&(np.style.backgroundColor=A(n.r,n.g,n.b))):t>=240&&t<=400&&e>=0&&e<=160?(n={r:255,g:0,b:0},t-240>160-e?n=v(t-240,160-e,7):t-240==160-e?console.log("SAME"):n=v(t-240,160-e,8),np&&(np.style.backgroundColor=A(n.r,n.g,n.b))):np&&(np.style.backgroundColor=A(i,o,s))},yp=!1;Ap.addEventListener("mousedown",(function(t){pp(),yp=!0,jd=t.offsetX,Wd=t.offsetY,ip&&(ip.beginPath(),ip.strokeStyle="blue",ip.lineWidth=20,ip.lineCap="round",ip.globalCompositeOperation="source-over",ip.lineTo(jd,Wd),ip.stroke(),hp&&dp(t.offsetX,t.offsetY))})),Ap.addEventListener("touchstart",(function(t){t.preventDefault(),pp(),yp=!0;var e=t.target.getBoundingClientRect();jd=t.changedTouches[0].clientX-e.left,Wd=t.changedTouches[0].clientY-e.top,ip&&(ip.beginPath(),ip.strokeStyle="blue",ip.lineWidth=20,ip.lineCap="round",ip.globalCompositeOperation="source-over",ip.lineTo(jd,Wd),ip.stroke(),hp&&dp(jd,Wd))}),{passive:!1});var vp=0,mp=0,Ep=0,Qp=1/30*1e3;Ap.addEventListener("mousemove",(function(t){if(yp){if(mp=Date.now(),(Ep+=mp-vp)>Qp){var e=t.offsetX,n=t.offsetY;ip&&(ip.beginPath(),ip.strokeStyle=zd.BLACK,ip.lineWidth=2,ip.lineCap="round",ip.globalCompositeOperation="source-over",ip.moveTo(e,n),ip.lineTo(jd,Wd),ip.stroke(),hp&&(dp(e,n),Xd()(np,{scale:1}).then((function(t){up.push(t.toDataURL())})),sp.push(e),ap.push(n))),jd=e,Wd=n,cp&&wp(jd,Wd),Ep=0}vp=Date.now()}})),Ap.addEventListener("touchmove",(function(t){if(t.preventDefault(),yp){if(mp=Date.now(),(Ep+=mp-vp)>Qp){var e=t.target.getBoundingClientRect(),n=t.changedTouches[0].pageX-e.left,r=t.changedTouches[0].pageY-e.top;ip&&(ip.beginPath(),ip.strokeStyle=zd.BLACK,ip.lineWidth=2,ip.lineCap="round",ip.globalCompositeOperation="source-over",ip.moveTo(n,r),ip.lineTo(jd,Wd),ip.stroke(),hp&&(dp(n,r),Xd()(np,{scale:1}).then((function(t){up.push(t.toDataURL())})),sp.push(n),ap.push(r))),jd=n,Wd=r,cp&&wp(jd,Wd),Ep=0}vp=Date.now()}}),{passive:!1}),Ap.addEventListener("mouseup",(function(t){yp=!1,ip&&(ip.beginPath(),ip.strokeStyle="red",ip.lineWidth=20,ip.lineCap="round",ip.globalCompositeOperation="source-over",ip.lineTo(t.offsetX,t.offsetY),ip.stroke())})),Ap.addEventListener("touchend",(function(t){t.preventDefault();var e=t.target.getBoundingClientRect(),n=t.changedTouches[0].pageX-e.left,r=t.changedTouches[0].pageY-e.top;yp=!1,ip&&(ip.beginPath(),ip.strokeStyle="red",ip.lineWidth=20,ip.lineCap="round",ip.globalCompositeOperation="source-over",ip.lineTo(n,r),ip.stroke())}),{passive:!1});var Cp,Up=(qd(void 0,void 0,void 0,(function(){return Jd(this,(function(t){return fp(),function(){if(np)if(rp){np.style.backgroundColor=A(255,194,0),op.width=rp.clientWidth,op.height=rp.clientHeight;var t=np.clientWidth,e=np.clientWidth,n=t/2,r=e/2,i=t/5,o=e/4;Yd.startPosX=n-i,Yd.startPosY=r+o,Yd.bezierControlPosX=n,Yd.bezierControlPosY=r+o,Yd.endPosX=n+i,Yd.endPosY=r+o,Yd.maxUShapePos=t/3,Yd.lineWidth=3,Zd.lineWidth=3,Zd.startPosX=n-33.75,Zd.startPosY=r-24.75,Zd.endPosX=n-15,Zd.endPosY=r-24.75,Zd.maxEndHeight=e/13*.75,$d.lineWidth=3,$d.startPosX=n+33.75,$d.startPosY=r-24.75,$d.endPosX=n+15,$d.endPosY=r-24.75,$d.maxEndHeight=e/9.75,tp.size=18.75,tp.pos=26.25,ep.size=18.75,ep.pos=26.25,dp(op.height/2,op.height/2)}else console.log("ERR! coordinate div-element does not exit");else console.log("ERR! emotion-face div-element does not exit")}(),[2]}))})),[]),bp=[],Fp=function(){var t=Up.shift(),e=bp.shift();dp(t,e),0!=Up.length||0!=bp.length?Cp=requestAnimationFrame(Fp):cancelAnimationFrame(Cp)},Ip="https://storage.googleapis.com/faceicons/",Np=(document.getElementById("gif"),document.getElementById("decide-button"));Np&&(Np.onclick=function(){return qd(void 0,void 0,void 0,(function(){return Jd(this,(function(t){switch(t.label){case 0:return Up=sp.concat(),bp=ap.concat(),Cp=requestAnimationFrame(Fp),[4,r(m(up),"https://emoemoface.herokuapp.com/returnGIF").then((function(t){var e=""+Ip+t;Mp.dynamicFaceIcon=e,_p(t),Rp(e)})).catch((function(t){console.log(t)}))];case 1:return t.sent(),zp(),up=[],[2]}}))}))});var Tp=document.getElementById("gif"),Hp=Tp,_p=function(t){Tp&&(Hp.src=""+Ip+t)},Sp=document.getElementById("setting-face-color");Sp&&(Sp.onclick=function(){cp=!!Sp.checked});var Dp=document.getElementById("result-image"),Rp=function(t){Dp&&(Dp.src=t)},Kp=[],Op=[],Lp=[],Mp={name:"",movieTitle:"",dynamicFaceIcon:"",title:"",canvasImage:"",EmotionalFaceIcon:[],comments:[],dataX:[],dataY:[],emotions:[]},xp=document.getElementById("title"),Pp=document.getElementById("review-comment"),kp=document.getElementById("next-button"),Vp=0;kp&&(kp.onclick=function(){return qd(void 0,void 0,void 0,(function(){var t,e;return Jd(this,(function(n){switch(n.label){case 0:return Vp<4?0!==Vp?[3,2]:(t=Pp.value,Mp.title=t,Mp.dataX=sp,Mp.dataY=ap,Mp.emotions=Op,[4,Vd.firestore().collection("reviewsB3").add(Mp)]):[3,3];case 1:n.sent(),n.label=2;case 2:return e=Pp.value,Lp.push(e),xp.innerHTML="その他 "+(Vp+1)+" ("+(Vp+1)+"/4) さらに感想があればここに書いてください！ なければ飛ばしてください！",Rp(Kp[Vp]),Pp.value="",4===(Vp+=1)&&(console.log("完了"),kp.textContent="DONE"),[3,5];case 3:return e=Pp.value,Lp.push(e),Mp.comments=Lp,Mp.EmotionalFaceIcon=Kp,Mp.canvasImage=Ap.toDataURL(),document.getElementById("review-area__main__input__name__form"),document.getElementById("review-area__main__input__movie-title__form"),[4,Vd.firestore().collection("reviews").add(Mp)];case 4:n.sent(),window.location.reload(),n.label=5;case 5:return[2]}}))}))});var zp=function(){Kp[0]=up[2],Kp[1]=up[.25*up.length|0],Kp[2]=up[.75*up.length|0],Kp[3]=up[up.length-1],Op[0]=Bp(sp[2],ap[2]),Op[1]=Bp(sp[.25*sp.length|0],ap[.25*ap.length|0]),Op[2]=Bp(sp[.75*sp.length|0],ap[.75*ap.length|0]),Op[3]=Bp(sp[sp.length-1],ap[ap.length-1])},Gp=document.getElementById("post-review");Gp&&(Gp.onclick=function(){return qd(void 0,void 0,void 0,(function(){var t,e,n,r,A,i,o,s;return Jd(this,(function(a){switch(a.label){case 0:for(t={name:"",movieTitle:"",dynamicFaceIcon:"",title:"first title",canvasImage:"no url",EmotionalFaceIcon:[],comments:[],dataX:[],dataY:[],emotions:[]},e=document.getElementById("gif"),t.dynamicFaceIcon=e.src,n=document.getElementById("review-title"),t.title=n.value,r=document.getElementsByClassName("InsertedFaceIcon"),o=0;o<4;o++)A=r.item(o),t.EmotionalFaceIcon.push(A.src);for(i=document.getElementsByClassName("comments"),o=0;o<4;o++)s=i.item(o),t.comments.push(s.value);return[4,Vd.firestore().collection("reviews").add(t)];case 1:return a.sent(),window.location.reload(),[2]}}))}))}),$(".js-modal-open").each((function(){$(this).on("click",(function(t){var e=$(this).data("target"),n=document.getElementById(e);return $(n).fadeIn(300),!1}))}))})()})();